2025-04-29 05:25:03.609 | INFO     | swe_log:log_and_print:77 - ['tests/test_ext_autodoc_private_members.py::test_private_members']
2025-04-29 05:25:03.610 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .[test]
2025-04-29 05:25:03.610 | INFO     | swe_log:log_and_print:77 - tox --current-env -epy39 -v -- tests/test_ext_autodoc_private_members.py
2025-04-29 05:25:03.610 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035
2025-04-29 05:25:03.690 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035
2025-04-29 05:25:10.037 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: sphinx-doc__sphinx-8035
2025-04-29 05:25:10.037 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035 && source /root/miniforge3/bin/activate sphinx-doc__sphinx__3.2            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035           && python -m pip install -e .[test] && echo SUCCESS
2025-04-29 05:25:12.700 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-04-29 05:28:14.487 | INFO     | swe_log:log_and_print:77 - Query time: 12.85 seconds
2025-04-29 05:28:15.919 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_codebase("private-members"). Error: No matching method found for: private-members in directory: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035
2025-04-29 05:28:15.957 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_class_in_codebase("AutoDirective"). Error: No matching class found for: AutoDirective in directory: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035
2025-04-29 05:28:15.994 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-04-29 05:28:21.863 | INFO     | swe_log:log_and_print:77 - Query time: 5.87 seconds
2025-04-29 05:28:22.019 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_class_in_codebase("AutoDirective"). Error: No matching class found for: AutoDirective in directory: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035
2025-04-29 05:28:37.658 | INFO     | swe_log:log_and_print:77 - Query time: 15.56 seconds
2025-04-29 05:28:37.660 | INFO     | swe_log:log_and_print:77 - API call 2/4
2025-04-29 05:28:40.120 | INFO     | swe_log:log_and_print:77 - Query time: 2.46 seconds
2025-04-29 05:28:40.127 | INFO     | swe_log:log_and_print:77 - API call 3/4
2025-04-29 05:28:44.367 | INFO     | swe_log:log_and_print:77 - Query time: 4.24 seconds
2025-04-29 05:28:44.373 | INFO     | swe_log:log_and_print:77 - API call 4/4
2025-04-29 05:28:48.544 | INFO     | swe_log:log_and_print:77 - Query time: 4.17 seconds
2025-04-29 05:28:58.684 | INFO     | swe_log:log_and_print:77 - Query time: 10.11 seconds
2025-04-29 05:28:58.690 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:28:58.691 | INFO     | swe_log:log_msg:72 - Search block not found in sphinx/ext/autodoc/__init__.py:
        for (membername, member) in members:
            # do not document excluded members
2025-04-29 05:28:58.691 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 05:29:14.010 | INFO     | swe_log:log_and_print:77 - Query time: 15.32 seconds
2025-04-29 05:29:14.015 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:29:14.017 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:29:14.018 | INFO     | swe_log:log_msg:72 - Search block not found in sphinx/ext/autodoc/__init__.py:
        for (membername, member) in members:
            # do not document excluded members
2025-04-29 05:29:14.018 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 05:29:28.866 | INFO     | swe_log:log_and_print:77 - Query time: 14.85 seconds
2025-04-29 05:29:28.872 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:29:28.875 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:29:28.876 | INFO     | swe_log:log_msg:72 - Search block not found in sphinx/ext/autodoc/__init__.py:
        for (membername, member) in members:
            # do not document excluded members
2025-04-29 05:29:28.876 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 05:29:37.976 | INFO     | swe_log:log_and_print:77 - Query time: 9.10 seconds
2025-04-29 05:29:37.983 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:29:37.984 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:29:37.985 | INFO     | swe_log:log_msg:72 - Search block not found in sphinx/ext/autodoc/__init__.py:
        for (membername, member) in members:
            # do not document excluded members
2025-04-29 05:29:37.985 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 05:29:37.985 | INFO     | swe_log:log_and_print:77 - Failed to apply patch after multiple attempts.
2025-04-29 05:29:37.985 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to apply patch after multiple attempts.
2025-04-29 05:29:37.986 | INFO     | swe_log:log_and_print:77 - 
Restart...(1/4
2025-04-29 05:29:49.538 | INFO     | swe_log:log_and_print:77 - Query time: 11.11 seconds
2025-04-29 05:29:49.584 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(1/5)
2025-04-29 05:29:51.968 | INFO     | swe_log:log_and_print:77 - Query time: 2.38 seconds
2025-04-29 05:29:59.141 | INFO     | swe_log:log_and_print:77 - Query time: 7.02 seconds
2025-04-29 05:29:59.142 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_code_in_codebase(":private-members:"). Error: 'name'
2025-04-29 05:29:59.183 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_codebase("autodoc"). Error: No matching method found for: autodoc in directory: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035
2025-04-29 05:29:59.183 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: No valid API call result.
2025-04-29 05:29:59.183 | INFO     | swe_log:log_and_print:77 - 
Restart...(2/4
2025-04-29 05:30:14.612 | INFO     | swe_log:log_and_print:77 - Query time: 14.99 seconds
2025-04-29 05:30:14.826 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_codebase("get_private_members"). Error: No matching method found for: get_private_members in directory: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035
2025-04-29 05:30:19.184 | INFO     | swe_log:log_and_print:77 - Query time: 4.30 seconds
2025-04-29 05:30:19.185 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid filter reply results found.
Retrying..(1/5)
2025-04-29 05:30:25.188 | INFO     | swe_log:log_and_print:77 - Query time: 6.00 seconds
2025-04-29 05:30:25.189 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No Python code block found in the response.
Retrying..(2/5)
2025-04-29 05:30:29.886 | INFO     | swe_log:log_and_print:77 - Query time: 4.70 seconds
2025-04-29 05:30:29.887 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
too many values to unpack (expected 2)
Retrying..(3/5)
2025-04-29 05:30:33.208 | INFO     | swe_log:log_and_print:77 - Query time: 3.32 seconds
2025-04-29 05:30:33.209 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_code_in_codebase(":private-members:"). Error: 'name'
2025-04-29 05:30:33.209 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-04-29 05:30:36.756 | INFO     | swe_log:log_and_print:77 - Query time: 3.55 seconds
2025-04-29 05:30:36.758 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-04-29 05:30:44.388 | INFO     | swe_log:log_and_print:77 - Query time: 7.61 seconds
2025-04-29 05:30:44.391 | INFO     | swe_log:log_msg:72 - Search block not found in sphinx/ext/autodoc/__init__.py:
            elif want_all and isprivate:
                keep = self.options.private_members and \
                    (has_doc or self.options.undoc_members)
2025-04-29 05:30:44.391 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 05:30:50.863 | INFO     | swe_log:log_and_print:77 - Query time: 6.47 seconds
2025-04-29 05:30:50.866 | INFO     | swe_log:log_msg:72 - Search block not found in sphinx/ext/autodoc/__init__.py:
            elif want_all and isprivate:
                keep = self.options.private_members and \
                    (has_doc or self.options.undoc_members)
2025-04-29 05:30:50.866 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 05:30:59.069 | INFO     | swe_log:log_and_print:77 - Query time: 8.20 seconds
2025-04-29 05:30:59.076 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:30:59.076 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035/sphinx/ext/autodoc/__init__.py.bak
2025-04-29 05:30:59.077 | INFO     | swe_log:log_msg:72 - Applied 1 edits to sphinx/ext/autodoc/__init__.py
2025-04-29 05:30:59.077 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-04-29 05:30:59.501 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 05:30:59.501 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035/sphinx/ext/autodoc/__init__.py.bak
2025-04-29 05:30:59.502 | INFO     | swe_log:log_msg:72 - Applied 1 edits to sphinx/ext/autodoc/__init__.py
2025-04-29 05:31:01.481 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 05:31:01.481 | INFO     | swe_log:log_msg:72 - py39: commands[0]> pytest -rA --durations 25 tests/test_ext_autodoc_private_members.py
============================= test session starts ==============================
platform linux -- Python 3.9.21, pytest-8.3.4, pluggy-1.5.0
cachedir: .tox/py39/.pytest_cache
libraries: Sphinx-3.2.0, docutils-0.21.2
base tempdir: /tmp/pytest-of-root/pytest-374
rootdir: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035
configfile: setup.cfg
plugins: cov-6.0.0
collected 3 items

tests/test_ext_autodoc_private_members.py .F.                            [100%]

=================================== FAILURES ===================================
____________________ test_private_field_and_private_members ____________________

app = <SphinxTestApp buildername='html'>

    @pytest.mark.sphinx('html', testroot='ext-autodoc')
    def test_private_field_and_private_members(app):
        app.config.autoclass_content = 'class'
        options = {"members": None,
                   "private-members": None}
        actual = do_autodoc(app, 'module', 'target.private', options)
>       assert list(actual) == [
            '',
            '.. py:module:: target.private',
            '',
            '',
            '.. py:function:: _public_function(name)',
            '   :module: target.private',
            '',
            '   public_function is a docstring().',
            '',
            '   :meta public:',
            '',
            '',
            '.. py:function:: private_function(name)',
            '   :module: target.private',
            '',
            '   private_function is a docstring().',
            '',
            '   :meta private:',
            '',
        ]
E       AssertionError: assert ['', '.. py:m...private', ...] == ['', '.. py:m...private', ...]
E         
E         Right contains 8 more items, first extra item: ''
E         Use -v to get more diff

tests/test_ext_autodoc_private_members.py:42: AssertionError
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: html
# srcdir: /tmp/pytest-of-root/pytest-374/ext-autodoc
# outdir: /tmp/pytest-of-root/pytest-374/ext-autodoc/_build/html
# status: 
[01mRunning Sphinx v3.2.0[39;49;00m

# warning: 
[91mWARNING: while setting up extension sphinx.addnodes: node class 'meta' is already registered, its visitors will be overridden[39;49;00m

=============================== warnings summary ===============================
sphinx/util/docutils.py:45
  /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035/sphinx/util/docutils.py:45: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    __version_info__ = tuple(LooseVersion(docutils.__version__).version)

sphinx/registry.py:22
  /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035/sphinx/registry.py:22: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html
    from pkg_resources import iter_entry_points

../../../../../root/miniforge3/envs/sphinx-doc__sphinx__3.2/lib/python3.9/site-packages/pkg_resources/__init__.py:3149
../../../../../root/miniforge3/envs/sphinx-doc__sphinx__3.2/lib/python3.9/site-packages/pkg_resources/__init__.py:3149
../../../../../root/miniforge3/envs/sphinx-doc__sphinx__3.2/lib/python3.9/site-packages/pkg_resources/__init__.py:3149
../../../../../root/miniforge3/envs/sphinx-doc__sphinx__3.2/lib/python3.9/site-packages/pkg_resources/__init__.py:3149
  /root/miniforge3/envs/sphinx-doc__sphinx__3.2/lib/python3.9/site-packages/pkg_resources/__init__.py:3149: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(pkg)

sphinx/directives/patches.py:15
  /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035/sphinx/directives/patches.py:15: DeprecationWarning: The `docutils.parsers.rst.directive.html` module will be removed in Docutils 2.0. Since Docutils 0.18, the "Meta" node is defined in `docutils.parsers.rst.directives.misc`.
    from docutils.parsers.rst.directives import images, html, tables

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
==================================== PASSES ====================================
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: html
# srcdir: /tmp/pytest-of-root/pytest-374/ext-autodoc
# outdir: /tmp/pytest-of-root/pytest-374/ext-autodoc/_build/html
# status: 
[01mRunning Sphinx v3.2.0[39;49;00m

# warning: 
[91mWARNING: while setting up extension sphinx.addnodes: node class 'meta' is already registered, its visitors will be overridden[39;49;00m

--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: html
# srcdir: /tmp/pytest-of-root/pytest-374/ext-autodoc
# outdir: /tmp/pytest-of-root/pytest-374/ext-autodoc/_build/html
# status: 
[01mRunning Sphinx v3.2.0[39;49;00m

# warning: 
[91mWARNING: while setting up extension sphinx.addnodes: node class 'meta' is already registered, its visitors will be overridden[39;49;00m

============================= slowest 25 durations =============================
0.16s setup    tests/test_ext_autodoc_private_members.py::test_private_field
0.01s setup    tests/test_ext_autodoc_private_members.py::test_private_field_and_private_members
0.01s setup    tests/test_ext_autodoc_private_members.py::test_private_members
0.01s call     tests/test_ext_autodoc_private_members.py::test_private_field

(5 durations < 0.005s hidden.  Use -vv to show these durations.)
=========================== short test summary info ============================
PASSED tests/test_ext_autodoc_private_members.py::test_private_field
PASSED tests/test_ext_autodoc_private_members.py::test_private_members
FAILED tests/test_ext_autodoc_private_members.py::test_private_field_and_private_members
=================== 1 failed, 2 passed, 7 warnings in 0.43s ====================
py39: exit 1 (1.00 seconds) /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8035> pytest -rA --durations 25 tests/test_ext_autodoc_private_members.py pid=1110990
  py39: FAIL code 1 (1.03=setup[0.02]+cmd[1.00] seconds)
  evaluation failed :( (1.14 seconds)


2025-04-29 05:31:01.482 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 05:31:01.482 | INFO     | swe_log:log_msg:72 - ERROR conda.cli.main_run:execute(125): `conda run tox --current-env -epy39 -v -- tests/test_ext_autodoc_private_members.py` failed. (See above for error)

