2025-04-29 11:24:41.953 | INFO     | swe_log:log_and_print:77 - ['test_referenced_window_requires_wrapping (aggregation.tests.AggregateAnnotationPruningTests.test_referenced_window_requires_wrapping)']
2025-04-29 11:24:41.954 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-04-29 11:24:41.954 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 aggregation.tests
2025-04-29 11:24:41.954 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-17084
2025-04-29 11:24:42.416 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-17084
2025-04-29 11:24:49.052 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: django__django-17084
2025-04-29 11:24:49.052 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-17084 && source /root/miniforge3/bin/activate django__django__5.0            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-17084           && python -m pip install -e . && echo SUCCESS
2025-04-29 11:24:54.452 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-04-29 11:25:03.088 | INFO     | swe_log:log_and_print:77 - Query time: 5.45 seconds
2025-04-29 11:25:03.091 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: File src/run_debugging_test.py not found
Retrying..(1/5)
2025-04-29 11:25:09.099 | INFO     | swe_log:log_and_print:77 - Query time: 6.01 seconds
2025-04-29 11:25:09.105 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 11:25:09.106 | INFO     | swe_log:log_and_print:77 - choose buggy method: run_debugging_test.py:debugging_test_execution_wrapper
2025-04-29 11:25:09.106 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-17084 &&                                 source /root/miniforge3/bin/activate django__django__5.0 && python /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
2025-04-29 11:25:09.665 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 11:25:09.666 | INFO     | swe_log:log_msg:72 - 
2025-04-29 11:25:09.666 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 11:25:09.667 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-17084/reproduce.py", line 5, in <module>
    from django.db.models.functions import Coalesce, Window
ImportError: cannot import name 'Window' from 'django.db.models.functions' (/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/functions/__init__.py)

2025-04-29 11:25:13.810 | INFO     | swe_log:log_and_print:77 - Query time: 4.11 seconds
2025-04-29 11:25:13.814 | INFO     | swe_log:log_and_print:77 - API call 1/2
2025-04-29 11:25:15.622 | INFO     | swe_log:log_and_print:77 - Query time: 1.81 seconds
2025-04-29 11:25:15.625 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_code_in_file("run_debugging_test.py", "import sys"). Error: Code snippet 'import sys' not found in file '/data/swe-fl/SRC/DebuggingAgent/src/run_debugging_test.py'.
2025-04-29 11:25:15.625 | INFO     | swe_log:log_and_print:77 - API call 2/2
2025-04-29 11:25:17.080 | INFO     | swe_log:log_and_print:77 - Query time: 1.45 seconds
2025-04-29 11:25:29.401 | INFO     | swe_log:log_and_print:77 - Query time: 12.29 seconds
2025-04-29 11:25:29.403 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:25:29.404 | INFO     | swe_log:log_msg:72 - Applied 1 edits to ../../../SRC/DebuggingAgent/src/run_debugging_test.py
2025-04-29 11:25:29.404 | INFO     | swe_log:log_msg:72 - File not found: /data/swe-fl/TMP/testbed/django__django-17084/django_application/your_model.py
2025-04-29 11:25:29.405 | INFO     | swe_log:log_msg:72 - Restored backup for ../../../SRC/DebuggingAgent/src/run_debugging_test.py
2025-04-29 11:25:29.405 | INFO     | swe_log:log_and_print:77 - Error applying patch: File not found: /data/swe-fl/TMP/testbed/django__django-17084/django_application/your_model.py, Retrying..
2025-04-29 11:25:45.762 | INFO     | swe_log:log_and_print:77 - Query time: 16.36 seconds
2025-04-29 11:25:45.764 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:25:45.765 | INFO     | swe_log:log_msg:72 - Applied 1 edits to ../../../SRC/DebuggingAgent/src/run_debugging_test.py
2025-04-29 11:25:45.766 | INFO     | swe_log:log_msg:72 - File not found: /data/swe-fl/TMP/testbed/django__django-17084/django_application/your_model.py
2025-04-29 11:25:45.766 | INFO     | swe_log:log_msg:72 - Restored backup for ../../../SRC/DebuggingAgent/src/run_debugging_test.py
2025-04-29 11:25:45.767 | INFO     | swe_log:log_and_print:77 - Error applying patch: File not found: /data/swe-fl/TMP/testbed/django__django-17084/django_application/your_model.py, Retrying..
2025-04-29 11:26:04.892 | INFO     | swe_log:log_and_print:77 - Query time: 19.13 seconds
2025-04-29 11:26:04.894 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:26:04.895 | INFO     | swe_log:log_msg:72 - Applied 1 edits to ../../../SRC/DebuggingAgent/src/run_debugging_test.py
2025-04-29 11:26:04.895 | INFO     | swe_log:log_msg:72 - File not found: /data/swe-fl/TMP/testbed/django__django-17084/your_django_app/models.py
2025-04-29 11:26:04.896 | INFO     | swe_log:log_msg:72 - Restored backup for ../../../SRC/DebuggingAgent/src/run_debugging_test.py
2025-04-29 11:26:04.896 | INFO     | swe_log:log_and_print:77 - Error applying patch: File not found: /data/swe-fl/TMP/testbed/django__django-17084/your_django_app/models.py, Retrying..
2025-04-29 11:26:10.003 | INFO     | swe_log:log_and_print:77 - Query time: 5.11 seconds
2025-04-29 11:26:10.006 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:26:10.007 | INFO     | swe_log:log_msg:72 - Applied 1 edits to ../../../SRC/DebuggingAgent/src/run_debugging_test.py
2025-04-29 11:26:10.007 | INFO     | swe_log:log_msg:72 - File not found: /data/swe-fl/TMP/testbed/django__django-17084/your_django_app/models.py
2025-04-29 11:26:10.008 | INFO     | swe_log:log_msg:72 - Restored backup for ../../../SRC/DebuggingAgent/src/run_debugging_test.py
2025-04-29 11:26:10.008 | INFO     | swe_log:log_and_print:77 - Error applying patch: File not found: /data/swe-fl/TMP/testbed/django__django-17084/your_django_app/models.py, Retrying..
2025-04-29 11:26:10.009 | INFO     | swe_log:log_and_print:77 - Failed to apply patch after multiple attempts.
2025-04-29 11:26:10.009 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to apply patch after multiple attempts.
2025-04-29 11:26:10.009 | INFO     | swe_log:log_and_print:77 - 
Restart...(1/4
2025-04-29 11:26:16.804 | INFO     | swe_log:log_and_print:77 - Query time: 5.54 seconds
2025-04-29 11:26:16.810 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 11:26:16.811 | INFO     | swe_log:log_and_print:77 - choose buggy method: reproduce.py:print_stacktrace
2025-04-29 11:26:16.811 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-17084 &&                                 source /root/miniforge3/bin/activate django__django__5.0 && python /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
2025-04-29 11:26:17.365 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 11:26:17.365 | INFO     | swe_log:log_msg:72 - 
2025-04-29 11:26:17.366 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 11:26:17.366 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-17084/reproduce.py", line 5, in <module>
    from django.db.models.functions import Coalesce, Window
ImportError: cannot import name 'Window' from 'django.db.models.functions' (/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/functions/__init__.py)

2025-04-29 11:26:20.888 | INFO     | swe_log:log_and_print:77 - Query time: 3.50 seconds
2025-04-29 11:26:30.251 | INFO     | swe_log:log_and_print:77 - Query time: 3.17 seconds
2025-04-29 11:26:30.254 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_code_in_codebase("queryset.aggregate"). Error: 'name'
2025-04-29 11:26:30.254 | INFO     | swe_log:log_and_print:77 - API call 1/2
2025-04-29 11:26:31.389 | INFO     | swe_log:log_and_print:77 - Query time: 1.13 seconds
2025-04-29 11:26:31.392 | INFO     | swe_log:log_and_print:77 - API call 2/2
2025-04-29 11:26:32.663 | INFO     | swe_log:log_and_print:77 - Query time: 1.27 seconds
2025-04-29 11:26:42.158 | INFO     | swe_log:log_and_print:77 - Query time: 9.47 seconds
2025-04-29 11:26:42.160 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:26:42.161 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:26:42.162 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py.bak
2025-04-29 11:26:42.162 | INFO     | swe_log:log_msg:72 - Applied 2 edits to reproduce.py
2025-04-29 11:26:42.163 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-17084 &&                                 source /root/miniforge3/bin/activate django__django__5.0 && python /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
2025-04-29 11:26:42.465 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 11:26:42.466 | INFO     | swe_log:log_msg:72 - 
2025-04-29 11:26:42.466 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 11:26:42.466 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-17084/reproduce.py", line 6, in <module>
    from django.db.models.functions import Coalesce, Window
ImportError: cannot import name 'Window' from 'django.db.models.functions' (/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/functions/__init__.py)

2025-04-29 11:26:45.816 | INFO     | swe_log:log_and_print:77 - Query time: 3.32 seconds
2025-04-29 11:26:45.818 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(1/4)
2025-04-29 11:26:53.175 | INFO     | swe_log:log_and_print:77 - Query time: 6.12 seconds
2025-04-29 11:26:53.178 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:26:53.179 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:26:53.179 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py.bak
2025-04-29 11:26:53.180 | INFO     | swe_log:log_msg:72 - Applied 2 edits to reproduce.py
2025-04-29 11:26:53.181 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-17084 &&                                 source /root/miniforge3/bin/activate django__django__5.0 && python /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
2025-04-29 11:26:53.731 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 11:26:53.732 | INFO     | swe_log:log_msg:72 - 
2025-04-29 11:26:53.732 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 11:26:53.732 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-17084/reproduce.py", line 5, in <module>
    from django.db.models.functions import Coalesce, Window
ImportError: cannot import name 'Window' from 'django.db.models.functions' (/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/functions/__init__.py)

2025-04-29 11:27:04.553 | INFO     | swe_log:log_and_print:77 - Query time: 10.79 seconds
2025-04-29 11:27:04.555 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(2/4)
2025-04-29 11:27:20.563 | INFO     | swe_log:log_and_print:77 - Query time: 14.76 seconds
2025-04-29 11:27:20.566 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:27:20.567 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:27:20.568 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py.bak
2025-04-29 11:27:20.568 | INFO     | swe_log:log_msg:72 - Applied 2 edits to reproduce.py
2025-04-29 11:27:20.568 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-17084 &&                                 source /root/miniforge3/bin/activate django__django__5.0 && python /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
2025-04-29 11:27:21.125 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 11:27:21.126 | INFO     | swe_log:log_msg:72 - 
2025-04-29 11:27:21.127 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 11:27:21.127 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-17084/reproduce.py", line 5, in <module>
    from django.db.models.functions import Coalesce, Window
ImportError: cannot import name 'Window' from 'django.db.models.functions' (/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/functions/__init__.py)

2025-04-29 11:27:24.510 | INFO     | swe_log:log_and_print:77 - Query time: 3.36 seconds
2025-04-29 11:27:24.511 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(3/4)
2025-04-29 11:27:45.980 | INFO     | swe_log:log_and_print:77 - Query time: 20.25 seconds
2025-04-29 11:27:45.982 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:27:45.983 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:27:45.984 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py.bak
2025-04-29 11:27:45.984 | INFO     | swe_log:log_msg:72 - Applied 2 edits to reproduce.py
2025-04-29 11:27:45.984 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-17084 &&                                 source /root/miniforge3/bin/activate django__django__5.0 && python /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
2025-04-29 11:27:46.136 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 11:27:46.137 | INFO     | swe_log:log_msg:72 - 
2025-04-29 11:27:46.137 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 11:27:46.137 | INFO     | swe_log:log_msg:72 -   File "/data/swe-fl/TMP/testbed/django__django-17084/reproduce.py", line 66
    queryset = TestModel.objects.annotate(
                                         ^
SyntaxError: '(' was never closed

2025-04-29 11:27:58.939 | INFO     | swe_log:log_and_print:77 - Query time: 12.78 seconds
2025-04-29 11:27:58.940 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(4/4)
2025-04-29 11:28:04.130 | INFO     | swe_log:log_and_print:77 - Query time: 3.94 seconds
2025-04-29 11:28:04.132 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:28:04.133 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py.bak
2025-04-29 11:28:04.134 | INFO     | swe_log:log_msg:72 - Applied 1 edits to reproduce.py
2025-04-29 11:28:04.135 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-17084 &&                                 source /root/miniforge3/bin/activate django__django__5.0 && python /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
2025-04-29 11:28:04.683 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 11:28:04.684 | INFO     | swe_log:log_msg:72 - 
2025-04-29 11:28:04.684 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 11:28:04.684 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-17084/reproduce.py", line 6, in <module>
    from django.db.models.functions import Coalesce, Window
ImportError: cannot import name 'Window' from 'django.db.models.functions' (/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/functions/__init__.py)

2025-04-29 11:28:22.279 | INFO     | swe_log:log_and_print:77 - Query time: 17.56 seconds
2025-04-29 11:28:22.280 | INFO     | swe_log:log_and_print:77 - Unable to pass reviewer
2025-04-29 11:28:22.281 | INFO     | swe_log:log_and_print:77 - 
Restart...(2/4
2025-04-29 11:28:28.205 | INFO     | swe_log:log_and_print:77 - Query time: 4.69 seconds
2025-04-29 11:28:28.208 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: <module> in file: /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
Retrying..(1/5)
2025-04-29 11:28:49.344 | INFO     | swe_log:log_and_print:77 - Query time: 21.14 seconds
2025-04-29 11:28:49.347 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 11:28:49.349 | INFO     | swe_log:log_and_print:77 - choose method: django/db/models/query.py:QuerySet.annotate
2025-04-29 11:28:59.902 | INFO     | swe_log:log_and_print:77 - Query time: 9.38 seconds
2025-04-29 11:28:59.907 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/models/query.py:1600-1605
2025-04-29 11:29:08.703 | INFO     | swe_log:log_and_print:77 - Query time: 7.86 seconds
2025-04-29 11:29:08.707 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-29 11:29:08.709 | INFO     | swe_log:log_and_print:77 - choose method: django/db/models/query.py:QuerySet._annotate
2025-04-29 11:29:17.653 | INFO     | swe_log:log_and_print:77 - Query time: 8.04 seconds
2025-04-29 11:29:17.657 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: {relevant_method_range} in file: /data/swe-fl/TMP/testbed/django__django-17084/django/db/models/sql/query.py
Retrying..(1/5)
2025-04-29 11:29:23.900 | INFO     | swe_log:log_and_print:77 - Query time: 6.24 seconds
2025-04-29 11:29:23.902 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(2/5)
2025-04-29 11:29:28.787 | INFO     | swe_log:log_and_print:77 - Query time: 4.88 seconds
2025-04-29 11:29:28.791 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/models/query.py:1650-1659
2025-04-29 11:29:33.520 | INFO     | swe_log:log_and_print:77 - Query time: 3.83 seconds
2025-04-29 11:29:33.524 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 3
2025-04-29 11:29:33.525 | INFO     | swe_log:log_and_print:77 - choose method: django/db/models/sql/query.py:Query.add_annotation
2025-04-29 11:29:38.436 | INFO     | swe_log:log_and_print:77 - Query time: 4.01 seconds
2025-04-29 11:29:38.440 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/models/sql/query.py:1150-1160
2025-04-29 11:29:52.954 | INFO     | swe_log:log_and_print:77 - Query time: 13.59 seconds
2025-04-29 11:29:52.957 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: Invalid trace reply format.
Retrying..(1/5)
2025-04-29 11:29:57.219 | INFO     | swe_log:log_and_print:77 - Query time: 4.26 seconds
2025-04-29 11:29:57.221 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: SQLCompiler.compile in file: /data/swe-fl/TMP/testbed/django__django-17084/django/db/models/sql/query.py
Retrying..(2/5)
2025-04-29 11:30:21.990 | INFO     | swe_log:log_and_print:77 - Query time: 24.77 seconds
2025-04-29 11:30:21.992 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: SQLCompiler.compile in file: /data/swe-fl/TMP/testbed/django__django-17084/django/db/models/sql/query.py
Retrying..(3/5)
2025-04-29 11:30:28.409 | INFO     | swe_log:log_and_print:77 - Query time: 6.42 seconds
2025-04-29 11:30:28.411 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: 5 in file: /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py
Retrying..(4/5)
2025-04-29 11:30:35.435 | INFO     | swe_log:log_and_print:77 - Query time: 7.02 seconds
2025-04-29 11:30:35.438 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 4
2025-04-29 11:30:35.440 | INFO     | swe_log:log_and_print:77 - choose method: django/db/models/sql/query.py:Query.add_annotation
2025-04-29 11:30:45.499 | INFO     | swe_log:log_and_print:77 - Query time: 9.09 seconds
2025-04-29 11:30:45.504 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/models/sql/query.py:1150-1160
2025-04-29 11:30:52.042 | INFO     | swe_log:log_and_print:77 - Query time: 5.63 seconds
2025-04-29 11:30:52.046 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to locate buggy method
2025-04-29 11:30:52.047 | INFO     | swe_log:log_and_print:77 - 
Restart...(3/4
2025-04-29 11:30:57.565 | INFO     | swe_log:log_and_print:77 - Query time: 4.28 seconds
2025-04-29 11:30:57.567 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: run_debugging_test in file: /data/swe-fl/SRC/DebuggingAgent/src/run_debugging_test.py
Retrying..(1/5)
2025-04-29 11:31:04.296 | INFO     | swe_log:log_and_print:77 - Query time: 6.73 seconds
2025-04-29 11:31:04.298 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: Invalid trace reply format.
Retrying..(2/5)
2025-04-29 11:31:09.364 | INFO     | swe_log:log_and_print:77 - Query time: 5.07 seconds
2025-04-29 11:31:09.367 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 11:31:09.369 | INFO     | swe_log:log_and_print:77 - choose method: django/db/models/query.py:QuerySet.annotate
2025-04-29 11:31:29.298 | INFO     | swe_log:log_and_print:77 - Query time: 18.76 seconds
2025-04-29 11:31:29.300 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/models/query.py:1602-1610
2025-04-29 11:31:34.635 | INFO     | swe_log:log_and_print:77 - Query time: 4.42 seconds
2025-04-29 11:31:34.637 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-29 11:31:34.638 | INFO     | swe_log:log_and_print:77 - choose method: django/db/models/query.py:QuerySet._annotate
2025-04-29 11:31:54.923 | INFO     | swe_log:log_and_print:77 - Query time: 19.39 seconds
2025-04-29 11:31:54.927 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: {START_LOC}-{END_LOC} in file: /data/swe-fl/TMP/testbed/django__django-17084/django/db/models/sql/query.py
Retrying..(1/5)
2025-04-29 11:32:04.265 | INFO     | swe_log:log_and_print:77 - Query time: 9.34 seconds
2025-04-29 11:32:04.268 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 3
2025-04-29 11:32:04.270 | INFO     | swe_log:log_and_print:77 - choose method: django/db/models/sql/query.py:Query.add_annotation
2025-04-29 11:32:12.910 | INFO     | swe_log:log_and_print:77 - Query time: 7.73 seconds
2025-04-29 11:32:12.913 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/models/sql/compiler.py:406-440
2025-04-29 11:32:34.409 | INFO     | swe_log:log_and_print:77 - Query time: 20.60 seconds
2025-04-29 11:32:34.412 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: SQLCompiler.get_annotated_select in file: /data/swe-fl/TMP/testbed/django__django-17084/django/db/models/sql/compiler.py
Retrying..(1/5)
2025-04-29 11:32:40.536 | INFO     | swe_log:log_and_print:77 - Query time: 6.12 seconds
2025-04-29 11:32:40.539 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: Invalid trace reply format.
Retrying..(2/5)
2025-04-29 11:32:45.882 | INFO     | swe_log:log_and_print:77 - Query time: 5.34 seconds
2025-04-29 11:32:45.884 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 4
2025-04-29 11:32:45.886 | INFO     | swe_log:log_and_print:77 - choose method: django/db/models/sql/compiler.py:SQLCompiler.compile
2025-04-29 11:32:52.630 | INFO     | swe_log:log_and_print:77 - Query time: 5.85 seconds
2025-04-29 11:32:52.633 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(1/5)
2025-04-29 11:33:00.793 | INFO     | swe_log:log_and_print:77 - Query time: 8.16 seconds
2025-04-29 11:33:00.797 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/models/sql/compiler.py:500-560
2025-04-29 11:33:20.792 | INFO     | swe_log:log_and_print:77 - Query time: 19.10 seconds
2025-04-29 11:33:20.794 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to locate buggy method
2025-04-29 11:33:20.795 | INFO     | swe_log:log_and_print:77 - 
Restart...(4/4
2025-04-29 11:33:20.795 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-04-29 11:33:22.029 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 11:33:22.030 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-17084/reproduce.py.bak
2025-04-29 11:33:22.030 | INFO     | swe_log:log_msg:72 - Applied 1 edits to reproduce.py
2025-04-29 11:33:23.930 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 11:33:23.931 | INFO     | swe_log:log_msg:72 - Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-17084/django'
Importing application aggregation
Found 108 test(s).
Skipping setup of unused database(s): other.
Operations to perform:
  Synchronize unmigrated apps: aggregation, auth, contenttypes, messages, sessions, staticfiles
  Apply all migrations: admin, sites
Synchronizing apps without migrations:
  Creating tables...
    Creating table django_content_type
    Creating table auth_permission
    Creating table auth_group
    Creating table auth_user
    Creating table django_session
    Creating table aggregation_author
    Creating table aggregation_publisher
    Creating table aggregation_book
    Creating table aggregation_store
    Running deferred SQL...
Running migrations:
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying sites.0001_initial... OK
  Applying sites.0002_alter_domain_unique... OK
System check identified no issues (0 silenced).


2025-04-29 11:33:23.931 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 11:33:23.931 | INFO     | swe_log:log_msg:72 - Creating test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...
test_non_aggregate_annotation_pruned (aggregation.tests.AggregateAnnotationPruningTests.test_non_aggregate_annotation_pruned) ... ok
test_referenced_aggregate_annotation_kept (aggregation.tests.AggregateAnnotationPruningTests.test_referenced_aggregate_annotation_kept) ... ok
test_referenced_group_by_annotation_kept (aggregation.tests.AggregateAnnotationPruningTests.test_referenced_group_by_annotation_kept) ... ok
test_referenced_subquery_requires_wrapping (aggregation.tests.AggregateAnnotationPruningTests.test_referenced_subquery_requires_wrapping) ... ok
test_referenced_window_requires_wrapping (aggregation.tests.AggregateAnnotationPruningTests.test_referenced_window_requires_wrapping) ... ERROR
test_unreferenced_aggregate_annotation_pruned (aggregation.tests.AggregateAnnotationPruningTests.test_unreferenced_aggregate_annotation_pruned) ... ok
test_unused_aliased_aggregate_pruned (aggregation.tests.AggregateAnnotationPruningTests.test_unused_aliased_aggregate_pruned) ... ok
test_add_implementation (aggregation.tests.AggregateTestCase.test_add_implementation) ... ok
test_aggregate_alias (aggregation.tests.AggregateTestCase.test_aggregate_alias) ... ok
test_aggregate_annotation (aggregation.tests.AggregateTestCase.test_aggregate_annotation) ... ok
test_aggregate_in_order_by (aggregation.tests.AggregateTestCase.test_aggregate_in_order_by) ... ok
test_aggregate_join_transform (aggregation.tests.AggregateTestCase.test_aggregate_join_transform) ... ok
test_aggregate_multi_join (aggregation.tests.AggregateTestCase.test_aggregate_multi_join) ... ok
test_aggregate_over_aggregate (aggregation.tests.AggregateTestCase.test_aggregate_over_aggregate) ... ok
test_aggregate_over_complex_annotation (aggregation.tests.AggregateTestCase.test_aggregate_over_complex_annotation) ... ok
test_aggregate_transform (aggregation.tests.AggregateTestCase.test_aggregate_transform) ... ok
test_aggregation_default_after_annotation (aggregation.tests.AggregateTestCase.test_aggregation_default_after_annotation) ... ok
test_aggregation_default_compound_expression (aggregation.tests.AggregateTestCase.test_aggregation_default_compound_expression) ... ok
test_aggregation_default_expression (aggregation.tests.AggregateTestCase.test_aggregation_default_expression) ... ok
test_aggregation_default_group_by (aggregation.tests.AggregateTestCase.test_aggregation_default_group_by) ... ok
test_aggregation_default_integer (aggregation.tests.AggregateTestCase.test_aggregation_default_integer) ... ok
test_aggregation_default_not_in_aggregate (aggregation.tests.AggregateTestCase.test_aggregation_default_not_in_aggregate) ... ok
test_aggregation_default_passed_another_aggregate (aggregation.tests.AggregateTestCase.test_aggregation_default_passed_another_aggregate) ... ok
test_aggregation_default_unset (aggregation.tests.AggregateTestCase.test_aggregation_default_unset) ... ok
test_aggregation_default_unsupported_by_count (aggregation.tests.AggregateTestCase.test_aggregation_default_unsupported_by_count) ... ok
test_aggregation_default_using_date_from_database (aggregation.tests.AggregateTestCase.test_aggregation_default_using_date_from_database) ... ok
test_aggregation_default_using_date_from_python (aggregation.tests.AggregateTestCase.test_aggregation_default_using_date_from_python) ... ok
test_aggregation_default_using_datetime_from_database (aggregation.tests.AggregateTestCase.test_aggregation_default_using_datetime_from_database) ... ok
test_aggregation_default_using_datetime_from_python (aggregation.tests.AggregateTestCase.test_aggregation_default_using_datetime_from_python) ... ok
test_aggregation_default_using_decimal_from_database (aggregation.tests.AggregateTestCase.test_aggregation_default_using_decimal_from_database) ... ok
test_aggregation_default_using_decimal_from_python (aggregation.tests.AggregateTestCase.test_aggregation_default_using_decimal_from_python) ... ok
test_aggregation_default_using_duration_from_database (aggregation.tests.AggregateTestCase.test_aggregation_default_using_duration_from_database) ... ok
test_aggregation_default_using_duration_from_python (aggregation.tests.AggregateTestCase.test_aggregation_default_using_duration_from_python) ... ok
test_aggregation_default_using_time_from_database (aggregation.tests.AggregateTestCase.test_aggregation_default_using_time_from_database) ... ok
test_aggregation_default_using_time_from_python (aggregation.tests.AggregateTestCase.test_aggregation_default_using_time_from_python) ... ok
test_aggregation_default_zero (aggregation.tests.AggregateTestCase.test_aggregation_default_zero) ... ok
test_aggregation_exists_annotation (aggregation.tests.AggregateTestCase.test_aggregation_exists_annotation) ... ok
test_aggregation_exists_multivalued_outeref (aggregation.tests.AggregateTestCase.test_aggregation_exists_multivalued_outeref) ... ok
test_aggregation_expressions (aggregation.tests.AggregateTestCase.test_aggregation_expressions) ... ok
test_aggregation_filter_exists (aggregation.tests.AggregateTestCase.test_aggregation_filter_exists) ... ok
test_aggregation_nested_subquery_outerref (aggregation.tests.AggregateTestCase.test_aggregation_nested_subquery_outerref) ... ok
test_aggregation_order_by_not_selected_annotation_values (aggregation.tests.AggregateTestCase.test_aggregation_order_by_not_selected_annotation_values) ... ok
test_aggregation_random_ordering (aggregation.tests.AggregateTestCase.test_aggregation_random_ordering)
Random() is not included in the GROUP BY when used for ordering. ... ok
test_aggregation_subquery_annotation (aggregation.tests.AggregateTestCase.test_aggregation_subquery_annotation)
Subquery annotations are excluded from the GROUP BY if they are ... ok
test_aggregation_subquery_annotation_exists (aggregation.tests.AggregateTestCase.test_aggregation_subquery_annotation_exists) ... ok
test_aggregation_subquery_annotation_multivalued (aggregation.tests.AggregateTestCase.test_aggregation_subquery_annotation_multivalued)
Subquery annotations must be included in the GROUP BY if they use ... ok
test_aggregation_subquery_annotation_related_field (aggregation.tests.AggregateTestCase.test_aggregation_subquery_annotation_related_field) ... ok
test_aggregation_subquery_annotation_values (aggregation.tests.AggregateTestCase.test_aggregation_subquery_annotation_values)
Subquery annotations and external aliases are excluded from the GROUP ... ok
test_aggregation_subquery_annotation_values_collision (aggregation.tests.AggregateTestCase.test_aggregation_subquery_annotation_values_collision) ... ok
test_alias_sql_injection (aggregation.tests.AggregateTestCase.test_alias_sql_injection) ... ok
test_annotate_basic (aggregation.tests.AggregateTestCase.test_annotate_basic) ... ok
test_annotate_defer (aggregation.tests.AggregateTestCase.test_annotate_defer) ... ok
test_annotate_defer_select_related (aggregation.tests.AggregateTestCase.test_annotate_defer_select_related) ... ok
test_annotate_m2m (aggregation.tests.AggregateTestCase.test_annotate_m2m) ... ok
test_annotate_ordering (aggregation.tests.AggregateTestCase.test_annotate_ordering) ... ok
test_annotate_over_annotate (aggregation.tests.AggregateTestCase.test_annotate_over_annotate) ... ok
test_annotate_values (aggregation.tests.AggregateTestCase.test_annotate_values) ... ok
test_annotate_values_aggregate (aggregation.tests.AggregateTestCase.test_annotate_values_aggregate) ... ok
test_annotate_values_list (aggregation.tests.AggregateTestCase.test_annotate_values_list) ... ok
test_annotated_aggregate_over_annotated_aggregate (aggregation.tests.AggregateTestCase.test_annotated_aggregate_over_annotated_aggregate) ... ok
test_annotation (aggregation.tests.AggregateTestCase.test_annotation) ... ok
test_annotation_expressions (aggregation.tests.AggregateTestCase.test_annotation_expressions) ... ok
test_arguments_must_be_expressions (aggregation.tests.AggregateTestCase.test_arguments_must_be_expressions) ... ok
test_avg_decimal_field (aggregation.tests.AggregateTestCase.test_avg_decimal_field) ... ok
test_avg_duration_field (aggregation.tests.AggregateTestCase.test_avg_duration_field) ... ok
test_backwards_m2m_annotate (aggregation.tests.AggregateTestCase.test_backwards_m2m_annotate) ... ok
test_coalesced_empty_result_set (aggregation.tests.AggregateTestCase.test_coalesced_empty_result_set) ... ok
test_combine_different_types (aggregation.tests.AggregateTestCase.test_combine_different_types) ... ok
test_complex_aggregations_require_kwarg (aggregation.tests.AggregateTestCase.test_complex_aggregations_require_kwarg) ... ok
test_complex_values_aggregation (aggregation.tests.AggregateTestCase.test_complex_values_aggregation) ... ok
test_count (aggregation.tests.AggregateTestCase.test_count) ... ok
test_count_distinct_expression (aggregation.tests.AggregateTestCase.test_count_distinct_expression) ... ok
test_count_star (aggregation.tests.AggregateTestCase.test_count_star) ... ok
test_dates_with_aggregation (aggregation.tests.AggregateTestCase.test_dates_with_aggregation)
.dates() returns a distinct set of dates when applied to a ... ok
test_decimal_max_digits_has_no_effect (aggregation.tests.AggregateTestCase.test_decimal_max_digits_has_no_effect) ... ok
test_distinct_on_aggregate (aggregation.tests.AggregateTestCase.test_distinct_on_aggregate) ... ok
test_empty_aggregate (aggregation.tests.AggregateTestCase.test_empty_aggregate) ... ok
test_empty_result_optimization (aggregation.tests.AggregateTestCase.test_empty_result_optimization) ... ok
test_even_more_aggregate (aggregation.tests.AggregateTestCase.test_even_more_aggregate) ... ok
test_exists_extra_where_with_aggregate (aggregation.tests.AggregateTestCase.test_exists_extra_where_with_aggregate) ... ok
test_exists_none_with_aggregate (aggregation.tests.AggregateTestCase.test_exists_none_with_aggregate) ... ok
test_expression_on_aggregation (aggregation.tests.AggregateTestCase.test_expression_on_aggregation) ... ok
test_filter_aggregate (aggregation.tests.AggregateTestCase.test_filter_aggregate) ... ok
test_filter_in_subquery_or_aggregation (aggregation.tests.AggregateTestCase.test_filter_in_subquery_or_aggregation)
Filtering against an aggregate requires the usage of the HAVING clause. ... ok
test_filtering (aggregation.tests.AggregateTestCase.test_filtering) ... ok
test_fkey_aggregate (aggregation.tests.AggregateTestCase.test_fkey_aggregate) ... ok
test_group_by_exists_annotation (aggregation.tests.AggregateTestCase.test_group_by_exists_annotation)
Exists annotations are included in the GROUP BY if they are ... ok
test_group_by_nested_expression_with_params (aggregation.tests.AggregateTestCase.test_group_by_nested_expression_with_params) ... ok
test_group_by_subquery_annotation (aggregation.tests.AggregateTestCase.test_group_by_subquery_annotation)
Subquery annotations are included in the GROUP BY if they are ... ok
test_grouped_annotation_in_group_by (aggregation.tests.AggregateTestCase.test_grouped_annotation_in_group_by)
An annotation included in values() before an aggregate should be ... ok
test_more_aggregation (aggregation.tests.AggregateTestCase.test_more_aggregation) ... ok
test_multi_arg_aggregate (aggregation.tests.AggregateTestCase.test_multi_arg_aggregate) ... ok
test_multiple_aggregate_references (aggregation.tests.AggregateTestCase.test_multiple_aggregate_references) ... ok
test_multiple_aggregates (aggregation.tests.AggregateTestCase.test_multiple_aggregates) ... ok
test_non_grouped_annotation_not_in_group_by (aggregation.tests.AggregateTestCase.test_non_grouped_annotation_not_in_group_by)
An annotation not included in values() before an aggregate should be ... ok
test_nonaggregate_aggregation_throws (aggregation.tests.AggregateTestCase.test_nonaggregate_aggregation_throws) ... ok
test_nonfield_annotation (aggregation.tests.AggregateTestCase.test_nonfield_annotation) ... ok
test_order_of_precedence (aggregation.tests.AggregateTestCase.test_order_of_precedence) ... ok
test_related_aggregate (aggregation.tests.AggregateTestCase.test_related_aggregate) ... ok
test_reverse_fkey_annotate (aggregation.tests.AggregateTestCase.test_reverse_fkey_annotate) ... ok
test_single_aggregate (aggregation.tests.AggregateTestCase.test_single_aggregate) ... ok
test_sum_distinct_aggregate (aggregation.tests.AggregateTestCase.test_sum_distinct_aggregate)
Sum on a distinct() QuerySet should aggregate only the distinct items. ... ok
test_sum_duration_field (aggregation.tests.AggregateTestCase.test_sum_duration_field) ... ok
test_ticket11881 (aggregation.tests.AggregateTestCase.test_ticket11881)
Subqueries do not needlessly contain ORDER BY, SELECT FOR UPDATE or ... ok
test_ticket12886 (aggregation.tests.AggregateTestCase.test_ticket12886)
Aggregation over sliced queryset works correctly. ... ok
test_ticket17424 (aggregation.tests.AggregateTestCase.test_ticket17424)
Doing exclude() on a foreign model after annotate() doesn't crash. ... ok
test_values_aggregation (aggregation.tests.AggregateTestCase.test_values_aggregation) ... ok
test_values_annotation_with_expression (aggregation.tests.AggregateTestCase.test_values_annotation_with_expression) ... ok

======================================================================
ERROR: test_referenced_window_requires_wrapping (aggregation.tests.AggregateAnnotationPruningTests.test_referenced_window_requires_wrapping)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/backends/sqlite3/base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: misuse of window function AVG()

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/test/testcases.py", line 1428, in skip_wrapper
    return test_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/tests/aggregation/tests.py", line 2221, in test_referenced_window_requires_wrapping
    aggregate = total_books_qs.aggregate(
                ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/query.py", line 584, in aggregate
    return self.query.chain().get_aggregation(self.db, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/sql/query.py", line 556, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/swe-fl/TMP/testbed/django__django-17084/django/db/backends/sqlite3/base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: misuse of window function AVG()

----------------------------------------------------------------------
Ran 108 tests in 0.203s

FAILED (errors=1)
Destroying test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 aggregation.tests` failed. (See above for error)

