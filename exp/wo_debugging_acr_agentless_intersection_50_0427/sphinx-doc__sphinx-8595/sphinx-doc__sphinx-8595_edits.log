### sphinx/ext/autodoc/__init__.py
<<<<<<< SEARCH
        if not want_all:
=======
        if not want_all or (self.options.members is ALL and hasattr(self.object, '__all__')):
>>>>>>> REPLACE

### sphinx/ext/autodoc/__init__.py
<<<<<<< SEARCH
                else:
=======
                elif self.options.members is ALL and not self.get_attr(self.object, '__all__', None):
                    continue
>>>>>>> REPLACE

### sphinx/ext/autodoc/__init__.py
<<<<<<< SEARCH
                if (self.options.members is ALL and
=======
                if hasattr(self.object, '__all__') and not self.get_attr(self.object, '__all__', None):
                    continue
                elif (self.options.members is ALL and
>>>>>>> REPLACE
