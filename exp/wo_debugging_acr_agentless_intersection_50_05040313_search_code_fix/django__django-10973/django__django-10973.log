2025-05-04 04:33:47.220 | INFO     | swe_log:log_and_print:77 - ['test_accent (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)', 'test_basic (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)', 'test_column (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)', 'test_nopass (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)', 'SIGINT is ignored in Python and passed to psql to abort quries.']
2025-05-04 04:33:47.220 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-05-04 04:33:47.220 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 dbshell.test_postgresql
2025-05-04 04:33:47.221 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-10973
2025-05-04 04:33:47.478 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-10973
2025-05-04 04:33:50.129 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: django__django-10973
2025-05-04 04:33:50.130 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-10973 && source /root/miniforge3/bin/activate django__django__3.0            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-10973           && python -m pip install -e . && echo SUCCESS
2025-05-04 04:33:53.174 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-05-04 04:33:54.116 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-10973 &&                                 source /root/miniforge3/bin/activate django__django__3.0 && python /data/swe-fl/TMP/testbed/django__django-10973/reproduce.py
2025-05-04 04:33:54.322 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-04 04:33:54.322 | INFO     | swe_log:log_msg:72 - 
2025-05-04 04:33:54.323 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-04 04:33:54.323 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/reproduce.py", line 12, in <module>
    DatabaseClient.runshell_db(conn_params)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 61, in runshell_db
    subprocess.check_call(args)
  File "/root/miniforge3/envs/django__django__3.0/lib/python3.6/subprocess.py", line 306, in check_call
    retcode = call(*popenargs, **kwargs)
  File "/root/miniforge3/envs/django__django__3.0/lib/python3.6/subprocess.py", line 287, in call
    with Popen(*popenargs, **kwargs) as p:
  File "/root/miniforge3/envs/django__django__3.0/lib/python3.6/subprocess.py", line 729, in __init__
    restore_signals, start_new_session)
  File "/root/miniforge3/envs/django__django__3.0/lib/python3.6/subprocess.py", line 1364, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: 'psql': 'psql'

2025-05-04 04:33:58.319 | INFO     | swe_log:log_and_print:77 - Query time: 1.72 seconds
2025-05-04 04:34:03.754 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-05-04 04:34:05.454 | INFO     | swe_log:log_and_print:77 - Query time: 1.70 seconds
2025-05-04 04:34:08.536 | INFO     | swe_log:log_and_print:77 - Query time: 2.77 seconds
2025-05-04 04:34:08.538 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No Python code block found in the response.
Retrying..(1/5)
2025-05-04 04:34:10.881 | INFO     | swe_log:log_and_print:77 - Query time: 2.34 seconds
2025-05-04 04:34:10.891 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_codebase("postgres.client"). Error: No valid filter reply results found.
2025-05-04 04:34:10.891 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: No valid API call result.
2025-05-04 04:34:10.892 | INFO     | swe_log:log_and_print:77 - 
Restart...(1/4
2025-05-04 04:34:13.600 | INFO     | swe_log:log_and_print:77 - Query time: 1.59 seconds
2025-05-04 04:34:13.914 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-05-04 04:34:16.087 | INFO     | swe_log:log_and_print:77 - Query time: 2.17 seconds
2025-05-04 04:34:16.400 | INFO     | swe_log:log_and_print:77 - API call 2/4
2025-05-04 04:34:17.185 | INFO     | swe_log:log_and_print:77 - Query time: 0.78 seconds
2025-05-04 04:34:17.825 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_code_in_codebase("pg_dump"). Error: No matching code_snippet found for: pg_dump in directory: /data/swe-fl/TMP/testbed/django__django-10973
2025-05-04 04:34:22.571 | INFO     | swe_log:log_and_print:77 - Query time: 4.53 seconds
2025-05-04 04:34:22.573 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid filter reply results found.
Retrying..(1/5)
2025-05-04 04:34:25.982 | INFO     | swe_log:log_and_print:77 - Query time: 3.41 seconds
2025-05-04 04:34:25.983 | INFO     | swe_log:log_and_print:77 - API call 3/4
2025-05-04 04:34:27.769 | INFO     | swe_log:log_and_print:77 - Query time: 1.78 seconds
2025-05-04 04:34:27.771 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(1/5)
2025-05-04 04:34:29.313 | INFO     | swe_log:log_and_print:77 - Query time: 1.54 seconds
2025-05-04 04:34:29.315 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(2/5)
2025-05-04 04:34:31.463 | INFO     | swe_log:log_and_print:77 - Query time: 2.15 seconds
2025-05-04 04:34:31.466 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_file("django/db/backends/postgresql/client.py", "psql_subprocess_method")  # "psql_subprocess_method" is a placeholder for the actual method name which executes psql; replace it when the right method is found.. Error: No matching method found for name: psql_subprocess_method in file: /data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py
2025-05-04 04:34:31.467 | INFO     | swe_log:log_and_print:77 - API call 4/4
2025-05-04 04:34:33.176 | INFO     | swe_log:log_and_print:77 - Query time: 1.71 seconds
2025-05-04 04:34:33.178 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(1/5)
2025-05-04 04:34:34.746 | INFO     | swe_log:log_and_print:77 - Query time: 1.57 seconds
2025-05-04 04:34:34.748 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(2/5)
2025-05-04 04:34:36.595 | INFO     | swe_log:log_and_print:77 - Query time: 1.85 seconds
2025-05-04 04:34:40.676 | INFO     | swe_log:log_and_print:77 - Query time: 4.06 seconds
2025-05-04 04:34:40.678 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-04 04:34:40.679 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py.bak
2025-05-04 04:34:40.679 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/db/backends/postgresql/client.py
2025-05-04 04:34:40.680 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-10973 &&                                 source /root/miniforge3/bin/activate django__django__3.0 && python /data/swe-fl/TMP/testbed/django__django-10973/reproduce.py
2025-05-04 04:34:40.886 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-04 04:34:40.887 | INFO     | swe_log:log_msg:72 - 
2025-05-04 04:34:40.887 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-04 04:34:40.887 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/reproduce.py", line 12, in <module>
    DatabaseClient.runshell_db(conn_params)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 62, in runshell_db
    env['PGPASSWORD'] = self.connection.settings_dict['PASSWORD']
NameError: name 'self' is not defined

2025-05-04 04:34:43.430 | INFO     | swe_log:log_and_print:77 - Query time: 2.52 seconds
2025-05-04 04:34:43.432 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(1/4)
2025-05-04 04:34:49.379 | INFO     | swe_log:log_and_print:77 - Query time: 4.83 seconds
2025-05-04 04:34:49.382 | INFO     | swe_log:log_msg:72 - Search block not found in django/db/backends/postgresql/client.py:
        try:
            subprocess.check_call(args)
2025-05-04 04:34:49.383 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-05-04 04:34:52.118 | INFO     | swe_log:log_and_print:77 - Query time: 2.73 seconds
2025-05-04 04:34:52.120 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-04 04:34:52.120 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py.bak
2025-05-04 04:34:52.121 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/db/backends/postgresql/client.py
2025-05-04 04:34:52.122 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-10973 &&                                 source /root/miniforge3/bin/activate django__django__3.0 && python /data/swe-fl/TMP/testbed/django__django-10973/reproduce.py
2025-05-04 04:34:52.327 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-04 04:34:52.328 | INFO     | swe_log:log_msg:72 - 
2025-05-04 04:34:52.329 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-04 04:34:52.329 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/reproduce.py", line 12, in <module>
    DatabaseClient.runshell_db(conn_params)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 63, in runshell_db
    if self.settings_dict.get('PASSWORD'):
NameError: name 'self' is not defined

2025-05-04 04:34:55.530 | INFO     | swe_log:log_and_print:77 - Query time: 3.17 seconds
2025-05-04 04:34:55.532 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(2/4)
2025-05-04 04:35:01.964 | INFO     | swe_log:log_and_print:77 - Query time: 5.34 seconds
2025-05-04 04:35:01.967 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-04 04:35:01.967 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py.bak
2025-05-04 04:35:01.968 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/db/backends/postgresql/client.py
2025-05-04 04:35:01.968 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-10973 &&                                 source /root/miniforge3/bin/activate django__django__3.0 && python /data/swe-fl/TMP/testbed/django__django-10973/reproduce.py
2025-05-04 04:35:02.173 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-04 04:35:02.174 | INFO     | swe_log:log_msg:72 - 
2025-05-04 04:35:02.175 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-04 04:35:02.175 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 54, in runshell_db
    os.environ['PGPASSFILE'] = temp_pgpass.name
UnboundLocalError: local variable 'os' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/reproduce.py", line 12, in <module>
    DatabaseClient.runshell_db(conn_params)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 70, in runshell_db
    if 'PGPASSFILE' in os.environ:  # unit tests need cleanup
UnboundLocalError: local variable 'os' referenced before assignment

2025-05-04 04:35:06.184 | INFO     | swe_log:log_and_print:77 - Query time: 3.97 seconds
2025-05-04 04:35:06.186 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(3/4)
2025-05-04 04:35:11.843 | INFO     | swe_log:log_and_print:77 - Query time: 4.56 seconds
2025-05-04 04:35:11.845 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-04 04:35:11.846 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py.bak
2025-05-04 04:35:11.846 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/db/backends/postgresql/client.py
2025-05-04 04:35:11.846 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-10973 &&                                 source /root/miniforge3/bin/activate django__django__3.0 && python /data/swe-fl/TMP/testbed/django__django-10973/reproduce.py
2025-05-04 04:35:12.051 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-04 04:35:12.052 | INFO     | swe_log:log_msg:72 - 
2025-05-04 04:35:12.052 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-04 04:35:12.052 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/reproduce.py", line 12, in <module>
    DatabaseClient.runshell_db(conn_params)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 61, in runshell_db
    env['PGPASSWORD'] = settings_dict['PASSWORD']
NameError: name 'settings_dict' is not defined

2025-05-04 04:35:14.762 | INFO     | swe_log:log_and_print:77 - Query time: 2.68 seconds
2025-05-04 04:35:14.764 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(4/4)
2025-05-04 04:35:19.964 | INFO     | swe_log:log_and_print:77 - Query time: 4.09 seconds
2025-05-04 04:35:19.967 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-04 04:35:19.968 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py.bak
2025-05-04 04:35:19.968 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/db/backends/postgresql/client.py
2025-05-04 04:35:19.969 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-10973 &&                                 source /root/miniforge3/bin/activate django__django__3.0 && python /data/swe-fl/TMP/testbed/django__django-10973/reproduce.py
2025-05-04 04:35:20.178 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-04 04:35:20.179 | INFO     | swe_log:log_msg:72 - 
2025-05-04 04:35:20.179 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-04 04:35:20.179 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/reproduce.py", line 12, in <module>
    DatabaseClient.runshell_db(conn_params)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 62, in runshell_db
    if password:
NameError: name 'password' is not defined

2025-05-04 04:35:23.281 | INFO     | swe_log:log_and_print:77 - Query time: 3.07 seconds
2025-05-04 04:35:23.283 | INFO     | swe_log:log_and_print:77 - Unable to pass reviewer
2025-05-04 04:35:23.283 | INFO     | swe_log:log_and_print:77 - 
Restart...(2/4
2025-05-04 04:35:27.017 | INFO     | swe_log:log_and_print:77 - Query time: 2.63 seconds
2025-05-04 04:35:29.655 | INFO     | swe_log:log_and_print:77 - Query time: 2.32 seconds
2025-05-04 04:35:29.658 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_codebase("postgres.client"). Error: No valid filter reply results found.
2025-05-04 04:35:29.658 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: No valid API call result.
2025-05-04 04:35:29.659 | INFO     | swe_log:log_and_print:77 - 
Restart...(3/4
2025-05-04 04:35:32.555 | INFO     | swe_log:log_and_print:77 - Query time: 1.80 seconds
2025-05-04 04:35:35.531 | INFO     | swe_log:log_and_print:77 - Query time: 2.37 seconds
2025-05-04 04:35:35.533 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No Python code block found in the response.
Retrying..(1/5)
2025-05-04 04:35:37.815 | INFO     | swe_log:log_and_print:77 - Query time: 2.28 seconds
2025-05-04 04:35:37.818 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_codebase("postgres.client"). Error: No valid filter reply results found.
2025-05-04 04:35:37.969 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_codebase("run_command"). Error: No matching method found for: run_command in directory: /data/swe-fl/TMP/testbed/django__django-10973
2025-05-04 04:35:38.113 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_codebase("execute_command"). Error: No matching method found for: execute_command in directory: /data/swe-fl/TMP/testbed/django__django-10973
2025-05-04 04:35:38.114 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: No valid API call result.
2025-05-04 04:35:38.114 | INFO     | swe_log:log_and_print:77 - 
Restart...(4/4
2025-05-04 04:35:38.114 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-05-04 04:35:39.191 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-04 04:35:39.192 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py.bak
2025-05-04 04:35:39.193 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/db/backends/postgresql/client.py
2025-05-04 04:35:40.625 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-04 04:35:40.626 | INFO     | swe_log:log_msg:72 - Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-10973/django'
Importing application dbshell
Skipping setup of unused database(s): default, other.
System check identified no issues (0 silenced).


2025-05-04 04:35:40.626 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-04 04:35:40.627 | INFO     | swe_log:log_msg:72 - test_accent (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase) ... ERROR
test_basic (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase) ... ERROR
test_column (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase) ... ERROR
test_nopass (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase) ... ERROR
test_sigint_handler (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)
SIGINT is ignored in Python and passed to psql to abort quries. ... ERROR

======================================================================
ERROR: test_accent (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 77, in test_accent
    'port': '444',
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 24, in _run_it
    DatabaseClient.runshell_db(dbinfo)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 62, in runshell_db
    if password:
NameError: name 'password' is not defined

======================================================================
ERROR: test_basic (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 34, in test_basic
    'port': '444',
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 24, in _run_it
    DatabaseClient.runshell_db(dbinfo)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 62, in runshell_db
    if password:
NameError: name 'password' is not defined

======================================================================
ERROR: test_column (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 61, in test_column
    'port': '444',
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 24, in _run_it
    DatabaseClient.runshell_db(dbinfo)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 62, in runshell_db
    if password:
NameError: name 'password' is not defined

======================================================================
ERROR: test_nopass (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 47, in test_nopass
    'port': '444',
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 24, in _run_it
    DatabaseClient.runshell_db(dbinfo)
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 62, in runshell_db
    if password:
NameError: name 'password' is not defined

======================================================================
ERROR: test_sigint_handler (dbshell.test_postgresql.PostgreSqlDbshellCommandTestCase)
SIGINT is ignored in Python and passed to psql to abort quries.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-10973/tests/dbshell/test_postgresql.py", line 94, in test_sigint_handler
    DatabaseClient.runshell_db({})
  File "/data/swe-fl/TMP/testbed/django__django-10973/django/db/backends/postgresql/client.py", line 62, in runshell_db
    if password:
NameError: name 'password' is not defined

----------------------------------------------------------------------
Ran 5 tests in 0.002s

FAILED (errors=5)

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 dbshell.test_postgresql` failed. (See above for error)

