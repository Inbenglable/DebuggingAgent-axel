{
    "search_replace_edits": [
        "### django/db/models/sql/compiler.py\n<<<<<<< SEARCH\n        for expr, (sql, params, is_ref) in order_by:\n            # Skip References to the select clause, as all expressions in the\n            # select clause are already part of the group by.\n            if not is_ref:\n                expressions.extend(expr.get_group_by_cols())\n=======\n        if hasattr(self, '_meta_ordering'):\n            meta_ordering_exprs = {\n                expr for expr, (sql, params, is_ref) in order_by\n                if hasattr(expr, 'base') and expr.base in self._meta_ordering\n            }\n        else:\n            meta_ordering_exprs = set()\n\n        for expr, (sql, params, is_ref) in order_by:\n            # Exclude fields derived from Meta.ordering for group by\n            if not is_ref and expr not in meta_ordering_exprs:\n                expressions.extend(expr.get_group_by_cols())\n>>>>>>> REPLACE\n"
    ]
}