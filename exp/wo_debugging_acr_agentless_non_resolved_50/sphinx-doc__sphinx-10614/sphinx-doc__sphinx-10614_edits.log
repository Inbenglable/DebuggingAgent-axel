### sphinx/ext/graphviz.py
<<<<<<< SEARCH
            self.body.append('<object data="%s" type="image/svg+xml" class="%s">\n' %
                             (fname, imgcls))
=======
            svg_link = self.builder.get_relative_uri(node['docname'], node['filename']) + '/' + fname
            self.body.append('<object data="%s" type="image/svg+xml" class="%s">\n' %
                             (svg_link, imgcls))
>>>>>>> REPLACE

### sphinx/ext/graphviz.py
<<<<<<< SEARCH
        fname, outfn = render_dot(self, code, options, format, prefix, filename)
=======
        docname = self.current_node.get('docname', '')
        filename = self.current_node.get('filename', '')
        fname, outfn = render_dot(self, code, options, format, prefix, filename)
        node['docname'] = docname
        node['filename'] = filename
>>>>>>> REPLACE
