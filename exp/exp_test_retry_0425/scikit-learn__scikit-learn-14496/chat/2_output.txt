To generate the patch, I need to retrieve the source code of the `compute_optics_graph` method in the `optics_.py` file, as well as the surrounding code around the lines 439-440 in the same file where the computation for `min_samples` is happening.

Let's search for the necessary parts of the code.

```python
search_method_in_file("sklearn/cluster/optics_.py", "compute_optics_graph")
search_code_in_file("sklearn/cluster/optics_.py", "min_samples")
```
