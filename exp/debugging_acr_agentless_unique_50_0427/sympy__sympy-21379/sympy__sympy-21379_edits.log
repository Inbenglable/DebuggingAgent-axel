### sympy/core/basic.py
<<<<<<< SEARCH
            hit = False
=======
            from sympy import Piecewise
            hit = False
            # Check if old is a Piecewise, then substitute directly without making polynomial assumptions
            if isinstance(self, Piecewise) and _aresame(self, old):
                return new
>>>>>>> REPLACE
