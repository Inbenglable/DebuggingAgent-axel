2025-04-29 16:09:52.539 | INFO     | swe_log:log_and_print:77 - ['@method_decorator preserves wrapper assignments.']
2025-04-29 16:09:52.540 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-04-29 16:09:52.540 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 decorators.tests
2025-04-29 16:09:52.540 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-14787
2025-04-29 16:09:52.862 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-14787
2025-04-29 16:09:57.307 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: django__django-14787
2025-04-29 16:09:57.308 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-14787 && source /root/miniforge3/bin/activate django__django__4.1            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-14787           && python -m pip install -e . && echo SUCCESS
2025-04-29 16:10:03.423 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-04-29 16:10:11.111 | INFO     | swe_log:log_and_print:77 - Query time: 4.47 seconds
2025-04-29 16:10:16.448 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-04-29 16:10:22.181 | INFO     | swe_log:log_and_print:77 - Query time: 5.73 seconds
2025-04-29 16:10:22.183 | INFO     | swe_log:log_and_print:77 - API call 2/4
2025-04-29 16:10:23.056 | INFO     | swe_log:log_and_print:77 - Query time: 0.87 seconds
2025-04-29 16:10:23.058 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-04-29 16:10:28.180 | INFO     | swe_log:log_and_print:77 - Query time: 5.10 seconds
2025-04-29 16:10:28.182 | INFO     | swe_log:log_msg:72 - Search block not found in django/utils/decorators.py:
def update_wrapper(wrapper, wrapped, assigned=WRAPPER_ASSIGNMENTS, updated=WRAPPER_UPDATES):
2025-04-29 16:10:28.183 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 16:10:46.512 | INFO     | swe_log:log_and_print:77 - Query time: 18.33 seconds
2025-04-29 16:10:46.515 | INFO     | swe_log:log_msg:72 - Search block not found in django/utils/decorators.py:
def update_wrapper(wrapper, wrapped, assigned=WRAPPER_ASSIGNMENTS, updated=WRAPPER_UPDATES):
2025-04-29 16:10:46.515 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 16:10:51.983 | INFO     | swe_log:log_and_print:77 - Query time: 5.47 seconds
2025-04-29 16:10:51.987 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 16:10:51.988 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 16:10:51.988 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-14787/django/utils/decorators.py.bak
2025-04-29 16:10:51.989 | INFO     | swe_log:log_msg:72 - Applied 2 edits to django/utils/decorators.py
2025-04-29 16:10:51.989 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-04-29 16:10:53.187 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 16:10:53.188 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 16:10:53.189 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-14787/django/utils/decorators.py.bak
2025-04-29 16:10:53.189 | INFO     | swe_log:log_msg:72 - Applied 2 edits to django/utils/decorators.py
2025-04-29 16:10:54.663 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 16:10:54.664 | INFO     | swe_log:log_msg:72 - Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-14787/django'
Importing application decorators
Found 21 test(s).
Skipping setup of unused database(s): default, other.
System check identified no issues (0 silenced).


2025-04-29 16:10:54.664 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 16:10:54.664 | INFO     | swe_log:log_msg:72 - test_cache_control_decorator_http_request (decorators.tests.CacheControlDecoratorTest) ... ok
test_argumented (decorators.tests.MethodDecoratorTests) ... ok
test_bad_iterable (decorators.tests.MethodDecoratorTests) ... ok
test_class_decoration (decorators.tests.MethodDecoratorTests)
@method_decorator can be used to decorate a class and its methods. ... ok
test_descriptors (decorators.tests.MethodDecoratorTests) ... ok
test_invalid_method_name_to_decorate (decorators.tests.MethodDecoratorTests)
@method_decorator on a nonexistent method raises an error. ... ok
test_invalid_non_callable_attribute_decoration (decorators.tests.MethodDecoratorTests)
@method_decorator on a non-callable attribute raises an error. ... ok
test_new_attribute (decorators.tests.MethodDecoratorTests)
A decorator that sets a new attribute on the method. ... ok
test_preserve_attributes (decorators.tests.MethodDecoratorTests) ... ok
test_preserve_signature (decorators.tests.MethodDecoratorTests) ... ok
test_tuple_of_decorators (decorators.tests.MethodDecoratorTests)
@method_decorator can accept a tuple of decorators. ... ok
test_wrapper_assignments (decorators.tests.MethodDecoratorTests)
@method_decorator preserves wrapper assignments. ... FAIL
test_never_cache_decorator (decorators.tests.NeverCacheDecoratorTest) ... ok
test_never_cache_decorator_http_request (decorators.tests.NeverCacheDecoratorTest) ... ok
test_attributes (decorators.tests.DecoratorsTest)
Built-in decorators set certain attributes of the wrapped function. ... ok
test_cache_page (decorators.tests.DecoratorsTest) ... ok
test_require_safe_accepts_only_safe_methods (decorators.tests.DecoratorsTest)
Test for the require_safe decorator. ... ok
test_user_passes_test_composition (decorators.tests.DecoratorsTest)
The user_passes_test decorator can be applied multiple times (#9474). ... ok
test_deny_decorator (decorators.tests.XFrameOptionsDecoratorsTests)
Ensures @xframe_options_deny properly sets the X-Frame-Options header. ... ok
test_exempt_decorator (decorators.tests.XFrameOptionsDecoratorsTests)
Ensures @xframe_options_exempt properly instructs the ... ok
test_sameorigin_decorator (decorators.tests.XFrameOptionsDecoratorsTests)
Ensures @xframe_options_sameorigin properly sets the X-Frame-Options ... ok

======================================================================
FAIL: test_wrapper_assignments (decorators.tests.MethodDecoratorTests)
@method_decorator preserves wrapper assignments.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-14787/tests/decorators/tests.py", line 448, in test_wrapper_assignments
    self.assertEqual(func_name, 'method')
AssertionError: None != 'method'

----------------------------------------------------------------------
Ran 21 tests in 0.003s

FAILED (failures=1)

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 decorators.tests` failed. (See above for error)

