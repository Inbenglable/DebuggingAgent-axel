2025-05-04 03:51:57.411 | INFO     | swe_log:log_and_print:77 - ['sklearn/linear_model/tests/test_huber.py::test_huber_bool']
2025-05-04 03:51:57.412 | INFO     | swe_log:log_and_print:77 - python -m pip install -v --no-use-pep517 --no-build-isolation -e .
2025-05-04 03:51:57.412 | INFO     | swe_log:log_and_print:77 - pytest -rA sklearn/linear_model/tests/test_huber.py
2025-05-04 03:51:57.412 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328
2025-05-04 03:51:57.508 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328
2025-05-04 03:51:58.008 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: scikit-learn__scikit-learn-13328
2025-05-04 03:51:58.009 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328 && source /root/miniforge3/bin/activate scikit-learn__scikit-learn__0.21            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328           && python -m pip install -v --no-use-pep517 --no-build-isolation -e . && echo SUCCESS
2025-05-04 03:55:31.454 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-05-04 03:55:35.279 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328 &&                                 source /root/miniforge3/bin/activate scikit-learn__scikit-learn__0.21 && python /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/reproduce.py
2025-05-04 03:55:36.110 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-04 03:55:36.111 | INFO     | swe_log:log_msg:72 - 
2025-05-04 03:55:36.112 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-04 03:55:36.112 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/reproduce.py"
    24: huber = HuberRegressor().fit(X_bool, y)
  File "/data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/sklearn/linear_model/huber.py"
    288: iprint=0)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/lbfgsb.py"
    198: **opts)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/lbfgsb.py"
    308: finite_diff_rel_step=finite_diff_rel_step)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/optimize.py"
    262: finite_diff_rel_step, bounds, epsilon=epsilon)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/_differentiable_functions.py"
    76: self._update_fun()
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/_differentiable_functions.py"
    166: self._update_fun_impl()
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/_differentiable_functions.py"
    73: self.f = fun_wrapped(self.x)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/_differentiable_functions.py"
    70: return fun(x, *args)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/optimize.py"
    74: self._compute_if_needed(x, *args)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/optimize.py"
    68: fg = self.fun(x, *args)
  File "/data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/sklearn/linear_model/huber.py"
    93: X_non_outliers = -axis0_safe_slice(X, ~outliers_mask, n_non_outliers)
TypeError: The numpy boolean negative, the `-` operator, is not supported, use the `~` operator or the logical_not function instead.
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/reproduce.py", line 24, in main
    huber = HuberRegressor().fit(X_bool, y)
  File "/data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/sklearn/linear_model/huber.py", line 288, in fit
    iprint=0)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/lbfgsb.py", line 198, in fmin_l_bfgs_b
    **opts)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/lbfgsb.py", line 308, in _minimize_lbfgsb
    finite_diff_rel_step=finite_diff_rel_step)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/optimize.py", line 262, in _prepare_scalar_function
    finite_diff_rel_step, bounds, epsilon=epsilon)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/_differentiable_functions.py", line 76, in __init__
    self._update_fun()
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/_differentiable_functions.py", line 166, in _update_fun
    self._update_fun_impl()
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/_differentiable_functions.py", line 73, in update_fun
    self.f = fun_wrapped(self.x)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/_differentiable_functions.py", line 70, in fun_wrapped
    return fun(x, *args)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/optimize.py", line 74, in __call__
    self._compute_if_needed(x, *args)
  File "/root/miniforge3/envs/scikit-learn__scikit-learn__0.21/lib/python3.6/site-packages/scipy/optimize/optimize.py", line 68, in _compute_if_needed
    fg = self.fun(x, *args)
  File "/data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/sklearn/linear_model/huber.py", line 93, in _huber_loss_and_gradient
    X_non_outliers = -axis0_safe_slice(X, ~outliers_mask, n_non_outliers)
TypeError: The numpy boolean negative, the `-` operator, is not supported, use the `~` operator or the logical_not function instead.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/reproduce.py", line 33, in <module>
    main()
  File "/data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/reproduce.py", line 27, in main
    raise AssertionError("HuberRegressor raised a TypeError when fitting with boolean predictors")
AssertionError: HuberRegressor raised a TypeError when fitting with boolean predictors

2025-05-04 03:55:39.770 | INFO     | swe_log:log_and_print:77 - Query time: 2.46 seconds
2025-05-04 03:55:42.612 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_file("sklearn/linear_model/_huber.py", "HuberRegressor.fit"). Error: File /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/sklearn/linear_model/_huber.py not found.
2025-05-04 03:55:42.612 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-05-04 03:55:44.011 | INFO     | swe_log:log_and_print:77 - Query time: 1.40 seconds
2025-05-04 03:55:44.013 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(1/5)
2025-05-04 03:55:45.453 | INFO     | swe_log:log_and_print:77 - Query time: 1.44 seconds
2025-05-04 03:55:45.454 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(2/5)
2025-05-04 03:55:47.657 | INFO     | swe_log:log_and_print:77 - Query time: 2.20 seconds
2025-05-04 03:55:47.659 | INFO     | swe_log:log_and_print:77 - API call 2/4
2025-05-04 03:55:49.055 | INFO     | swe_log:log_and_print:77 - Query time: 1.40 seconds
2025-05-04 03:55:49.056 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-05-04 03:55:51.581 | INFO     | swe_log:log_and_print:77 - Query time: 2.50 seconds
2025-05-04 03:55:51.583 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-04 03:55:51.584 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/sklearn/linear_model/huber.py.bak
2025-05-04 03:55:51.584 | INFO     | swe_log:log_msg:72 - Applied 1 edits to sklearn/linear_model/huber.py
2025-05-04 03:55:51.585 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328 &&                                 source /root/miniforge3/bin/activate scikit-learn__scikit-learn__0.21 && python /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/reproduce.py
2025-05-04 03:55:55.980 | INFO     | swe_log:log_and_print:77 - Query time: 3.54 seconds
2025-05-04 03:55:55.983 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-05-04 03:55:56.531 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-04 03:55:56.532 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13328/sklearn/linear_model/huber.py.bak
2025-05-04 03:55:56.532 | INFO     | swe_log:log_msg:72 - Applied 1 edits to sklearn/linear_model/huber.py
