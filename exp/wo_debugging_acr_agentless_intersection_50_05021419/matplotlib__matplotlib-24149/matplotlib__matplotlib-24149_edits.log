### lib/matplotlib/cbook/__init__.py
<<<<<<< SEARCH
    else:
        return next(val for val in obj if safe_isfinite(val))
=======
    else:
        try:
            return next(val for val in obj if safe_isfinite(val))
        except StopIteration:
            # In cases where all are NaN, return NaN.
            return np.nan
>>>>>>> REPLACE

### lib/matplotlib/axes/_axes.py
<<<<<<< SEARCH
            except (TypeError, IndexError, KeyError):
=======
            except (TypeError, IndexError, KeyError, StopIteration):
>>>>>>> REPLACE
