I need to retrieve the source code for the `quantity_input` function to understand how it processes return annotations and why the error is occurring when the return type is `None`. Since the previous search identified the relevant code snippet in `astropy/units/decorators.py`, I'll now search for the full method definition to properly generate the patch.

```python
search_method_in_file("astropy/units/decorators.py", "quantity_input")
```
