### sklearn/utils/_set_output.py
<<<<<<< SEARCH
    @available_if(_auto_wrap_is_configured)
    def set_output(self, *, transform=None):
=======
    @available_if(_auto_wrap_is_configured)
    def set_output(self, *, transform=None):
        self._preserve_dtypes = transform == 'preserve_dtypes'
>>>>>>> REPLACE

### sklearn/utils/_set_output.py
<<<<<<< SEARCH
):
=======
    dtypes=None,
):
>>>>>>> REPLACE

### sklearn/utils/_set_output.py
<<<<<<< SEARCH
    return pd.DataFrame(data_to_wrap, index=index, columns=columns)
=======
    df = pd.DataFrame(data_to_wrap, index=index, columns=columns)
    if dtypes is not None:
        df = df.astype(dtypes)
    return df
>>>>>>> REPLACE

### sklearn/utils/_set_output.py
<<<<<<< SEARCH
        return data_to_wrap
=======
        if self._preserve_dtypes:
            return _wrap_in_pandas_container(data_to_wrap, columns=columns, index=index, dtypes=data_to_wrap.dtypes if hasattr(data_to_wrap, 'dtypes') else None)
        return data_to_wrap
>>>>>>> REPLACE
