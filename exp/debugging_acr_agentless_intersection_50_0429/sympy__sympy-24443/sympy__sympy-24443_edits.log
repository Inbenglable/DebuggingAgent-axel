### sympy/combinatorics/homomorphisms.py
<<<<<<< SEARCH
        elif s**-1 in images:
            w = w*images[s**-1]**power
=======
        else:
            s_inverse = s**-1
            if s_inverse in gens:
                s_inverse = domain.generators[gens.index(s_inverse)]
            if s_inverse in images:
                w = w*images[s_inverse]**power
            else:
                raise ValueError("The given images do not define a homomorphism")
>>>>>>> REPLACE
