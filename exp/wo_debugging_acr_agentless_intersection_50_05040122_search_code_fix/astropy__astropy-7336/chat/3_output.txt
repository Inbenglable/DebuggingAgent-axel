I have gathered the relevant part of the code where the error is occurring. The issue seems to be with how the `quantity_input` decorator handles the return type annotation when it is `None`. I need to analyze the `quantity_input` decorator's source code to craft an appropriate patch.

```python
search_method_in_codebase("quantity_input")
```
