### django/template/defaultfilters.py
<<<<<<< SEARCH
    rounded_d = d.quantize(exp, ROUND_HALF_UP, Context(prec=prec))
=======
    # Ensure the precision is within a valid range
    prec = max(1, prec)
    rounded_d = d.quantize(exp, ROUND_HALF_UP, Context(prec=prec))
>>>>>>> REPLACE
