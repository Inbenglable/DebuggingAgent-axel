To fix this issue, I need to examine the code responsible for mask propagation in the `NDDataRef` class, specifically focusing on the handling of masks during operations such as multiplication. I will search for the `multiply` method and the `NDDataRef` class in the codebase to understand how mask propagation is currently being handled.

```python
search_class_in_codebase("NDDataRef")
search_method_in_codebase("NDDataRef.multiply")
```
