2025-05-02 15:28:48.254 | INFO     | swe_log:log_and_print:77 - ['test_alter_index_together_remove_with_unique_together (migrations.test_operations.OperationTests)']
2025-05-02 15:28:48.255 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-05-02 15:28:48.255 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 migrations.test_base migrations.test_operations
2025-05-02 15:28:48.255 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-12708
2025-05-02 15:28:54.506 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-12708
2025-05-02 15:29:03.013 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: django__django-12708
2025-05-02 15:29:03.014 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-12708 && source /root/miniforge3/bin/activate django__django__3.1            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-12708           && python -m pip install -e . && echo SUCCESS
2025-05-02 15:29:06.152 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-05-02 15:29:14.335 | INFO     | swe_log:log_and_print:77 - Query time: 1.90 seconds
2025-05-02 15:29:14.357 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-05-02 15:29:16.083 | INFO     | swe_log:log_and_print:77 - Query time: 1.73 seconds
2025-05-02 15:29:25.259 | INFO     | swe_log:log_and_print:77 - Query time: 4.60 seconds
2025-05-02 15:29:25.260 | INFO     | swe_log:log_and_print:77 - API call 2/4
2025-05-02 15:29:27.115 | INFO     | swe_log:log_and_print:77 - Query time: 1.85 seconds
2025-05-02 15:29:27.118 | INFO     | swe_log:log_and_print:77 - API call 3/4
2025-05-02 15:29:28.226 | INFO     | swe_log:log_and_print:77 - Query time: 1.11 seconds
2025-05-02 15:29:28.227 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-05-02 15:29:37.827 | INFO     | swe_log:log_and_print:77 - Query time: 9.58 seconds
2025-05-02 15:29:37.832 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-02 15:29:37.834 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-02 15:29:37.834 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-12708/django/db/backends/base/schema.py.bak
2025-05-02 15:29:37.835 | INFO     | swe_log:log_msg:72 - Applied 2 edits to django/db/backends/base/schema.py
2025-05-02 15:29:37.835 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-05-02 15:29:38.968 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-02 15:29:38.970 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-02 15:29:38.970 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-12708/django/db/backends/base/schema.py.bak
2025-05-02 15:29:38.971 | INFO     | swe_log:log_msg:72 - Applied 2 edits to django/db/backends/base/schema.py
2025-05-02 15:29:41.462 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-02 15:29:41.463 | INFO     | swe_log:log_msg:72 - Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-12708/django'
Importing application migrations
Operations to perform:
  Synchronize unmigrated apps: auth, contenttypes, messages, migrations, sessions, staticfiles
  Apply all migrations: admin, sites
Synchronizing apps without migrations:
  Creating tables...
    Creating table django_content_type
    Creating table auth_permission
    Creating table auth_group
    Creating table auth_user
    Creating table django_session
    Creating table migrations_modelwithcustombase
    Creating table migrations_unmigratedmodel
    Running deferred SQL...
Running migrations:
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying sites.0001_initial... OK
  Applying sites.0002_alter_domain_unique... OK
Operations to perform:
  Synchronize unmigrated apps: auth, contenttypes, messages, migrations, sessions, staticfiles
  Apply all migrations: admin, sites
Synchronizing apps without migrations:
  Creating tables...
    Creating table django_content_type
    Creating table auth_permission
    Creating table auth_group
    Creating table auth_user
    Creating table django_session
    Creating table migrations_modelwithcustombase
    Creating table migrations_unmigratedmodel
    Running deferred SQL...
Running migrations:
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying sites.0001_initial... OK
  Applying sites.0002_alter_domain_unique... OK
System check identified no issues (0 silenced).


2025-05-02 15:29:41.463 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-02 15:29:41.463 | INFO     | swe_log:log_msg:72 - Creating test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...
Creating test database for alias 'other' ('file:memorydb_other?mode=memory&cache=shared')...
test_reference_field_by_through_fields (migrations.test_operations.FieldOperationTests) ... ok
test_references_field_by_from_fields (migrations.test_operations.FieldOperationTests) ... ok
test_references_field_by_name (migrations.test_operations.FieldOperationTests) ... ok
test_references_field_by_remote_field_model (migrations.test_operations.FieldOperationTests) ... ok
test_references_field_by_through (migrations.test_operations.FieldOperationTests) ... ok
test_references_field_by_to_fields (migrations.test_operations.FieldOperationTests) ... ok
test_references_model (migrations.test_operations.FieldOperationTests) ... ok
test_add_binaryfield (migrations.test_operations.OperationTests) ... ok
test_add_charfield (migrations.test_operations.OperationTests) ... ok
test_add_constraint (migrations.test_operations.OperationTests) ... ok
test_add_constraint_combinable (migrations.test_operations.OperationTests) ... ok
test_add_constraint_percent_escaping (migrations.test_operations.OperationTests) ... ok
test_add_field (migrations.test_operations.OperationTests) ... ok
test_add_field_m2m (migrations.test_operations.OperationTests) ... ok
test_add_field_preserve_default (migrations.test_operations.OperationTests) ... ok
test_add_index (migrations.test_operations.OperationTests) ... ok
test_add_index_state_forwards (migrations.test_operations.OperationTests) ... ok
test_add_or_constraint (migrations.test_operations.OperationTests) ... ok
test_add_partial_unique_constraint (migrations.test_operations.OperationTests) ... ok
test_add_textfield (migrations.test_operations.OperationTests) ... ok
test_alter_field (migrations.test_operations.OperationTests) ... ok
test_alter_field_m2m (migrations.test_operations.OperationTests) ... ok
test_alter_field_pk (migrations.test_operations.OperationTests) ... ok
test_alter_field_pk_fk (migrations.test_operations.OperationTests) ... ok
test_alter_field_reloads_state_on_fk_target_changes (migrations.test_operations.OperationTests) ... ok
test_alter_field_reloads_state_on_fk_with_to_field_related_name_target_type_change (migrations.test_operations.OperationTests) ... ok
test_alter_field_reloads_state_on_fk_with_to_field_target_changes (migrations.test_operations.OperationTests) ... ok
test_alter_field_reloads_state_on_fk_with_to_field_target_type_change (migrations.test_operations.OperationTests) ... ok
test_alter_field_with_index (migrations.test_operations.OperationTests) ... ok
test_alter_fk (migrations.test_operations.OperationTests) ... ok
test_alter_fk_non_fk (migrations.test_operations.OperationTests) ... ok
test_alter_index_together (migrations.test_operations.OperationTests) ... ok
test_alter_index_together_remove (migrations.test_operations.OperationTests) ... ok
test_alter_index_together_remove_with_unique_together (migrations.test_operations.OperationTests) ... ERROR
test_alter_model_managers (migrations.test_operations.OperationTests) ... ok
test_alter_model_managers_emptying (migrations.test_operations.OperationTests) ... ok
test_alter_model_options (migrations.test_operations.OperationTests) ... ok
test_alter_model_options_emptying (migrations.test_operations.OperationTests) ... ok
test_alter_model_table (migrations.test_operations.OperationTests) ... ok
test_alter_model_table_m2m (migrations.test_operations.OperationTests) ... ok
test_alter_model_table_none (migrations.test_operations.OperationTests) ... ok
test_alter_model_table_noop (migrations.test_operations.OperationTests) ... ok
test_alter_order_with_respect_to (migrations.test_operations.OperationTests) ... ok
test_alter_unique_together (migrations.test_operations.OperationTests) ... ok
test_alter_unique_together_remove (migrations.test_operations.OperationTests) ... ok
test_autofield__bigautofield_foreignfield_growth (migrations.test_operations.OperationTests)
A field may be migrated from AutoField to BigAutoField. ... ok
test_column_name_quoting (migrations.test_operations.OperationTests) ... ok
test_create_model (migrations.test_operations.OperationTests) ... ok
test_create_model_inheritance (migrations.test_operations.OperationTests) ... ok
test_create_model_m2m (migrations.test_operations.OperationTests) ... ok
test_create_model_managers (migrations.test_operations.OperationTests) ... ok
test_create_model_with_constraint (migrations.test_operations.OperationTests) ... ok
test_create_model_with_duplicate_base (migrations.test_operations.OperationTests) ... ok
test_create_model_with_duplicate_field_name (migrations.test_operations.OperationTests) ... ok
test_create_model_with_duplicate_manager_name (migrations.test_operations.OperationTests) ... ok
test_create_model_with_partial_unique_constraint (migrations.test_operations.OperationTests) ... ok
test_create_model_with_unique_after (migrations.test_operations.OperationTests) ... ok
test_create_proxy_model (migrations.test_operations.OperationTests) ... ok
test_create_unmanaged_model (migrations.test_operations.OperationTests) ... ok
test_delete_model (migrations.test_operations.OperationTests) ... ok
test_delete_mti_model (migrations.test_operations.OperationTests) ... ok
test_delete_proxy_model (migrations.test_operations.OperationTests) ... ok
test_model_with_bigautofield (migrations.test_operations.OperationTests) ... ok
test_remove_constraint (migrations.test_operations.OperationTests) ... ok
test_remove_field (migrations.test_operations.OperationTests) ... ok
test_remove_field_m2m (migrations.test_operations.OperationTests) ... ok
test_remove_field_m2m_with_through (migrations.test_operations.OperationTests) ... ok
test_remove_fk (migrations.test_operations.OperationTests) ... ok
test_remove_index (migrations.test_operations.OperationTests) ... ok
test_remove_index_state_forwards (migrations.test_operations.OperationTests) ... ok
test_remove_partial_unique_constraint (migrations.test_operations.OperationTests) ... ok
test_rename_field (migrations.test_operations.OperationTests) ... ok
test_rename_field_reloads_state_on_fk_target_changes (migrations.test_operations.OperationTests) ... ok
test_rename_m2m_model_after_rename_field (migrations.test_operations.OperationTests)
RenameModel renames a many-to-many column after a RenameField. ... ok
test_rename_m2m_target_model (migrations.test_operations.OperationTests) ... ok
test_rename_m2m_through_model (migrations.test_operations.OperationTests) ... ok
test_rename_missing_field (migrations.test_operations.OperationTests) ... ok
test_rename_model (migrations.test_operations.OperationTests) ... ok
test_rename_model_state_forwards (migrations.test_operations.OperationTests) ... ok
test_rename_model_with_m2m (migrations.test_operations.OperationTests) ... ok
test_rename_model_with_self_referential_fk (migrations.test_operations.OperationTests) ... ok
test_rename_model_with_self_referential_m2m (migrations.test_operations.OperationTests) ... ok
test_rename_model_with_superclass_fk (migrations.test_operations.OperationTests) ... ok
test_rename_referenced_field_state_forward (migrations.test_operations.OperationTests) ... ok
test_repoint_field_m2m (migrations.test_operations.OperationTests) ... ok
test_run_python (migrations.test_operations.OperationTests) ... ok
test_run_python_atomic (migrations.test_operations.OperationTests) ... ok
test_run_python_noop (migrations.test_operations.OperationTests) ... ok
test_run_python_related_assignment (migrations.test_operations.OperationTests) ... ok
test_run_sql (migrations.test_operations.OperationTests) ... ok
test_run_sql_noop (migrations.test_operations.OperationTests) ... ok
test_run_sql_params (migrations.test_operations.OperationTests) ... ok
test_run_sql_params_invalid (migrations.test_operations.OperationTests) ... ok
test_separate_database_and_state (migrations.test_operations.OperationTests) ... ok
test_separate_database_and_state2 (migrations.test_operations.OperationTests) ... ok
test_smallfield_autofield_foreignfield_growth (migrations.test_operations.OperationTests)
A field may be migrated from SmallAutoField to AutoField. ... ok
test_smallfield_bigautofield_foreignfield_growth (migrations.test_operations.OperationTests)
A field may be migrated from SmallAutoField to BigAutoField. ... ok
test_add_field_ignore_swapped (migrations.test_operations.SwappableOperationTests) ... ok
test_create_ignore_swapped (migrations.test_operations.SwappableOperationTests) ... ok
test_delete_ignore_swapped (migrations.test_operations.SwappableOperationTests) ... ok
test_indexes_ignore_swapped (migrations.test_operations.SwappableOperationTests) ... ok
test_references_model_mixin (migrations.test_operations.TestCreateModel) ... ok

======================================================================
ERROR: test_alter_index_together_remove_with_unique_together (migrations.test_operations.OperationTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-12708/django/test/testcases.py", line 1215, in skip_wrapper
    return test_func(*args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-12708/tests/migrations/test_operations.py", line 1781, in test_alter_index_together_remove_with_unique_together
    operation.database_forwards(app_label, editor, project_state, new_state)
  File "/data/swe-fl/TMP/testbed/django__django-12708/django/db/migrations/operations/models.py", line 511, in database_forwards
    getattr(new_model._meta, self.option_name, set()),
  File "/data/swe-fl/TMP/testbed/django__django-12708/django/db/backends/base/schema.py", line 396, in alter_index_together
    self._delete_composed_index(model, fields, {'index': True}, self.sql_delete_index)
  File "/data/swe-fl/TMP/testbed/django__django-12708/django/db/backends/base/schema.py", line 419, in _delete_composed_index
    ", ".join(columns),
ValueError: Found wrong number (1) of constraints for test_alintoremove_wunto_pony(pink, weight)

----------------------------------------------------------------------
Ran 102 tests in 1.118s

FAILED (errors=1)
Destroying test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...
Destroying test database for alias 'other' ('file:memorydb_other?mode=memory&cache=shared')...

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 migrations.test_base migrations.test_operations` failed. (See above for error)

