{
    "search_replace_edits": [
        "### django/db/models/sql/compiler.py\n<<<<<<< SEARCH\n        for expr, (sql, params, is_ref) in order_by:\n            # Skip References to the select clause, as all expressions in the\n            # select clause are already part of the group by.\n            if not is_ref:\n                expressions.extend(expr.get_group_by_cols())\n=======\n        for expr, (sql, params, is_ref) in order_by:\n            # Skip References to the select clause, as all expressions in the\n            # select clause are already part of the group by.\n            if not is_ref and not expr.contains_aggregate:\n                expressions.extend([\n                    exp for exp in expr.get_source_expressions()\n                    if not isinstance(exp, Random)\n                ])\n>>>>>>> REPLACE\n"
    ]
}