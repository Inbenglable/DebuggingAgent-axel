### django/db/migrations/operations/fields.py
<<<<<<< SEARCH
        delay = not field.is_relation
=======
        delay = not field.is_relation and not isinstance(field, ForeignKey)
        if isinstance(field, ForeignKey):
            related_model_key = (field.remote_field.model._meta.app_label, field.remote_field.model._meta.model_name)
            if related_model_key not in state.relations:
                state.add_dependency(self.model_name_lower, related_model_key)
>>>>>>> REPLACE

### django/db/migrations/operations/fields.py
<<<<<<< SEARCH
        delay = (
            not field.is_relation and 
            not is_referenced_by_foreign_key(state, self.model_name_lower, self.field, self.name)
        )
=======
        delay = (
            not field.is_relation and 
            not is_referenced_by_foreign_key(state, self.model_name_lower, self.field, self.name)
        )
        if isinstance(field, ForeignKey):
            related_model_key = (field.remote_field.model._meta.app_label, field.remote_field.model._meta.model_name)
            if related_model_key not in state.relations:
                state.add_dependency(self.model_name_lower, related_model_key)
>>>>>>> REPLACE
