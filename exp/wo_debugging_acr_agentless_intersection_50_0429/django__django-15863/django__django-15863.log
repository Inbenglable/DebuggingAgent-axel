2025-04-29 09:47:59.687 | INFO     | swe_log:log_and_print:77 - ['test_inputs (template_tests.filter_tests.test_floatformat.FunctionTests)']
2025-04-29 09:47:59.688 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-04-29 09:47:59.688 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 template_tests.filter_tests.test_floatformat
2025-04-29 09:47:59.688 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-15863
2025-04-29 09:48:00.158 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-15863
2025-04-29 09:48:01.158 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: django__django-15863
2025-04-29 09:48:01.158 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-15863 && source /root/miniforge3/bin/activate django__django__4.2            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-15863           && python -m pip install -e . && echo SUCCESS
2025-04-29 09:48:07.219 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-04-29 09:48:28.007 | INFO     | swe_log:log_and_print:77 - Query time: 17.57 seconds
2025-04-29 09:48:34.293 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-04-29 09:48:51.831 | INFO     | swe_log:log_and_print:77 - Query time: 17.54 seconds
2025-04-29 09:48:51.833 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-04-29 09:48:54.968 | INFO     | swe_log:log_and_print:77 - Query time: 3.11 seconds
2025-04-29 09:48:54.974 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 09:48:54.975 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py.bak
2025-04-29 09:48:54.975 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/template/defaultfilters.py
2025-04-29 09:48:54.976 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-04-29 09:48:56.168 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 09:48:56.168 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py.bak
2025-04-29 09:48:56.169 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/template/defaultfilters.py
2025-04-29 09:48:57.693 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 09:48:57.694 | INFO     | swe_log:log_msg:72 - Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-15863/django'
Importing application template_tests
Found 10 test(s).
Skipping setup of unused database(s): default, other.
System check identified no issues (0 silenced).


2025-04-29 09:48:57.695 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 09:48:57.695 | INFO     | swe_log:log_msg:72 - test_floatformat01 (template_tests.filter_tests.test_floatformat.FloatformatTests) ... ok
test_floatformat02 (template_tests.filter_tests.test_floatformat.FloatformatTests) ... ok
test_float_dunder_method (template_tests.filter_tests.test_floatformat.FunctionTests) ... ok
test_force_grouping (template_tests.filter_tests.test_floatformat.FunctionTests) ... ok
test_infinity (template_tests.filter_tests.test_floatformat.FunctionTests) ... ERROR
test_inputs (template_tests.filter_tests.test_floatformat.FunctionTests) ... ERROR
test_low_decimal_precision (template_tests.filter_tests.test_floatformat.FunctionTests)
#15789 ... ok
test_negative_zero_values (template_tests.filter_tests.test_floatformat.FunctionTests) ... ok
test_unlocalize (template_tests.filter_tests.test_floatformat.FunctionTests) ... ERROR
test_zero_values (template_tests.filter_tests.test_floatformat.FunctionTests) ... ok

======================================================================
ERROR: test_infinity (template_tests.filter_tests.test_floatformat.FunctionTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 170, in floatformat
    m = int(d) - d
OverflowError: cannot convert Infinity to integer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/tests/template_tests/filter_tests/test_floatformat.py", line 128, in test_infinity
    self.assertEqual(floatformat(pos_inf), "inf")
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 172, in floatformat
    return input_val
UnboundLocalError: local variable 'input_val' referenced before assignment

======================================================================
ERROR: test_inputs (template_tests.filter_tests.test_floatformat.FunctionTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 165, in floatformat
    p = int(arg)
ValueError: invalid literal for int() with base 10: 'bar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/tests/template_tests/filter_tests/test_floatformat.py", line 64, in test_inputs
    self.assertEqual(floatformat(13.1031, "bar"), "13.1031")
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 167, in floatformat
    return input_val
UnboundLocalError: local variable 'input_val' referenced before assignment

======================================================================
ERROR: test_unlocalize (template_tests.filter_tests.test_floatformat.FunctionTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 165, in floatformat
    p = int(arg)
ValueError: invalid literal for int() with base 10: 'u2'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/tests/template_tests/filter_tests/test_floatformat.py", line 105, in test_unlocalize
    self.assertEqual(floatformat(66666.666, "u2"), "66666.666")
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 167, in floatformat
    return input_val
UnboundLocalError: local variable 'input_val' referenced before assignment

----------------------------------------------------------------------
Ran 10 tests in 0.011s

FAILED (errors=3)

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 template_tests.filter_tests.test_floatformat` failed. (See above for error)

