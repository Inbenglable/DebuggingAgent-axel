### lib/matplotlib/cbook/__init__.py
<<<<<<< SEARCH
    return next(val for val in obj if safe_isfinite(val))
=======
    # Return NaN if no finite value is present
    finite_vals = [val for val in obj if safe_isfinite(val)]
    if finite_vals:
        return finite_vals[0]
    return np.nan
>>>>>>> REPLACE

### lib/matplotlib/axes/_axes.py
<<<<<<< SEARCH
        dx = convert(dx)
=======
        # Handle NaN values gracefully when conversion fails
        if np.isnan(dx).all():
            return np.full_like(xconv, np.nan, dtype=np.float64)
        dx = convert(dx)
>>>>>>> REPLACE
