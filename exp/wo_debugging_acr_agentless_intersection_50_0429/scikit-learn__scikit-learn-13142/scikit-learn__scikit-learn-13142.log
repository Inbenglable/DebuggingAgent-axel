2025-04-29 08:58:22.300 | INFO     | swe_log:log_and_print:77 - ['sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_fit_predict_n_init', 'sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit_predict_n_init']
2025-04-29 08:58:22.301 | INFO     | swe_log:log_and_print:77 - python -m pip install -v --no-use-pep517 --no-build-isolation -e .
2025-04-29 08:58:22.301 | INFO     | swe_log:log_and_print:77 - pytest -rA sklearn/mixture/tests/test_bayesian_mixture.py sklearn/mixture/tests/test_gaussian_mixture.py
2025-04-29 08:58:22.301 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142
2025-04-29 08:58:22.472 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142
2025-04-29 08:58:31.559 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: scikit-learn__scikit-learn-13142
2025-04-29 08:58:31.560 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142 && source /root/miniforge3/bin/activate scikit-learn__scikit-learn__0.21            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142           && python -m pip install -v --no-use-pep517 --no-build-isolation -e . && echo SUCCESS
2025-04-29 08:59:51.647 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-04-29 08:59:56.600 | INFO     | swe_log:log_and_print:77 - Query time: 3.01 seconds
2025-04-29 08:59:58.943 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-04-29 09:00:01.140 | INFO     | swe_log:log_and_print:77 - Query time: 2.20 seconds
2025-04-29 09:00:01.143 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(1/5)
2025-04-29 09:00:05.085 | INFO     | swe_log:log_and_print:77 - Query time: 3.94 seconds
2025-04-29 09:00:05.088 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(2/5)
2025-04-29 09:00:07.762 | INFO     | swe_log:log_and_print:77 - Query time: 2.67 seconds
2025-04-29 09:00:07.764 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(3/5)
2025-04-29 09:00:10.389 | INFO     | swe_log:log_and_print:77 - Query time: 2.62 seconds
2025-04-29 09:00:10.392 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(4/5)
2025-04-29 09:00:14.495 | INFO     | swe_log:log_and_print:77 - Query time: 4.10 seconds
2025-04-29 09:00:14.498 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(5/5)
2025-04-29 09:00:14.498 | INFO     | swe_log:log_and_print:77 - Failed to get valid model response after multiple attempts.
2025-04-29 09:00:14.499 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to get valid model response after multiple attempts.
2025-04-29 09:00:14.499 | INFO     | swe_log:log_and_print:77 - 
Restart...(1/4
2025-04-29 09:00:17.344 | INFO     | swe_log:log_and_print:77 - Query time: 2.32 seconds
2025-04-29 09:00:17.441 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_file("sklearn/mixture/_gaussian_mixture.py", "GaussianMixture.fit_predict"). Error: File /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142/sklearn/mixture/_gaussian_mixture.py not found.
2025-04-29 09:00:17.441 | INFO     | swe_log:log_and_print:77 - Error occurred when invoking function call: search_method_in_file("sklearn/mixture/_gaussian_mixture.py", "GaussianMixture.predict"). Error: File /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142/sklearn/mixture/_gaussian_mixture.py not found.
2025-04-29 09:00:17.441 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-04-29 09:00:19.296 | INFO     | swe_log:log_and_print:77 - Query time: 1.85 seconds
2025-04-29 09:00:19.298 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(1/5)
2025-04-29 09:00:21.478 | INFO     | swe_log:log_and_print:77 - Query time: 2.18 seconds
2025-04-29 09:00:21.480 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(2/5)
2025-04-29 09:00:23.977 | INFO     | swe_log:log_and_print:77 - Query time: 2.50 seconds
2025-04-29 09:00:23.979 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(3/5)
2025-04-29 09:00:25.659 | INFO     | swe_log:log_and_print:77 - Query time: 1.68 seconds
2025-04-29 09:00:25.662 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(4/5)
2025-04-29 09:00:27.847 | INFO     | swe_log:log_and_print:77 - Query time: 2.18 seconds
2025-04-29 09:00:27.849 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
No valid API call result.
Retrying..(5/5)
2025-04-29 09:00:27.850 | INFO     | swe_log:log_and_print:77 - Failed to get valid model response after multiple attempts.
2025-04-29 09:00:27.850 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to get valid model response after multiple attempts.
2025-04-29 09:00:27.851 | INFO     | swe_log:log_and_print:77 - 
Restart...(2/4
2025-04-29 09:00:45.220 | INFO     | swe_log:log_and_print:77 - Query time: 16.86 seconds
2025-04-29 09:00:47.538 | INFO     | swe_log:log_and_print:77 - Query time: 2.09 seconds
2025-04-29 09:00:53.222 | INFO     | swe_log:log_and_print:77 - Query time: 5.63 seconds
2025-04-29 09:00:53.223 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-04-29 09:01:01.284 | INFO     | swe_log:log_and_print:77 - Query time: 8.06 seconds
2025-04-29 09:01:01.286 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-04-29 09:01:06.423 | INFO     | swe_log:log_and_print:77 - Query time: 5.12 seconds
2025-04-29 09:01:06.426 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 09:01:06.428 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 09:01:06.429 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142/sklearn/mixture/base.py.bak
2025-04-29 09:01:06.429 | INFO     | swe_log:log_msg:72 - Applied 2 edits to sklearn/mixture/base.py
2025-04-29 09:01:06.430 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-04-29 09:01:06.923 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 09:01:06.924 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 09:01:06.924 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142/sklearn/mixture/base.py.bak
2025-04-29 09:01:06.925 | INFO     | swe_log:log_msg:72 - Applied 2 edits to sklearn/mixture/base.py
2025-04-29 09:01:20.657 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 09:01:20.658 | INFO     | swe_log:log_msg:72 - ============================= test session starts ==============================
platform linux -- Python 3.6.15, pytest-6.2.5, py-1.11.0, pluggy-1.0.0
rootdir: /data/swe-fl/TMP/testbed/scikit-learn__scikit-learn-13142, configfile: setup.cfg
collected 56 items

sklearn/mixture/tests/test_bayesian_mixture.py .................F.       [ 33%]
sklearn/mixture/tests/test_gaussian_mixture.py .................F....... [ 78%]
............                                                             [100%]

=================================== FAILURES ===================================
___________________ test_bayesian_mixture_fit_predict_n_init ___________________

    def test_bayesian_mixture_fit_predict_n_init():
        # Check that fit_predict is equivalent to fit.predict, when n_init > 1
        X = np.random.RandomState(0).randn(1000, 5)
        gm = BayesianGaussianMixture(n_components=5, n_init=10, random_state=0)
        y_pred1 = gm.fit_predict(X)
        y_pred2 = gm.predict(X)
>       assert_array_equal(y_pred1, y_pred2)
E       AssertionError: 
E       Arrays are not equal
E       
E       Mismatched elements: 878 / 1000 (87.8%)
E       Max absolute difference: 4
E       Max relative difference: 2.
E        x: array([2, 2, 2, 2, 2, 1, 0, 2, 4, 2, 2, 0, 2, 2, 3, 2, 2, 0, 2, 2, 0, 2,
E              0, 2, 2, 2, 2, 3, 1, 3, 2, 4, 2, 2, 3, 2, 2, 2, 2, 1, 2, 2, 3, 2,
E              2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 2, 2, 3, 2,...
E        y: array([1, 0, 0, 0, 0, 0, 0, 0, 3, 2, 0, 2, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1,
E              1, 1, 1, 1, 0, 3, 0, 2, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 3, 1,
E              3, 0, 0, 0, 0, 0, 1, 2, 0, 0, 1, 0, 0, 1, 1, 1, 0, 3, 0, 0, 0, 1,...

sklearn/mixture/tests/test_bayesian_mixture.py:460: AssertionError
___________________ test_gaussian_mixture_fit_predict_n_init ___________________

    def test_gaussian_mixture_fit_predict_n_init():
        # Check that fit_predict is equivalent to fit.predict, when n_init > 1
        X = np.random.RandomState(0).randn(1000, 5)
        gm = GaussianMixture(n_components=5, n_init=5, random_state=0)
        y_pred1 = gm.fit_predict(X)
        y_pred2 = gm.predict(X)
>       assert_array_equal(y_pred1, y_pred2)
E       AssertionError: 
E       Arrays are not equal
E       
E       Mismatched elements: 815 / 1000 (81.5%)
E       Max absolute difference: 4
E       Max relative difference: 3.
E        x: array([1, 0, 0, 3, 0, 1, 2, 2, 4, 2, 4, 2, 4, 2, 2, 4, 0, 2, 1, 1, 3, 3,
E              3, 0, 1, 1, 4, 3, 0, 2, 0, 4, 3, 3, 2, 2, 2, 1, 0, 1, 1, 4, 2, 1,
E              4, 2, 4, 0, 2, 4, 2, 2, 3, 2, 1, 0, 0, 1, 1, 2, 0, 4, 0, 2, 2, 1,...
E        y: array([2, 4, 2, 1, 3, 4, 0, 1, 4, 3, 4, 0, 3, 3, 0, 3, 3, 0, 4, 2, 2, 2,
E              2, 2, 2, 2, 4, 1, 3, 0, 4, 4, 1, 2, 1, 0, 3, 3, 3, 2, 2, 4, 1, 2,
E              1, 0, 4, 0, 3, 3, 3, 0, 1, 0, 3, 3, 4, 2, 3, 0, 3, 4, 4, 0, 1, 3,...

sklearn/mixture/tests/test_gaussian_mixture.py:607: AssertionError
==================================== PASSES ====================================
=========================== short test summary info ============================
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_log_dirichlet_norm
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_log_wishart_norm
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_covariance_type
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_weight_concentration_prior_type
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_weights_prior_initialisation
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_mean_prior_initialisation
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_precisions_prior_initialisation
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_check_is_fitted
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_weights
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_monotonic_likelihood
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_compare_covar_type
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_check_covariance_precision
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_invariant_translation
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_fit_predict[0-2-1e-07]
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_fit_predict[1-2-0.1]
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_fit_predict[3-300-1e-07]
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_fit_predict[4-300-0.1]
PASSED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_predict_predict_proba
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_attributes
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_check_X
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_check_weights
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_check_means
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_check_precisions
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_suffstat_sk_full
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_suffstat_sk_tied
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_suffstat_sk_diag
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_suffstat_sk_spherical
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_compute_log_det_cholesky
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_log_probabilities
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_estimate_log_prob_resp
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_predict_predict_proba
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit_predict[0-2-1e-07]
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit_predict[1-2-0.1]
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit_predict[3-300-1e-07]
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit_predict[4-300-0.1]
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit_best_params
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit_convergence_warning
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_multiple_init
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_n_parameters
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_bic_1d_1component
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_aic_bic
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_verbose
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_warm_start[0]
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_warm_start[1]
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_warm_start[2]
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_convergence_detected_with_warm_start
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_score
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_score_samples
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_monotonic_likelihood
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_regularisation
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_property
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_sample
PASSED sklearn/mixture/tests/test_gaussian_mixture.py::test_init
FAILED sklearn/mixture/tests/test_bayesian_mixture.py::test_bayesian_mixture_fit_predict_n_init
FAILED sklearn/mixture/tests/test_gaussian_mixture.py::test_gaussian_mixture_fit_predict_n_init
================== 2 failed, 54 passed, 9 warnings in 12.73s ===================


2025-04-29 09:01:20.659 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 09:01:20.659 | INFO     | swe_log:log_msg:72 - ERROR conda.cli.main_run:execute(125): `conda run pytest -rA sklearn/mixture/tests/test_bayesian_mixture.py sklearn/mixture/tests/test_gaussian_mixture.py` failed. (See above for error)

