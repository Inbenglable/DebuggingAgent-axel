2025-05-02 18:18:58.433 | INFO     | swe_log:log_and_print:77 - ['test_submit_row_save_as_new_add_permission_required (admin_views.test_templatetags.AdminTemplateTagsTest.test_submit_row_save_as_new_add_permission_required)']
2025-05-02 18:18:58.434 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-05-02 18:18:58.434 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 admin_views.test_templatetags
2025-05-02 18:18:58.434 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-16527
2025-05-02 18:18:58.649 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-16527
2025-05-02 18:19:00.387 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: django__django-16527
2025-05-02 18:19:00.387 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-16527 && source /root/miniforge3/bin/activate django__django__5.0            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-16527           && python -m pip install -e . && echo SUCCESS
2025-05-02 18:20:40.575 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-02 18:20:40.576 | INFO     | swe_log:log_msg:72 - Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
Obtaining file:///data/swe-fl/SRC/pysnooper_axel/dbgsnooper
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Installing collected packages: dbgsnooper
  Attempting uninstall: dbgsnooper
    Found existing installation: dbgsnooper 1.2.1
    Uninstalling dbgsnooper-1.2.1:
      Successfully uninstalled dbgsnooper-1.2.1
  Running setup.py develop for dbgsnooper
Successfully installed dbgsnooper-1.2.1
Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
Obtaining file:///data/swe-fl/TMP/testbed/django__django-16527
  Installing build dependencies: started
  Installing build dependencies: still running...
  Installing build dependencies: finished with status 'error'

2025-05-02 18:20:40.577 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-02 18:20:40.577 | INFO     | swe_log:log_msg:72 -   DEPRECATION: Legacy editable install of dbgsnooper==1.2.1 from file:///data/swe-fl/SRC/pysnooper_axel/dbgsnooper (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
  error: subprocess-exited-with-error
  
  × pip subprocess to install build dependencies did not run successfully.
  │ exit code: 1
  ╰─> [8 lines of output]
      Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
      WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      WARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      WARNING: Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      WARNING: Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      WARNING: Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      ERROR: Could not find a version that satisfies the requirement setuptools>=40.8.0 (from versions: none)
      ERROR: No matching distribution found for setuptools>=40.8.0
      [end of output]
  
  note: This error originates from a subprocess, and is likely not a problem with pip.
error: subprocess-exited-with-error

× pip subprocess to install build dependencies did not run successfully.
│ exit code: 1
╰─> See above for output.

note: This error originates from a subprocess, and is likely not a problem with pip.

2025-05-02 18:20:40.578 | INFO     | swe_log:log_msg:72 - Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
Obtaining file:///data/swe-fl/SRC/pysnooper_axel/dbgsnooper
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Installing collected packages: dbgsnooper
  Attempting uninstall: dbgsnooper
    Found existing installation: dbgsnooper 1.2.1
    Uninstalling dbgsnooper-1.2.1:
      Successfully uninstalled dbgsnooper-1.2.1
  Running setup.py develop for dbgsnooper
Successfully installed dbgsnooper-1.2.1
Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
Obtaining file:///data/swe-fl/TMP/testbed/django__django-16527
  Installing build dependencies: started
  Installing build dependencies: still running...
  Installing build dependencies: finished with status 'error'

2025-05-02 18:20:40.578 | INFO     | swe_log:log_msg:72 -   DEPRECATION: Legacy editable install of dbgsnooper==1.2.1 from file:///data/swe-fl/SRC/pysnooper_axel/dbgsnooper (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
  error: subprocess-exited-with-error
  
  × pip subprocess to install build dependencies did not run successfully.
  │ exit code: 1
  ╰─> [8 lines of output]
      Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
      WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      WARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      WARNING: Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      WARNING: Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      WARNING: Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)")': /simple/setuptools/
      ERROR: Could not find a version that satisfies the requirement setuptools>=40.8.0 (from versions: none)
      ERROR: No matching distribution found for setuptools>=40.8.0
      [end of output]
  
  note: This error originates from a subprocess, and is likely not a problem with pip.
error: subprocess-exited-with-error

× pip subprocess to install build dependencies did not run successfully.
│ exit code: 1
╰─> See above for output.

note: This error originates from a subprocess, and is likely not a problem with pip.

2025-05-02 18:20:46.551 | INFO     | swe_log:log_and_print:77 - Query time: 2.08 seconds
2025-05-02 18:20:46.555 | INFO     | swe_log:log_and_print:77 - API call 1/4
2025-05-02 18:20:47.447 | INFO     | swe_log:log_and_print:77 - Query time: 0.89 seconds
2025-05-02 18:20:47.448 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-05-02 18:20:50.075 | INFO     | swe_log:log_and_print:77 - Query time: 2.60 seconds
2025-05-02 18:20:50.077 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-02 18:20:50.078 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-16527/django/contrib/admin/templatetags/admin_modify.py.bak
2025-05-02 18:20:50.078 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/contrib/admin/templatetags/admin_modify.py
2025-05-02 18:20:50.079 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-05-02 18:20:51.277 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-05-02 18:20:51.278 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-16527/django/contrib/admin/templatetags/admin_modify.py.bak
2025-05-02 18:20:51.278 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/contrib/admin/templatetags/admin_modify.py
2025-05-02 18:20:53.532 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-05-02 18:20:53.533 | INFO     | swe_log:log_msg:72 - Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-16485/django'
Importing application admin_views
Found 7 test(s).
Skipping setup of unused database(s): other.
Operations to perform:
  Synchronize unmigrated apps: admin_views, auth, contenttypes, messages, sessions, staticfiles
  Apply all migrations: admin, sites
Synchronizing apps without migrations:
  Creating tables...
    Creating table django_content_type
    Creating table auth_permission
    Creating table auth_group
    Creating table auth_user
    Creating table django_session
    Creating table admin_views_section
    Creating table admin_views_article
    Creating table admin_views_book
    Creating table admin_views_promo
    Creating table admin_views_chapter
    Creating table admin_views_chapterxtra1
    Creating table admin_views_chapterxtra2
    Creating table admin_views_rowlevelchangepermissionmodel
    Creating table admin_views_customarticle
    Creating table admin_views_modelwithstringprimarykey
    Creating table admin_views_color
    Creating table admin_views_thing
    Creating table admin_views_actor
    Creating table admin_views_inquisition
    Creating table admin_views_sketch
    Creating table admin_views_character
    Creating table admin_views_stumpjoke
    Creating table admin_views_fabric
    Creating table admin_views_person
    Creating table admin_views_persona
    Creating table admin_views_account
    Creating table admin_views_fooaccount
    Creating table admin_views_baraccount
    Creating table admin_views_subscriber
    Creating table admin_views_externalsubscriber
    Creating table admin_views_oldsubscriber
    Creating table admin_views_media
    Creating table admin_views_podcast
    Creating table admin_views_vodcast
    Creating table admin_views_parent
    Creating table admin_views_child
    Creating table admin_views_pkchild
    Creating table admin_views_toy
    Creating table admin_views_emptymodel
    Creating table admin_views_gallery
    Creating table admin_views_picture
    Creating table admin_views_language
    Creating table admin_views_title
    Creating table admin_views_titletranslation
    Creating table admin_views_recommender
    Creating table admin_views_recommendation
    Creating table admin_views_collector
    Creating table admin_views_widget
    Creating table admin_views_doohickey
    Creating table admin_views_grommet
    Creating table admin_views_whatsit
    Creating table admin_views_doodad
    Creating table admin_views_fancydoodad
    Creating table admin_views_category
    Creating table admin_views_link
    Creating table admin_views_prepopulatedpost
    Creating table admin_views_prepopulatedsubpost
    Creating table admin_views_post
    Creating table admin_views_gadget
    Creating table admin_views_villain
    Creating table admin_views_supervillain
    Creating table admin_views_funkytag
    Creating table admin_views_plot
    Creating table admin_views_plotdetails
    Creating table admin_views_secrethideout
    Creating table admin_views_supersecrethideout
    Creating table admin_views_bookmark
    Creating table admin_views_cyclicone
    Creating table admin_views_cyclictwo
    Creating table admin_views_topping
    Creating table admin_views_pizza
    Creating table admin_views_album
    Creating table admin_views_song
    Creating table admin_views_employee
    Creating table admin_views_workhour
    Creating table admin_views_manager
    Creating table admin_views_bonus
    Creating table admin_views_question
    Creating table admin_views_answer
    Creating table admin_views_reservation
    Creating table admin_views_fooddelivery
    Creating table admin_views_coverletter
    Creating table admin_views_paper
    Creating table admin_views_shortmessage
    Creating table admin_views_telegram
    Creating table admin_views_story
    Creating table admin_views_otherstory
    Creating table admin_views_complexsortedperson
    Creating table admin_views_pluggablesearchperson
    Creating table admin_views_prepopulatedpostlargeslug
    Creating table admin_views_adminorderedfield
    Creating table admin_views_adminorderedmodelmethod
    Creating table admin_views_adminorderedadminmethod
    Creating table admin_views_adminorderedcallable
    Creating table admin_views_report
    Creating table admin_views_mainprepopulated
    Creating table admin_views_relatedprepopulated
    Creating table admin_views_unorderedobject
    Creating table admin_views_undeletableobject
    Creating table admin_views_unchangeableobject
    Creating table admin_views_usermessenger
    Creating table admin_views_simple
    Creating table admin_views_choice
    Creating table admin_views_parentwithdependentchildren
    Creating table admin_views_dependentchild
    Creating table admin_views_filteredmanager
    Creating table admin_views_emptymodelvisible
    Creating table admin_views_emptymodelhidden
    Creating table admin_views_emptymodelmixin
    Creating table admin_views_state
    Creating table admin_views_city
    Creating table admin_views_restaurant
    Creating table admin_views_worker
    Creating table admin_views_referencedbyparent
    Creating table admin_views_parentwithfk
    Creating table admin_views_childofreferer
    Creating table admin_views_inlinereferer
    Creating table admin_views_referencedbyinline
    Creating table admin_views_inlinereference
    Creating table admin_views_recipe
    Creating table admin_views_ingredient
    Creating table admin_views_recipeingredient
    Creating table admin_views_notreferenced
    Creating table admin_views_explicitlyprovidedpk
    Creating table admin_views_implicitlygeneratedpk
    Creating table admin_views_referencedbygenrel
    Creating table admin_views_genrelreference
    Creating table admin_views_parentwithuuidpk
    Creating table admin_views_relatedwithuuidpkmodel
    Creating table admin_views_author
    Creating table admin_views_authorship
    Creating table admin_views_readonlyrelatedfield
    Creating table admin_views_héllo
    Creating table admin_views_box
    Creating table admin_views_country
    Creating table admin_views_traveler
    Running deferred SQL...
Running migrations:
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying sites.0001_initial... OK
  Applying sites.0002_alter_domain_unique... OK
System check identified no issues (1 silenced).


2025-05-02 18:20:53.534 | INFO     | swe_log:log_msg:72 - STDERR:
2025-05-02 18:20:53.534 | INFO     | swe_log:log_msg:72 - Creating test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...
test_override_change_form_template_tags (admin_views.test_templatetags.AdminTemplateTagsTest.test_override_change_form_template_tags)
admin_modify template tags follow the standard search pattern ... ok
test_override_change_list_template_tags (admin_views.test_templatetags.AdminTemplateTagsTest.test_override_change_list_template_tags)
admin_list template tags follow the standard search pattern ... ok
test_override_show_save_and_add_another (admin_views.test_templatetags.AdminTemplateTagsTest.test_override_show_save_and_add_another) ... ok
test_submit_row (admin_views.test_templatetags.AdminTemplateTagsTest.test_submit_row)
submit_row template tag should pass whole context. ... ok
test_submit_row_save_as_new_add_permission_required (admin_views.test_templatetags.AdminTemplateTagsTest.test_submit_row_save_as_new_add_permission_required) ... FAIL
test_choice_links (admin_views.test_templatetags.DateHierarchyTests.test_choice_links) ... ok
test_choice_links_datetime (admin_views.test_templatetags.DateHierarchyTests.test_choice_links_datetime) ... ok

======================================================================
FAIL: test_submit_row_save_as_new_add_permission_required (admin_views.test_templatetags.AdminTemplateTagsTest.test_submit_row_save_as_new_add_permission_required)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-16527/tests/admin_views/test_templatetags.py", line 52, in test_submit_row_save_as_new_add_permission_required
    self.assertIs(template_context["show_save_as_new"], False)
AssertionError: True is not False

----------------------------------------------------------------------
Ran 7 tests in 0.557s

FAILED (failures=1)
Destroying test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 admin_views.test_templatetags` failed. (See above for error)

