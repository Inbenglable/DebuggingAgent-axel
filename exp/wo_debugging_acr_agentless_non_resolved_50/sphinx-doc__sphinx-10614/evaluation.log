py39: commands[0]> python -X dev -X warn_default_encoding -m pytest -rA --durations 25 tests/roots/test-ext-inheritance_diagram/conf.py tests/roots/test-ext-inheritance_diagram/index.rst tests/roots/test-ext-inheritance_diagram/subdir/index.rst tests/roots/test-ext-inheritance_diagram/subdir/other.py tests/roots/test-ext-inheritance_diagram/test.py tests/test_ext_inheritance_diagram.py
[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.21, pytest-8.3.4, pluggy-1.5.0
cachedir: .tox/py39/.pytest_cache
libraries: Sphinx-7.2.0+/ac2b7599d, docutils-0.20.1
base tmp_path: /tmp/pytest-of-root/pytest-372
rootdir: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-10614
configfile: pyproject.toml
collected 6 items

tests/test_ext_inheritance_diagram.py [31mF[0m[31mF[0m[31mF[0m[32m.[0m[31mF[0m[32m.[0m[31m                             [100%][0m

=================================== FAILURES ===================================
[31m[1m___________________________ test_inheritance_diagram ___________________________[0m

app = <SphinxTestApp buildername='html'>
status = <_io.StringIO object at 0x7ff4558f8e10>
warning = <_io.StringIO object at 0x7ff4558f8eb0>

    [0m[37m@pytest[39;49;00m.mark.sphinx(buildername=[33m"[39;49;00m[33mhtml[39;49;00m[33m"[39;49;00m, testroot=[33m"[39;49;00m[33minheritance[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
    [37m@pytest[39;49;00m.mark.usefixtures([33m'[39;49;00m[33mif_graphviz_found[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [94mdef[39;49;00m[90m [39;49;00m[92mtest_inheritance_diagram[39;49;00m(app, status, warning):[90m[39;49;00m
        [90m# monkey-patch InheritaceDiagram.run() so we can get access to its[39;49;00m[90m[39;49;00m
        [90m# results.[39;49;00m[90m[39;49;00m
        orig_run = InheritanceDiagram.run[90m[39;49;00m
        graphs = {}[90m[39;49;00m
    [90m[39;49;00m
        [94mdef[39;49;00m[90m [39;49;00m[92mnew_run[39;49;00m([96mself[39;49;00m):[90m[39;49;00m
            result = orig_run([96mself[39;49;00m)[90m[39;49;00m
            node = result[[94m0[39;49;00m][90m[39;49;00m
            source = os.path.basename(node.document.current_source).replace([33m"[39;49;00m[33m.rst[39;49;00m[33m"[39;49;00m, [33m"[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
            graphs[source] = node[[33m'[39;49;00m[33mgraph[39;49;00m[33m'[39;49;00m][90m[39;49;00m
            [94mreturn[39;49;00m result[90m[39;49;00m
    [90m[39;49;00m
        InheritanceDiagram.run = new_run[90m[39;49;00m
    [90m[39;49;00m
        [94mtry[39;49;00m:[90m[39;49;00m
>           app.builder.build_all()[90m[39;49;00m

[1m[31mtests/test_ext_inheritance_diagram.py[0m:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
[1m[31msphinx/builders/__init__.py[0m:251: in build_all
    [0m[96mself[39;49;00m.build([94mNone[39;49;00m, summary=__([33m'[39;49;00m[33mall source files[39;49;00m[33m'[39;49;00m), method=[33m'[39;49;00m[33mall[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:362: in build
    [0m[96mself[39;49;00m.write(docnames, [96mlist[39;49;00m(updated_docnames), method)[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:569: in write
    [0m[96mself[39;49;00m._write_serial([96msorted[39;49;00m(docnames))[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:579: in _write_serial
    [0m[96mself[39;49;00m.write_doc(docname, doctree)[90m[39;49;00m
[1m[31msphinx/builders/html/__init__.py[0m:675: in write_doc
    [0m[96mself[39;49;00m.docwriter.write(doctree, destination)[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/writers/__init__.py[0m:80: in write
    [0m[96mself[39;49;00m.translate()[90m[39;49;00m
[1m[31msphinx/writers/html.py[0m:36: in translate
    [0m[96mself[39;49;00m.document.walkabout(visitor)[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:186: in walkabout
    [0m[94mif[39;49;00m child.walkabout(visitor):[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:186: in walkabout
    [0m[94mif[39;49;00m child.walkabout(visitor):[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:178: in walkabout
    [0mvisitor.dispatch_visit([96mself[39;49;00m)[90m[39;49;00m
[1m[31msphinx/util/docutils.py[0m:573: in dispatch_visit
    [0mmethod(node)[90m[39;49;00m
[1m[31msphinx/ext/inheritance_diagram.py[0m:426: in html_visit_inheritance_diagram
    [0mrender_dot_html([96mself[39;49;00m, node, dotcode, {}, [33m'[39;49;00m[33minheritance[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33minheritance[39;49;00m[33m'[39;49;00m,[90m[39;49;00m
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sphinx.writers.html5.HTML5Translator object at 0x7ff45542ff50>
node = <inheritance_diagram: <literal...><literal...><literal...><literal...><literal ...>
code = 'digraph inheritance030130c86c {\nbgcolor=transparent;\nrankdir=LR;\nsize="8.0, 12.0";\n  "dummy.test.A" [fillcolor=wh...style="setlinewidth(0.5),filled"];\n  "dummy.test.C" -> "dummy.test.F" [arrowsize=0.5,style="setlinewidth(0.5)"];\n}\n'
options = {}, prefix = 'inheritance', imgcls = 'inheritance'
alt = 'Inheritance diagram of dummy.test', filename = None

    [0m[94mdef[39;49;00m[90m [39;49;00m[92mrender_dot_html[39;49;00m([96mself[39;49;00m: HTML5Translator, node: graphviz, code: [96mstr[39;49;00m, options: [96mdict[39;49;00m,[90m[39;49;00m
                        prefix: [96mstr[39;49;00m = [33m'[39;49;00m[33mgraphviz[39;49;00m[33m'[39;49;00m, imgcls: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m,[90m[39;49;00m
                        alt: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m, filename: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m,[90m[39;49;00m
                        ) -> [96mtuple[39;49;00m[[96mstr[39;49;00m, [96mstr[39;49;00m]:[90m[39;49;00m
        [96mformat[39;49;00m = [96mself[39;49;00m.builder.config.graphviz_output_format[90m[39;49;00m
        [94mtry[39;49;00m:[90m[39;49;00m
            [94mif[39;49;00m [96mformat[39;49;00m [95mnot[39;49;00m [95min[39;49;00m ([33m'[39;49;00m[33mpng[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m):[90m[39;49;00m
                [94mraise[39;49;00m GraphvizError(__([33m"[39;49;00m[33mgraphviz_output_format must be one of [39;49;00m[33m'[39;49;00m[33mpng[39;49;00m[33m'[39;49;00m[33m, [39;49;00m[33m"[39;49;00m[90m[39;49;00m
                                       [33m"[39;49;00m[33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m[33m, but is [39;49;00m[33m%r[39;49;00m[33m"[39;49;00m) % [96mformat[39;49;00m)[90m[39;49;00m
>           docname = [96mself[39;49;00m.current_node.get([33m'[39;49;00m[33mdocname[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE           AttributeError: 'HTML5Translator' object has no attribute 'current_node'[0m

[1m[31msphinx/ext/graphviz.py[0m:317: AttributeError
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: html
# srcdir: /tmp/pytest-of-root/pytest-372/inheritance
# outdir: /tmp/pytest-of-root/pytest-372/inheritance/_build/html
# status: 
[01mRunning Sphinx v7.2.0+/ac2b7599d[39;49;00m
[01mbuilding [mo]: [39;49;00mall of 0 po files
[01mwriting output... [39;49;00m
[01mbuilding [html]: [39;49;00mall source files
[01mupdating environment: [39;49;00m[new config] 7 added, 0 changed, 0 removed
[2K[01mreading sources... [39;49;00m[ 14%] [35mbasic_diagram[39;49;00m
[2K[01mreading sources... [39;49;00m[ 29%] [35mdiagram_module_w_2_top_classes[39;49;00m
[2K[01mreading sources... [39;49;00m[ 43%] [35mdiagram_w_1_top_class[39;49;00m
[2K[01mreading sources... [39;49;00m[ 57%] [35mdiagram_w_2_top_classes[39;49;00m
[2K[01mreading sources... [39;49;00m[ 71%] [35mdiagram_w_nested_classes[39;49;00m
[2K[01mreading sources... [39;49;00m[ 86%] [35mdiagram_w_parts[39;49;00m
[2K[01mreading sources... [39;49;00m[100%] [35mindex[39;49;00m
[01mlooking for now-outdated files... [39;49;00mnone found
[01mpickling environment... [39;49;00mdone
[01mchecking consistency... [39;49;00mdone
[01mpreparing documents... [39;49;00mdone
[01mcopying assets... [39;49;00m[01mcopying static files... [39;49;00mdone
[01mcopying extra files... [39;49;00mdone
done
[2K[01mwriting output... [39;49;00m[ 14%] [32mbasic_diagram[39;49;00m
# warning: 

[31m[1m______________________ test_inheritance_diagram_png_html _______________________[0m

tmp_path = PosixPath('/tmp/pytest-of-root/pytest-372/test_inheritance_diagram_png_h0')
app = <SphinxTestApp buildername='html'>

    [0m[37m@pytest[39;49;00m.mark.sphinx([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m, testroot=[33m'[39;49;00m[33mext-inheritance_diagram[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [37m@pytest[39;49;00m.mark.usefixtures([33m'[39;49;00m[33mif_graphviz_found[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [94mdef[39;49;00m[90m [39;49;00m[92mtest_inheritance_diagram_png_html[39;49;00m(tmp_path, app):[90m[39;49;00m
        inv_file = tmp_path / [33m'[39;49;00m[33minventory[39;49;00m[33m'[39;49;00m[90m[39;49;00m
        inv_file.write_bytes(subdir_inventory)[90m[39;49;00m
        app.config.intersphinx_mapping = {[90m[39;49;00m
            [33m'[39;49;00m[33mhttps://example.org[39;49;00m[33m'[39;49;00m: [96mstr[39;49;00m(inv_file),[90m[39;49;00m
        }[90m[39;49;00m
        app.config.intersphinx_cache_limit = [94m0[39;49;00m[90m[39;49;00m
        normalize_intersphinx_mapping(app, app.config)[90m[39;49;00m
        load_mappings(app)[90m[39;49;00m
    [90m[39;49;00m
>       app.builder.build_all()[90m[39;49;00m

[1m[31mtests/test_ext_inheritance_diagram.py[0m:163: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
[1m[31msphinx/builders/__init__.py[0m:251: in build_all
    [0m[96mself[39;49;00m.build([94mNone[39;49;00m, summary=__([33m'[39;49;00m[33mall source files[39;49;00m[33m'[39;49;00m), method=[33m'[39;49;00m[33mall[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:362: in build
    [0m[96mself[39;49;00m.write(docnames, [96mlist[39;49;00m(updated_docnames), method)[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:569: in write
    [0m[96mself[39;49;00m._write_serial([96msorted[39;49;00m(docnames))[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:579: in _write_serial
    [0m[96mself[39;49;00m.write_doc(docname, doctree)[90m[39;49;00m
[1m[31msphinx/builders/html/__init__.py[0m:675: in write_doc
    [0m[96mself[39;49;00m.docwriter.write(doctree, destination)[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/writers/__init__.py[0m:80: in write
    [0m[96mself[39;49;00m.translate()[90m[39;49;00m
[1m[31msphinx/writers/html.py[0m:36: in translate
    [0m[96mself[39;49;00m.document.walkabout(visitor)[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:186: in walkabout
    [0m[94mif[39;49;00m child.walkabout(visitor):[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:186: in walkabout
    [0m[94mif[39;49;00m child.walkabout(visitor):[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:178: in walkabout
    [0mvisitor.dispatch_visit([96mself[39;49;00m)[90m[39;49;00m
[1m[31msphinx/util/docutils.py[0m:573: in dispatch_visit
    [0mmethod(node)[90m[39;49;00m
[1m[31msphinx/ext/inheritance_diagram.py[0m:426: in html_visit_inheritance_diagram
    [0mrender_dot_html([96mself[39;49;00m, node, dotcode, {}, [33m'[39;49;00m[33minheritance[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33minheritance[39;49;00m[33m'[39;49;00m,[90m[39;49;00m
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sphinx.writers.html5.HTML5Translator object at 0x7ff4554c8af0>
node = <inheritance_diagram: <literal...>>
code = 'digraph inheritance49015be2c7 {\nbgcolor=transparent;\nrankdir=LR;\nsize="8.0, 12.0";\n  "test.Foo" [fillcolor=white,...ns, Liberation Sans, Arial, Helvetica, sans",fontsize=10,height=0.25,shape=box,style="setlinewidth(0.5),filled"];\n}\n'
options = {}, prefix = 'inheritance', imgcls = 'inheritance'
alt = 'Inheritance diagram of test.Foo', filename = None

    [0m[94mdef[39;49;00m[90m [39;49;00m[92mrender_dot_html[39;49;00m([96mself[39;49;00m: HTML5Translator, node: graphviz, code: [96mstr[39;49;00m, options: [96mdict[39;49;00m,[90m[39;49;00m
                        prefix: [96mstr[39;49;00m = [33m'[39;49;00m[33mgraphviz[39;49;00m[33m'[39;49;00m, imgcls: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m,[90m[39;49;00m
                        alt: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m, filename: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m,[90m[39;49;00m
                        ) -> [96mtuple[39;49;00m[[96mstr[39;49;00m, [96mstr[39;49;00m]:[90m[39;49;00m
        [96mformat[39;49;00m = [96mself[39;49;00m.builder.config.graphviz_output_format[90m[39;49;00m
        [94mtry[39;49;00m:[90m[39;49;00m
            [94mif[39;49;00m [96mformat[39;49;00m [95mnot[39;49;00m [95min[39;49;00m ([33m'[39;49;00m[33mpng[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m):[90m[39;49;00m
                [94mraise[39;49;00m GraphvizError(__([33m"[39;49;00m[33mgraphviz_output_format must be one of [39;49;00m[33m'[39;49;00m[33mpng[39;49;00m[33m'[39;49;00m[33m, [39;49;00m[33m"[39;49;00m[90m[39;49;00m
                                       [33m"[39;49;00m[33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m[33m, but is [39;49;00m[33m%r[39;49;00m[33m"[39;49;00m) % [96mformat[39;49;00m)[90m[39;49;00m
>           docname = [96mself[39;49;00m.current_node.get([33m'[39;49;00m[33mdocname[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE           AttributeError: 'HTML5Translator' object has no attribute 'current_node'[0m

[1m[31msphinx/ext/graphviz.py[0m:317: AttributeError
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: html
# srcdir: /tmp/pytest-of-root/pytest-372/ext-inheritance_diagram
# outdir: /tmp/pytest-of-root/pytest-372/ext-inheritance_diagram/_build/html
# status: 
[01mRunning Sphinx v7.2.0+/ac2b7599d[39;49;00m
loading intersphinx inventory from /tmp/pytest-of-root/pytest-372/test_inheritance_diagram_png_h0/inventory...
[01mbuilding [mo]: [39;49;00mall of 0 po files
[01mwriting output... [39;49;00m
[01mbuilding [html]: [39;49;00mall source files
[01mupdating environment: [39;49;00m[new config] 2 added, 0 changed, 0 removed
[2K[01mreading sources... [39;49;00m[ 50%] [35mindex[39;49;00m
[2K[01mreading sources... [39;49;00m[100%] [35msubdir/index[39;49;00m
[01mlooking for now-outdated files... [39;49;00mnone found
[01mpickling environment... [39;49;00mdone
[01mchecking consistency... [39;49;00mdone
[01mpreparing documents... [39;49;00mdone
[01mcopying assets... [39;49;00m[01mcopying static files... [39;49;00mdone
[01mcopying extra files... [39;49;00mdone
done
[2K[01mwriting output... [39;49;00m[ 50%] [32mindex[39;49;00m
# warning: 
[91mWARNING: The pre-Sphinx 1.0 'intersphinx_mapping' format is deprecated and will be removed in Sphinx 8. Update to the current format as described in the documentation. Hint: "intersphinx_mapping = {'<name>': ('https://example.org', '/tmp/pytest-of-root/pytest-372/test_inheritance_diagram_png_h0/inventory')}".https://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html#confval-intersphinx_mapping[39;49;00m
[91m/tmp/pytest-of-root/pytest-372/ext-inheritance_diagram/subdir/index.rst: WARNING: document isn't included in any toctree[39;49;00m

[31m[1m______________________ test_inheritance_diagram_svg_html _______________________[0m

tmp_path = PosixPath('/tmp/pytest-of-root/pytest-372/test_inheritance_diagram_svg_h0')
app = <SphinxTestApp buildername='html'>

    [0m[37m@pytest[39;49;00m.mark.sphinx([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m, testroot=[33m'[39;49;00m[33mext-inheritance_diagram[39;49;00m[33m'[39;49;00m,[90m[39;49;00m
                        confoverrides={[33m'[39;49;00m[33mgraphviz_output_format[39;49;00m[33m'[39;49;00m: [33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m})[90m[39;49;00m
    [37m@pytest[39;49;00m.mark.usefixtures([33m'[39;49;00m[33mif_graphviz_found[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [94mdef[39;49;00m[90m [39;49;00m[92mtest_inheritance_diagram_svg_html[39;49;00m(tmp_path, app):[90m[39;49;00m
        inv_file = tmp_path / [33m'[39;49;00m[33minventory[39;49;00m[33m'[39;49;00m[90m[39;49;00m
        inv_file.write_bytes(subdir_inventory)[90m[39;49;00m
        app.config.intersphinx_mapping = {[90m[39;49;00m
            [33m"[39;49;00m[33msubdir[39;49;00m[33m"[39;49;00m: ([33m'[39;49;00m[33mhttps://example.org[39;49;00m[33m'[39;49;00m, [96mstr[39;49;00m(inv_file)),[90m[39;49;00m
        }[90m[39;49;00m
        app.config.intersphinx_cache_limit = [94m0[39;49;00m[90m[39;49;00m
        normalize_intersphinx_mapping(app, app.config)[90m[39;49;00m
        load_mappings(app)[90m[39;49;00m
    [90m[39;49;00m
>       app.builder.build_all()[90m[39;49;00m

[1m[31mtests/test_ext_inheritance_diagram.py[0m:210: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
[1m[31msphinx/builders/__init__.py[0m:251: in build_all
    [0m[96mself[39;49;00m.build([94mNone[39;49;00m, summary=__([33m'[39;49;00m[33mall source files[39;49;00m[33m'[39;49;00m), method=[33m'[39;49;00m[33mall[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:362: in build
    [0m[96mself[39;49;00m.write(docnames, [96mlist[39;49;00m(updated_docnames), method)[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:569: in write
    [0m[96mself[39;49;00m._write_serial([96msorted[39;49;00m(docnames))[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:579: in _write_serial
    [0m[96mself[39;49;00m.write_doc(docname, doctree)[90m[39;49;00m
[1m[31msphinx/builders/html/__init__.py[0m:675: in write_doc
    [0m[96mself[39;49;00m.docwriter.write(doctree, destination)[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/writers/__init__.py[0m:80: in write
    [0m[96mself[39;49;00m.translate()[90m[39;49;00m
[1m[31msphinx/writers/html.py[0m:36: in translate
    [0m[96mself[39;49;00m.document.walkabout(visitor)[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:186: in walkabout
    [0m[94mif[39;49;00m child.walkabout(visitor):[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:186: in walkabout
    [0m[94mif[39;49;00m child.walkabout(visitor):[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:178: in walkabout
    [0mvisitor.dispatch_visit([96mself[39;49;00m)[90m[39;49;00m
[1m[31msphinx/util/docutils.py[0m:573: in dispatch_visit
    [0mmethod(node)[90m[39;49;00m
[1m[31msphinx/ext/inheritance_diagram.py[0m:426: in html_visit_inheritance_diagram
    [0mrender_dot_html([96mself[39;49;00m, node, dotcode, {}, [33m'[39;49;00m[33minheritance[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33minheritance[39;49;00m[33m'[39;49;00m,[90m[39;49;00m
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sphinx.writers.html5.HTML5Translator object at 0x7ff4553b4cd0>
node = <inheritance_diagram: <literal...>>
code = 'digraph inheritance49015be2c7 {\nbgcolor=transparent;\nrankdir=LR;\nsize="8.0, 12.0";\n  "test.Foo" [fillcolor=white,...ns, Liberation Sans, Arial, Helvetica, sans",fontsize=10,height=0.25,shape=box,style="setlinewidth(0.5),filled"];\n}\n'
options = {}, prefix = 'inheritance', imgcls = 'inheritance'
alt = 'Inheritance diagram of test.Foo', filename = None

    [0m[94mdef[39;49;00m[90m [39;49;00m[92mrender_dot_html[39;49;00m([96mself[39;49;00m: HTML5Translator, node: graphviz, code: [96mstr[39;49;00m, options: [96mdict[39;49;00m,[90m[39;49;00m
                        prefix: [96mstr[39;49;00m = [33m'[39;49;00m[33mgraphviz[39;49;00m[33m'[39;49;00m, imgcls: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m,[90m[39;49;00m
                        alt: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m, filename: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m,[90m[39;49;00m
                        ) -> [96mtuple[39;49;00m[[96mstr[39;49;00m, [96mstr[39;49;00m]:[90m[39;49;00m
        [96mformat[39;49;00m = [96mself[39;49;00m.builder.config.graphviz_output_format[90m[39;49;00m
        [94mtry[39;49;00m:[90m[39;49;00m
            [94mif[39;49;00m [96mformat[39;49;00m [95mnot[39;49;00m [95min[39;49;00m ([33m'[39;49;00m[33mpng[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m):[90m[39;49;00m
                [94mraise[39;49;00m GraphvizError(__([33m"[39;49;00m[33mgraphviz_output_format must be one of [39;49;00m[33m'[39;49;00m[33mpng[39;49;00m[33m'[39;49;00m[33m, [39;49;00m[33m"[39;49;00m[90m[39;49;00m
                                       [33m"[39;49;00m[33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m[33m, but is [39;49;00m[33m%r[39;49;00m[33m"[39;49;00m) % [96mformat[39;49;00m)[90m[39;49;00m
>           docname = [96mself[39;49;00m.current_node.get([33m'[39;49;00m[33mdocname[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE           AttributeError: 'HTML5Translator' object has no attribute 'current_node'[0m

[1m[31msphinx/ext/graphviz.py[0m:317: AttributeError
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: html
# srcdir: /tmp/pytest-of-root/pytest-372/ext-inheritance_diagram
# outdir: /tmp/pytest-of-root/pytest-372/ext-inheritance_diagram/_build/html
# status: 
[01mRunning Sphinx v7.2.0+/ac2b7599d[39;49;00m
[01mloading pickled environment... [39;49;00mdone
loading intersphinx inventory from /tmp/pytest-of-root/pytest-372/test_inheritance_diagram_svg_h0/inventory...
[01mbuilding [mo]: [39;49;00mall of 0 po files
[01mwriting output... [39;49;00m
[01mbuilding [html]: [39;49;00mall source files
[01mupdating environment: [39;49;00m[config changed ('intersphinx_mapping')] 2 added, 0 changed, 0 removed
[2K[01mreading sources... [39;49;00m[ 50%] [35mindex[39;49;00m
[2K[01mreading sources... [39;49;00m[100%] [35msubdir/index[39;49;00m
[01mlooking for now-outdated files... [39;49;00mnone found
[01mpickling environment... [39;49;00mdone
[01mchecking consistency... [39;49;00mdone
[01mpreparing documents... [39;49;00mdone
[01mcopying assets... [39;49;00m[01mcopying static files... [39;49;00mdone
[01mcopying extra files... [39;49;00mdone
done
[2K[01mwriting output... [39;49;00m[ 50%] [32mindex[39;49;00m
# warning: 
[91m/tmp/pytest-of-root/pytest-372/ext-inheritance_diagram/subdir/index.rst: WARNING: document isn't included in any toctree[39;49;00m

[31m[1m_____________________ test_inheritance_diagram_latex_alias _____________________[0m

app = <SphinxTestApp buildername='html'>
status = <_io.StringIO object at 0x7ff4550b9a50>
warning = <_io.StringIO object at 0x7ff4550b9370>

    [0m[37m@pytest[39;49;00m.mark.sphinx([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m, testroot=[33m'[39;49;00m[33mext-inheritance_diagram[39;49;00m[33m'[39;49;00m,[90m[39;49;00m
                        srcdir=[33m'[39;49;00m[33mext-inheritance_diagram-alias[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [37m@pytest[39;49;00m.mark.usefixtures([33m'[39;49;00m[33mif_graphviz_found[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [94mdef[39;49;00m[90m [39;49;00m[92mtest_inheritance_diagram_latex_alias[39;49;00m(app, status, warning):[90m[39;49;00m
        app.config.inheritance_alias = {[33m'[39;49;00m[33mtest.Foo[39;49;00m[33m'[39;49;00m: [33m'[39;49;00m[33malias.Foo[39;49;00m[33m'[39;49;00m}[90m[39;49;00m
>       app.builder.build_all()[90m[39;49;00m

[1m[31mtests/test_ext_inheritance_diagram.py[0m:267: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
[1m[31msphinx/builders/__init__.py[0m:251: in build_all
    [0m[96mself[39;49;00m.build([94mNone[39;49;00m, summary=__([33m'[39;49;00m[33mall source files[39;49;00m[33m'[39;49;00m), method=[33m'[39;49;00m[33mall[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:362: in build
    [0m[96mself[39;49;00m.write(docnames, [96mlist[39;49;00m(updated_docnames), method)[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:569: in write
    [0m[96mself[39;49;00m._write_serial([96msorted[39;49;00m(docnames))[90m[39;49;00m
[1m[31msphinx/builders/__init__.py[0m:579: in _write_serial
    [0m[96mself[39;49;00m.write_doc(docname, doctree)[90m[39;49;00m
[1m[31msphinx/builders/html/__init__.py[0m:675: in write_doc
    [0m[96mself[39;49;00m.docwriter.write(doctree, destination)[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/writers/__init__.py[0m:80: in write
    [0m[96mself[39;49;00m.translate()[90m[39;49;00m
[1m[31msphinx/writers/html.py[0m:36: in translate
    [0m[96mself[39;49;00m.document.walkabout(visitor)[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:186: in walkabout
    [0m[94mif[39;49;00m child.walkabout(visitor):[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:186: in walkabout
    [0m[94mif[39;49;00m child.walkabout(visitor):[90m[39;49;00m
[1m[31m/root/miniforge3/envs/sphinx-doc__sphinx__7.2/lib/python3.9/site-packages/docutils/nodes.py[0m:178: in walkabout
    [0mvisitor.dispatch_visit([96mself[39;49;00m)[90m[39;49;00m
[1m[31msphinx/util/docutils.py[0m:573: in dispatch_visit
    [0mmethod(node)[90m[39;49;00m
[1m[31msphinx/ext/inheritance_diagram.py[0m:426: in html_visit_inheritance_diagram
    [0mrender_dot_html([96mself[39;49;00m, node, dotcode, {}, [33m'[39;49;00m[33minheritance[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33minheritance[39;49;00m[33m'[39;49;00m,[90m[39;49;00m
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sphinx.writers.html5.HTML5Translator object at 0x7ff454c760f0>
node = <inheritance_diagram: <literal...>>
code = 'digraph inheritance49015be2c7 {\nbgcolor=transparent;\nrankdir=LR;\nsize="8.0, 12.0";\n  "alias.Foo" [fillcolor=white...ns, Liberation Sans, Arial, Helvetica, sans",fontsize=10,height=0.25,shape=box,style="setlinewidth(0.5),filled"];\n}\n'
options = {}, prefix = 'inheritance', imgcls = 'inheritance'
alt = 'Inheritance diagram of test.Foo', filename = None

    [0m[94mdef[39;49;00m[90m [39;49;00m[92mrender_dot_html[39;49;00m([96mself[39;49;00m: HTML5Translator, node: graphviz, code: [96mstr[39;49;00m, options: [96mdict[39;49;00m,[90m[39;49;00m
                        prefix: [96mstr[39;49;00m = [33m'[39;49;00m[33mgraphviz[39;49;00m[33m'[39;49;00m, imgcls: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m,[90m[39;49;00m
                        alt: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m, filename: [96mstr[39;49;00m | [94mNone[39;49;00m = [94mNone[39;49;00m,[90m[39;49;00m
                        ) -> [96mtuple[39;49;00m[[96mstr[39;49;00m, [96mstr[39;49;00m]:[90m[39;49;00m
        [96mformat[39;49;00m = [96mself[39;49;00m.builder.config.graphviz_output_format[90m[39;49;00m
        [94mtry[39;49;00m:[90m[39;49;00m
            [94mif[39;49;00m [96mformat[39;49;00m [95mnot[39;49;00m [95min[39;49;00m ([33m'[39;49;00m[33mpng[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m):[90m[39;49;00m
                [94mraise[39;49;00m GraphvizError(__([33m"[39;49;00m[33mgraphviz_output_format must be one of [39;49;00m[33m'[39;49;00m[33mpng[39;49;00m[33m'[39;49;00m[33m, [39;49;00m[33m"[39;49;00m[90m[39;49;00m
                                       [33m"[39;49;00m[33m'[39;49;00m[33msvg[39;49;00m[33m'[39;49;00m[33m, but is [39;49;00m[33m%r[39;49;00m[33m"[39;49;00m) % [96mformat[39;49;00m)[90m[39;49;00m
>           docname = [96mself[39;49;00m.current_node.get([33m'[39;49;00m[33mdocname[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE           AttributeError: 'HTML5Translator' object has no attribute 'current_node'[0m

[1m[31msphinx/ext/graphviz.py[0m:317: AttributeError
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: html
# srcdir: /tmp/pytest-of-root/pytest-372/ext-inheritance_diagram-alias
# outdir: /tmp/pytest-of-root/pytest-372/ext-inheritance_diagram-alias/_build/html
# status: 
[01mRunning Sphinx v7.2.0+/ac2b7599d[39;49;00m
[01mbuilding [mo]: [39;49;00mall of 0 po files
[01mwriting output... [39;49;00m
[01mbuilding [html]: [39;49;00mall source files
[01mupdating environment: [39;49;00m[new config] 2 added, 0 changed, 0 removed
[2K[01mreading sources... [39;49;00m[ 50%] [35mindex[39;49;00m
[2K[01mreading sources... [39;49;00m[100%] [35msubdir/index[39;49;00m
[01mlooking for now-outdated files... [39;49;00mnone found
[01mpickling environment... [39;49;00mdone
[01mchecking consistency... [39;49;00mdone
[01mpreparing documents... [39;49;00mdone
[01mcopying assets... [39;49;00m[01mcopying static files... [39;49;00mdone
[01mcopying extra files... [39;49;00mdone
done
[2K[01mwriting output... [39;49;00m[ 50%] [32mindex[39;49;00m
# warning: 
[91m/tmp/pytest-of-root/pytest-372/ext-inheritance_diagram-alias/subdir/index.rst: WARNING: document isn't included in any toctree[39;49;00m

==================================== PASSES ====================================
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: latex
# srcdir: /tmp/pytest-of-root/pytest-372/ext-inheritance_diagram
# outdir: /tmp/pytest-of-root/pytest-372/ext-inheritance_diagram/_build/latex
# status: 
[01mRunning Sphinx v7.2.0+/ac2b7599d[39;49;00m
[01mloading pickled environment... [39;49;00mdone
[01mbuilding [mo]: [39;49;00mall of 0 po files
[01mwriting output... [39;49;00m
[01mbuilding [latex]: [39;49;00mall source files
[01mupdating environment: [39;49;00m[config changed ('intersphinx_mapping')] 2 added, 0 changed, 0 removed
[2K[01mreading sources... [39;49;00m[ 50%] [35mindex[39;49;00m
[2K[01mreading sources... [39;49;00m[100%] [35msubdir/index[39;49;00m
[01mlooking for now-outdated files... [39;49;00mnone found
[01mpickling environment... [39;49;00mdone
[01mchecking consistency... [39;49;00mdone
[01mcopying TeX support files... [39;49;00m[01mcopying TeX support files...[39;49;00m
done
[01mprocessing python.tex... [39;49;00m[32mindex[39;49;00m 
resolving references...
done
[01mwriting... [39;49;00mdone

# warning: 
[91m/tmp/pytest-of-root/pytest-372/ext-inheritance_diagram/subdir/index.rst: WARNING: document isn't included in any toctree[39;49;00m

============================= slowest 25 durations =============================
0.19s setup    tests/test_ext_inheritance_diagram.py::test_inheritance_diagram_latex
0.15s call     tests/test_ext_inheritance_diagram.py::test_inheritance_diagram_latex
0.12s setup    tests/test_ext_inheritance_diagram.py::test_inheritance_diagram
0.11s call     tests/test_ext_inheritance_diagram.py::test_inheritance_diagram
0.11s call     tests/test_ext_inheritance_diagram.py::test_inheritance_diagram_latex_alias
0.07s call     tests/test_ext_inheritance_diagram.py::test_inheritance_diagram_png_html
0.07s call     tests/test_ext_inheritance_diagram.py::test_inheritance_diagram_svg_html
0.04s setup    tests/test_ext_inheritance_diagram.py::test_inheritance_diagram_png_html
0.04s setup    tests/test_ext_inheritance_diagram.py::test_inheritance_diagram_svg_html
0.03s setup    tests/test_ext_inheritance_diagram.py::test_inheritance_diagram_latex_alias

(8 durations < 0.005s hidden.  Use -vv to show these durations.)
[36m[1m=========================== short test summary info ============================[0m
[32mPASSED[0m tests/test_ext_inheritance_diagram.py::[1mtest_inheritance_diagram_latex[0m
[32mPASSED[0m tests/test_ext_inheritance_diagram.py::[1mtest_import_classes[0m
[31mFAILED[0m tests/test_ext_inheritance_diagram.py::[1mtest_inheritance_diagram[0m - AttributeError: 'HTML5Translator' object has no attribute 'current_node'
[31mFAILED[0m tests/test_ext_inheritance_diagram.py::[1mtest_inheritance_diagram_png_html[0m - AttributeError: 'HTML5Translator' object has no attribute 'current_node'
[31mFAILED[0m tests/test_ext_inheritance_diagram.py::[1mtest_inheritance_diagram_svg_html[0m - AttributeError: 'HTML5Translator' object has no attribute 'current_node'
[31mFAILED[0m tests/test_ext_inheritance_diagram.py::[1mtest_inheritance_diagram_latex_alias[0m - AttributeError: 'HTML5Translator' object has no attribute 'current_node'
[31m========================= [31m[1m4 failed[0m, [32m2 passed[0m[31m in 2.07s[0m[31m ==========================[0m
py39: exit 1 (2.78 seconds) /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-10614> python -X dev -X warn_default_encoding -m pytest -rA --durations 25 tests/roots/test-ext-inheritance_diagram/conf.py tests/roots/test-ext-inheritance_diagram/index.rst tests/roots/test-ext-inheritance_diagram/subdir/index.rst tests/roots/test-ext-inheritance_diagram/subdir/other.py tests/roots/test-ext-inheritance_diagram/test.py tests/test_ext_inheritance_diagram.py pid=1110490
  py39: FAIL code 1 (2.86=setup[0.08]+cmd[2.78] seconds)
  evaluation failed :( (3.07 seconds)

ERROR conda.cli.main_run:execute(125): `conda run tox --current-env -epy39 -v -- tests/roots/test-ext-inheritance_diagram/conf.py tests/roots/test-ext-inheritance_diagram/index.rst tests/roots/test-ext-inheritance_diagram/subdir/index.rst tests/roots/test-ext-inheritance_diagram/subdir/other.py tests/roots/test-ext-inheritance_diagram/test.py tests/test_ext_inheritance_diagram.py` failed. (See above for error)
