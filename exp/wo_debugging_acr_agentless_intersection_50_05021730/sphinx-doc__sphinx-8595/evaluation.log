py39: commands[0]> python -X dev -m pytest -rA --durations 25 tests/roots/test-ext-autodoc/target/empty_all.py tests/test_ext_autodoc_automodule.py
[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.21, pytest-8.3.4, pluggy-1.5.0
cachedir: .tox/py39/.pytest_cache
libraries: Sphinx-3.5.0+/b19bce971, docutils-0.21.2
base tempdir: /tmp/pytest-of-root/pytest-417
rootdir: /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8595
configfile: setup.cfg
plugins: cov-6.0.0
collected 1 item

tests/test_ext_autodoc_automodule.py [31mF[0m[31m                                   [100%][0m

=================================== FAILURES ===================================
[31m[1m________________________________ test_empty_all ________________________________[0m

app = <SphinxTestApp buildername='html'>

    [0m[37m@pytest[39;49;00m.mark.sphinx([33m'[39;49;00m[33mhtml[39;49;00m[33m'[39;49;00m, testroot=[33m'[39;49;00m[33mext-autodoc[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [94mdef[39;49;00m[90m [39;49;00m[92mtest_empty_all[39;49;00m(app):[90m[39;49;00m
        options = {[33m'[39;49;00m[33mmembers[39;49;00m[33m'[39;49;00m: [94mTrue[39;49;00m}[90m[39;49;00m
>       actual = do_autodoc(app, [33m'[39;49;00m[33mmodule[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33mtarget.empty_all[39;49;00m[33m'[39;49;00m, options)[90m[39;49;00m

[1m[31mtests/test_ext_autodoc_automodule.py[0m:20: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
[1m[31mtests/test_ext_autodoc.py[0m:43: in do_autodoc
    [0mdocumenter.generate()[90m[39;49;00m
[1m[31msphinx/ext/autodoc/__init__.py[0m:972: in generate
    [0m[96mself[39;49;00m.document_members(all_members)[90m[39;49;00m
[1m[31msphinx/ext/autodoc/__init__.py[0m:834: in document_members
    [0m[94mfor[39;49;00m (mname, member, isattr) [95min[39;49;00m [96mself[39;49;00m.filter_members(members, want_all):[90m[39;49;00m
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sphinx.ext.autodoc.ModuleDocumenter object at 0x7ff1a4484a50>
members = [('@py_builtins', <module 'builtins' (built-in)>), ('@pytest_ar', <module '_pytest.assertion.rewrite' from '/root/mini.../test-ext-autodoc/target/__pycache__/empty_all.cpython-39.pyc'), ('__doc__', '\ndocsting of empty_all module.\n'), ...]
want_all = True, module_all = None

    [0m[94mdef[39;49;00m[90m [39;49;00m[92mfilter_members[39;49;00m([96mself[39;49;00m, members: ObjectMembers, want_all: [96mbool[39;49;00m, module_all: Optional[List[[96mstr[39;49;00m]] = [94mNone[39;49;00m[90m[39;49;00m
                       ) -> List[Tuple[[96mstr[39;49;00m, Any, [96mbool[39;49;00m]]:[90m[39;49;00m
    [90m    [39;49;00m[33m"""Filter the given member list.[39;49;00m
    [33m[39;49;00m
    [33m    Members are skipped if[39;49;00m
    [33m[39;49;00m
    [33m    - they are private (except if given explicitly or the private-members[39;49;00m
    [33m      option is set)[39;49;00m
    [33m    - they are special methods (except if given explicitly or the[39;49;00m
    [33m      special-members option is set)[39;49;00m
    [33m    - they are undocumented (except if the undoc-members option is set)[39;49;00m
    [33m[39;49;00m
    [33m    The user can override the skipping decision by connecting to the[39;49;00m
    [33m    ``autodoc-skip-member`` event.[39;49;00m
    [33m    """[39;49;00m[90m[39;49;00m
        [94mif[39;49;00m module_all [95mis[39;49;00m [95mnot[39;49;00m [94mNone[39;49;00m:[90m[39;49;00m
            [90m# If __all__ is explicitly set to an empty list, no members should be documented[39;49;00m[90m[39;49;00m
            [94mif[39;49;00m [95mnot[39;49;00m module_all:[90m[39;49;00m
                [94mreturn[39;49;00m [][90m[39;49;00m
    [90m[39;49;00m
            [94mif[39;49;00m inspect.isclass([96mself[39;49;00m.object):[90m[39;49;00m
                [94mfor[39;49;00m [96mcls[39;49;00m [95min[39;49;00m [96mself[39;49;00m.object.[91m__mro__[39;49;00m:[90m[39;49;00m
                    [94mif[39;49;00m [96mcls[39;49;00m.[91m__name__[39;49;00m == [96mself[39;49;00m.options.inherited_members [95mand[39;49;00m [96mcls[39;49;00m != [96mself[39;49;00m.object:[90m[39;49;00m
                        [90m# given member is a member of specified *super class*[39;49;00m[90m[39;49;00m
                        [94mreturn[39;49;00m [94mTrue[39;49;00m[90m[39;49;00m
                    [94melif[39;49;00m name [95min[39;49;00m [96mcls[39;49;00m.[91m__dict__[39;49;00m:[90m[39;49;00m
                        [94mreturn[39;49;00m [94mFalse[39;49;00m[90m[39;49;00m
                    [94melif[39;49;00m name [95min[39;49;00m [96mself[39;49;00m.get_attr([96mcls[39;49;00m, [33m'[39;49;00m[33m__annotations__[39;49;00m[33m'[39;49;00m, {}):[90m[39;49;00m
                        [94mreturn[39;49;00m [94mFalse[39;49;00m[90m[39;49;00m
                    [94melif[39;49;00m [96misinstance[39;49;00m(obj, ObjectMember) [95mand[39;49;00m obj.class_ [95mis[39;49;00m [96mcls[39;49;00m:[90m[39;49;00m
                        [94mreturn[39;49;00m [94mFalse[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
            [94mreturn[39;49;00m [94mFalse[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
        ret = [][90m[39;49;00m
    [90m[39;49;00m
        [90m# search for members in source code too[39;49;00m[90m[39;49;00m
        namespace = [33m'[39;49;00m[33m.[39;49;00m[33m'[39;49;00m.join([96mself[39;49;00m.objpath)  [90m# will be empty for modules[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
        [94mif[39;49;00m [96mself[39;49;00m.analyzer:[90m[39;49;00m
            attr_docs = [96mself[39;49;00m.analyzer.find_attr_docs()[90m[39;49;00m
        [94melse[39;49;00m:[90m[39;49;00m
            attr_docs = {}[90m[39;49;00m
    [90m[39;49;00m
        [90m# process members and determine which to skip[39;49;00m[90m[39;49;00m
        [94mfor[39;49;00m obj [95min[39;49;00m members:[90m[39;49;00m
            membername, member = obj[90m[39;49;00m
            [90m# if isattr is True, the member is documented as an attribute[39;49;00m[90m[39;49;00m
            [94mif[39;49;00m member [95mis[39;49;00m INSTANCEATTR:[90m[39;49;00m
                isattr = [94mTrue[39;49;00m[90m[39;49;00m
            [94melse[39;49;00m:[90m[39;49;00m
                isattr = [94mFalse[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
            doc = getdoc(member, [96mself[39;49;00m.get_attr, [96mself[39;49;00m.config.autodoc_inherit_docstrings,[90m[39;49;00m
                         [96mself[39;49;00m.parent, [96mself[39;49;00m.object_name)[90m[39;49;00m
            [94mif[39;49;00m [95mnot[39;49;00m [96misinstance[39;49;00m(doc, [96mstr[39;49;00m):[90m[39;49;00m
                [90m# Ignore non-string __doc__[39;49;00m[90m[39;49;00m
                doc = [94mNone[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
            [90m# if the member __doc__ is the same as self's __doc__, it's just[39;49;00m[90m[39;49;00m
            [90m# inherited and therefore not the member's doc[39;49;00m[90m[39;49;00m
            [96mcls[39;49;00m = [96mself[39;49;00m.get_attr(member, [33m'[39;49;00m[33m__class__[39;49;00m[33m'[39;49;00m, [94mNone[39;49;00m)[90m[39;49;00m
            [94mif[39;49;00m [96mcls[39;49;00m:[90m[39;49;00m
                cls_doc = [96mself[39;49;00m.get_attr([96mcls[39;49;00m, [33m'[39;49;00m[33m__doc__[39;49;00m[33m'[39;49;00m, [94mNone[39;49;00m)[90m[39;49;00m
                [94mif[39;49;00m cls_doc == doc:[90m[39;49;00m
                    doc = [94mNone[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
            [94mif[39;49;00m [96misinstance[39;49;00m(obj, ObjectMember) [95mand[39;49;00m obj.docstring:[90m[39;49;00m
                [90m# hack for ClassDocumenter to inject docstring via ObjectMember[39;49;00m[90m[39;49;00m
                doc = obj.docstring[90m[39;49;00m
    [90m[39;49;00m
            has_doc = [96mbool[39;49;00m(doc)[90m[39;49;00m
    [90m[39;49;00m
            metadata = extract_metadata(doc)[90m[39;49;00m
            [94mif[39;49;00m [33m'[39;49;00m[33mprivate[39;49;00m[33m'[39;49;00m [95min[39;49;00m metadata:[90m[39;49;00m
                [90m# consider a member private if docstring has "private" metadata[39;49;00m[90m[39;49;00m
                isprivate = [94mTrue[39;49;00m[90m[39;49;00m
            [94melif[39;49;00m [33m'[39;49;00m[33mpublic[39;49;00m[33m'[39;49;00m [95min[39;49;00m metadata:[90m[39;49;00m
                [90m# consider a member public if docstring has "public" metadata[39;49;00m[90m[39;49;00m
                isprivate = [94mFalse[39;49;00m[90m[39;49;00m
            [94melse[39;49;00m:[90m[39;49;00m
                isprivate = membername.startswith([33m'[39;49;00m[33m_[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [90m[39;49;00m
            keep = [94mFalse[39;49;00m[90m[39;49;00m
            [94mif[39;49;00m safe_getattr(member, [33m'[39;49;00m[33m__sphinx_mock__[39;49;00m[33m'[39;49;00m, [94mNone[39;49;00m) [95mis[39;49;00m [95mnot[39;49;00m [94mNone[39;49;00m:[90m[39;49;00m
                [90m# mocked module or object[39;49;00m[90m[39;49;00m
                [94mpass[39;49;00m[90m[39;49;00m
            [94melif[39;49;00m [96mself[39;49;00m.options.exclude_members [95mand[39;49;00m membername [95min[39;49;00m [96mself[39;49;00m.options.exclude_members:[90m[39;49;00m
                [90m# remove members given by exclude-members[39;49;00m[90m[39;49;00m
                keep = [94mFalse[39;49;00m[90m[39;49;00m
            [94melif[39;49;00m want_all [95mand[39;49;00m special_member_re.match(membername):[90m[39;49;00m
                [90m# special __methods__[39;49;00m[90m[39;49;00m
                [94mif[39;49;00m [96mself[39;49;00m.options.special_members [95mand[39;49;00m membername [95min[39;49;00m [96mself[39;49;00m.options.special_members:[90m[39;49;00m
                    [94mif[39;49;00m membername == [33m'[39;49;00m[33m__doc__[39;49;00m[33m'[39;49;00m:[90m[39;49;00m
                        keep = [94mFalse[39;49;00m[90m[39;49;00m
                    [94melif[39;49;00m is_filtered_inherited_member(membername, obj):[90m[39;49;00m
                        keep = [94mFalse[39;49;00m[90m[39;49;00m
                    [94melse[39;49;00m:[90m[39;49;00m
                        keep = has_doc [95mor[39;49;00m [96mself[39;49;00m.options.undoc_members[90m[39;49;00m
                [94melse[39;49;00m:[90m[39;49;00m
                    keep = [94mFalse[39;49;00m[90m[39;49;00m
            [94melif[39;49;00m (namespace, membername) [95min[39;49;00m attr_docs:[90m[39;49;00m
                [94mif[39;49;00m want_all [95mand[39;49;00m isprivate:[90m[39;49;00m
                    [94mif[39;49;00m [96mself[39;49;00m.options.private_members [95mis[39;49;00m [94mNone[39;49;00m:[90m[39;49;00m
                        keep = [94mFalse[39;49;00m[90m[39;49;00m
                    [94melse[39;49;00m:[90m[39;49;00m
                        keep = membername [95min[39;49;00m [96mself[39;49;00m.options.private_members[90m[39;49;00m
                [94melse[39;49;00m:[90m[39;49;00m
                    [90m# keep documented attributes[39;49;00m[90m[39;49;00m
                    keep = [94mTrue[39;49;00m[90m[39;49;00m
                isattr = [94mTrue[39;49;00m[90m[39;49;00m
            [94melif[39;49;00m want_all [95mand[39;49;00m isprivate:[90m[39;49;00m
                [94mif[39;49;00m has_doc [95mor[39;49;00m [96mself[39;49;00m.options.undoc_members:[90m[39;49;00m
                    [94mif[39;49;00m [96mself[39;49;00m.options.private_members [95mis[39;49;00m [94mNone[39;49;00m:[90m[39;49;00m
                        keep = [94mFalse[39;49;00m[90m[39;49;00m
                    [94melif[39;49;00m is_filtered_inherited_member(membername, obj):[90m[39;49;00m
                        keep = [94mFalse[39;49;00m[90m[39;49;00m
                    [94melse[39;49;00m:[90m[39;49;00m
                        keep = membername [95min[39;49;00m [96mself[39;49;00m.options.private_members[90m[39;49;00m
                [94melse[39;49;00m:[90m[39;49;00m
                    keep = [94mFalse[39;49;00m[90m[39;49;00m
            [94melse[39;49;00m:[90m[39;49;00m
                [94mif[39;49;00m ([96mself[39;49;00m.options.members [95mis[39;49;00m ALL [95mand[39;49;00m[90m[39;49;00m
>                       is_filtered_inherited_member(membername, obj)):[90m[39;49;00m
[1m[31mE                       NameError: name 'is_filtered_inherited_member' is not defined[0m

[1m[31msphinx/ext/autodoc/__init__.py[0m:785: NameError
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: html
# srcdir: /tmp/pytest-of-root/pytest-417/ext-autodoc
# outdir: /tmp/pytest-of-root/pytest-417/ext-autodoc/_build/html
# status: 
[01mRunning Sphinx v3.5.0+/b19bce971[39;49;00m

# warning: 
[91mWARNING: while setting up extension sphinx.addnodes: node class 'meta' is already registered, its visitors will be overridden[39;49;00m

[33m=============================== warnings summary ===============================[0m
sphinx/util/docutils.py:45
  /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8595/sphinx/util/docutils.py:45: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    __version_info__ = tuple(LooseVersion(docutils.__version__).version)

sphinx/registry.py:22
  /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8595/sphinx/registry.py:22: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html
    from pkg_resources import iter_entry_points

../../../../../root/miniforge3/envs/sphinx-doc__sphinx__3.5/lib/python3.9/site-packages/pkg_resources/__init__.py:3149
../../../../../root/miniforge3/envs/sphinx-doc__sphinx__3.5/lib/python3.9/site-packages/pkg_resources/__init__.py:3149
../../../../../root/miniforge3/envs/sphinx-doc__sphinx__3.5/lib/python3.9/site-packages/pkg_resources/__init__.py:3149
../../../../../root/miniforge3/envs/sphinx-doc__sphinx__3.5/lib/python3.9/site-packages/pkg_resources/__init__.py:3149
  /root/miniforge3/envs/sphinx-doc__sphinx__3.5/lib/python3.9/site-packages/pkg_resources/__init__.py:3149: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(pkg)

sphinx/directives/patches.py:14
  /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8595/sphinx/directives/patches.py:14: DeprecationWarning: The `docutils.parsers.rst.directive.html` module will be removed in Docutils 2.0. Since Docutils 0.18, the "Meta" node is defined in `docutils.parsers.rst.directives.misc`.
    from docutils.parsers.rst.directives import html, images, tables

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
============================= slowest 25 durations =============================
0.56s setup    tests/test_ext_autodoc_automodule.py::test_empty_all
0.01s call     tests/test_ext_autodoc_automodule.py::test_empty_all

(1 durations < 0.005s hidden.  Use -vv to show these durations.)
[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m tests/test_ext_autodoc_automodule.py::[1mtest_empty_all[0m - NameError: name 'is_filtered_inherited_member' is not defined
[31m======================== [31m[1m1 failed[0m, [33m7 warnings[0m[31m in 1.09s[0m[31m =========================[0m
py39: exit 1 (2.14 seconds) /data/swe-fl/TMP/testbed/sphinx-doc__sphinx-8595> python -X dev -m pytest -rA --durations 25 tests/roots/test-ext-autodoc/target/empty_all.py tests/test_ext_autodoc_automodule.py pid=1511652
  py39: FAIL code 1 (2.17=setup[0.03]+cmd[2.14] seconds)
  evaluation failed :( (2.31 seconds)

ERROR conda.cli.main_run:execute(125): `conda run tox --current-env -epy39 -v -- tests/roots/test-ext-autodoc/target/empty_all.py tests/test_ext_autodoc_automodule.py` failed. (See above for error)
