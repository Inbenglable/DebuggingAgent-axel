### sympy/functions/elementary/piecewise.py
<<<<<<< SEARCH
        c = c._subs(old, new)
=======
        # Ensure proper handling of real assumptions
        c = c._subs(old, new)
        if hasattr(c, 'is_real') and not c.is_real:
            raise PolynomialError("Piecewise generators do not make sense with non-real conditions")
>>>>>>> REPLACE
