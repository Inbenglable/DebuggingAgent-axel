### sympy/combinatorics/homomorphisms.py
<<<<<<< SEARCH
                if isinstance(domain, PermutationGroup) and r[i] in gens:
=======
                if isinstance(domain, PermutationGroup) and (r[i] in gens or r[i]**-1 in gens):
>>>>>>> REPLACE

### sympy/combinatorics/homomorphisms.py
<<<<<<< SEARCH
                    s = domain.generators[gens.index(r[i])]
=======
                    if r[i] in gens:
                        s = domain.generators[gens.index(r[i])]
                    else:
                        s = domain.generators[gens.index(r[i]**-1)]**-1
>>>>>>> REPLACE
