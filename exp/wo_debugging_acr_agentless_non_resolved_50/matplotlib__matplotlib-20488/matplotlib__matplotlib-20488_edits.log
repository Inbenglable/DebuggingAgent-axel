### lib/matplotlib/colors.py
<<<<<<< SEARCH
        t_vmin, t_vmax = self._trf.transform([self.vmin, self.vmax])
=======
        # Ensure vmin and vmax are valid before transformation by masking invalid values
        validated_vmin = np.ma.masked_less_equal(self.vmin, 0).filled(np.nan)
        validated_vmax = np.ma.masked_less_equal(self.vmax, 0).filled(np.nan)
        t_vmin, t_vmax = self._trf.transform([validated_vmin, validated_vmax])
>>>>>>> REPLACE

### lib/matplotlib/colors.py
<<<<<<< SEARCH
        if not np.isfinite([t_vmin, t_vmax]).all():
=======
        if np.isnan([validated_vmin, validated_vmax]).any():
>>>>>>> REPLACE
