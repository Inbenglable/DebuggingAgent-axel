2025-04-29 13:04:45.449 | INFO     | swe_log:log_and_print:77 - ['test_check_sqlite_version (backends.sqlite.tests.Tests)']
2025-04-29 13:04:45.450 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-04-29 13:04:45.450 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 backends.sqlite.tests
2025-04-29 13:04:45.450 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-13821
2025-04-29 13:04:45.823 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-13821
2025-04-29 13:04:53.817 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: django__django-13821
2025-04-29 13:04:53.818 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-13821 && source /root/miniforge3/bin/activate django__django__3.2            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-13821           && python -m pip install -e . && echo SUCCESS
2025-04-29 13:04:57.069 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-04-29 13:05:07.780 | INFO     | swe_log:log_and_print:77 - Query time: 5.49 seconds
2025-04-29 13:05:07.792 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: DatabaseWrapper.__init__ in file: /data/swe-fl/TMP/testbed/django__django-13821/django/db/backends/sqlite3/base.py
Retrying..(1/5)
2025-04-29 13:05:25.875 | INFO     | swe_log:log_and_print:77 - Query time: 18.08 seconds
2025-04-29 13:05:25.877 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 13:05:25.878 | INFO     | swe_log:log_and_print:77 - choose method: django/db/backends/sqlite3/base.py:DatabaseWrapper.get_new_connection
2025-04-29 13:05:36.285 | INFO     | swe_log:log_and_print:77 - Query time: 9.22 seconds
2025-04-29 13:05:36.286 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: File {django/db/backends/base/creation.py} not found
Retrying..(1/5)
2025-04-29 13:05:45.652 | INFO     | swe_log:log_and_print:77 - Query time: 9.37 seconds
2025-04-29 13:05:45.655 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/backends/sqlite3/base.py:201-206
2025-04-29 13:05:52.695 | INFO     | swe_log:log_and_print:77 - Query time: 5.84 seconds
2025-04-29 13:05:52.698 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: DatabaseWrapper.ensure_connection in file: /data/swe-fl/TMP/testbed/django__django-13821/django/db/backends/sqlite3/base.py
Retrying..(1/5)
2025-04-29 13:05:56.786 | INFO     | swe_log:log_and_print:77 - Query time: 4.09 seconds
2025-04-29 13:05:56.788 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-29 13:05:56.789 | INFO     | swe_log:log_and_print:77 - choose method: django/db/backends/sqlite3/base.py:DatabaseWrapper.get_connection_params
2025-04-29 13:06:13.886 | INFO     | swe_log:log_and_print:77 - Query time: 15.89 seconds
2025-04-29 13:06:13.889 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/backends/sqlite3/base.py:207-266
2025-04-29 13:06:21.952 | INFO     | swe_log:log_and_print:77 - Query time: 6.88 seconds
2025-04-29 13:06:21.955 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: DatabaseWrapper.__init__ in file: /data/swe-fl/TMP/testbed/django__django-13821/django/db/backends/sqlite3/base.py
Retrying..(1/5)
2025-04-29 13:06:27.353 | INFO     | swe_log:log_and_print:77 - Query time: 5.40 seconds
2025-04-29 13:06:27.355 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: DatabaseWrapper.__init__ in file: /data/swe-fl/TMP/testbed/django__django-13821/django/db/backends/sqlite3/base.py
Retrying..(2/5)
2025-04-29 13:06:32.780 | INFO     | swe_log:log_and_print:77 - Query time: 5.42 seconds
2025-04-29 13:06:32.782 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 3
2025-04-29 13:06:32.783 | INFO     | swe_log:log_and_print:77 - choose method: django/db/backends/sqlite3/base.py:DatabaseWrapper.get_new_connection
2025-04-29 13:06:53.734 | INFO     | swe_log:log_and_print:77 - Query time: 19.77 seconds
2025-04-29 13:06:53.737 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/backends/sqlite3/base.py:201-206
2025-04-29 13:07:14.408 | INFO     | swe_log:log_and_print:77 - Query time: 19.47 seconds
2025-04-29 13:07:14.410 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 4
2025-04-29 13:07:14.411 | INFO     | swe_log:log_and_print:77 - choose method: django/db/backends/sqlite3/base.py:DatabaseWrapper.get_connection_params
2025-04-29 13:07:20.880 | INFO     | swe_log:log_and_print:77 - Query time: 5.27 seconds
2025-04-29 13:07:20.883 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/backends/sqlite3/base.py:201-206
2025-04-29 13:07:40.152 | INFO     | swe_log:log_and_print:77 - Query time: 18.07 seconds
2025-04-29 13:07:40.155 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: DatabaseWrapper.__init__ in file: /data/swe-fl/TMP/testbed/django__django-13821/django/db/backends/sqlite3/base.py
Retrying..(1/5)
2025-04-29 13:07:48.423 | INFO     | swe_log:log_and_print:77 - Query time: 8.27 seconds
2025-04-29 13:07:48.425 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: DatabaseWrapper.__init__ in file: /data/swe-fl/TMP/testbed/django__django-13821/django/db/backends/sqlite3/base.py
Retrying..(2/5)
2025-04-29 13:07:53.067 | INFO     | swe_log:log_and_print:77 - Query time: 4.64 seconds
2025-04-29 13:07:53.069 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to locate buggy method
2025-04-29 13:07:53.069 | INFO     | swe_log:log_and_print:77 - 
Restart...(1/4
2025-04-29 13:08:01.721 | INFO     | swe_log:log_and_print:77 - Query time: 7.34 seconds
2025-04-29 13:08:01.726 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: ConnectionHandler.__getitem__ in file: /data/swe-fl/TMP/testbed/django__django-13821/django/db/__init__.py
Retrying..(1/5)
2025-04-29 13:08:04.939 | INFO     | swe_log:log_and_print:77 - Query time: 3.21 seconds
2025-04-29 13:08:04.944 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 13:08:04.944 | INFO     | swe_log:log_and_print:77 - choose method: reproduce.py:check_sqlite_version
2025-04-29 13:08:10.881 | INFO     | swe_log:log_and_print:77 - Query time: 4.64 seconds
2025-04-29 13:08:10.883 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(1/5)
2025-04-29 13:08:14.998 | INFO     | swe_log:log_and_print:77 - Query time: 4.11 seconds
2025-04-29 13:08:15.000 | INFO     | swe_log:log_and_print:77 - choose scope: reproduce.py:27-31
2025-04-29 13:08:40.120 | INFO     | swe_log:log_and_print:77 - Query time: 23.95 seconds
2025-04-29 13:08:40.123 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-29 13:08:40.124 | INFO     | swe_log:log_and_print:77 - choose buggy method: reproduce.py:check_sqlite_version
2025-04-29 13:08:40.124 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-13821 &&                                 source /root/miniforge3/bin/activate django__django__3.2 && python /data/swe-fl/TMP/testbed/django__django-13821/reproduce.py
2025-04-29 13:08:41.766 | INFO     | swe_log:log_and_print:77 - Query time: 1.14 seconds
2025-04-29 13:08:41.769 | INFO     | swe_log:log_and_print:77 - API call 1/2
2025-04-29 13:08:44.020 | INFO     | swe_log:log_and_print:77 - Query time: 2.25 seconds
2025-04-29 13:08:44.022 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-04-29 13:08:58.003 | INFO     | swe_log:log_and_print:77 - Query time: 13.96 seconds
2025-04-29 13:08:58.005 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 13:08:58.006 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-13821/reproduce.py.bak
2025-04-29 13:08:58.007 | INFO     | swe_log:log_msg:72 - Applied 1 edits to reproduce.py
2025-04-29 13:08:58.008 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-13821 &&                                 source /root/miniforge3/bin/activate django__django__3.2 && python /data/swe-fl/TMP/testbed/django__django-13821/reproduce.py
2025-04-29 13:09:04.682 | INFO     | swe_log:log_and_print:77 - Query time: 6.16 seconds
2025-04-29 13:09:04.684 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-04-29 13:09:05.944 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 13:09:05.945 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-13821/reproduce.py.bak
2025-04-29 13:09:05.945 | INFO     | swe_log:log_msg:72 - Applied 1 edits to reproduce.py
2025-04-29 13:09:07.351 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 13:09:07.352 | INFO     | swe_log:log_msg:72 - Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-13821/django'
Importing application backends
Skipping setup of unused database(s): other.
Operations to perform:
  Synchronize unmigrated apps: auth, backends, contenttypes, messages, sessions, staticfiles
  Apply all migrations: admin, sites
Synchronizing apps without migrations:
  Creating tables...
    Creating table django_content_type
    Creating table auth_permission
    Creating table auth_group
    Creating table auth_user
    Creating table django_session
    Creating table backends_square
    Creating table backends_person
    Creating table backends_schoolclass
    Creating table backends_verylongmodelnamezzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
    Creating table backends_tag
    Creating table CaseSensitive_Post
    Creating table backends_reporter
    Creating table backends_article
    Creating table backends_item
    Creating table backends_object
    Creating table backends_objectreference
    Creating table backends_objectselfreference
    Creating table backends_circulara
    Creating table backends_circularb
    Creating table backends_rawdata
    Creating table backends_author
    Creating table backends_book
    Creating table order
    Running deferred SQL...
Running migrations:
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying sites.0001_initial... OK
  Applying sites.0002_alter_domain_unique... OK
System check identified no issues (0 silenced).


2025-04-29 13:09:07.353 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 13:09:07.353 | INFO     | swe_log:log_msg:72 - Creating test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...
test_parameter_escaping (backends.sqlite.tests.EscapingChecks) ... ok
test_parameter_escaping (backends.sqlite.tests.EscapingChecksDebug) ... ok
test_large_number_of_parameters (backends.sqlite.tests.LastExecutedQueryTest) ... ok
test_no_interpolation (backends.sqlite.tests.LastExecutedQueryTest) ... ok
test_parameter_quoting (backends.sqlite.tests.LastExecutedQueryTest) ... ok
test_aggregation (backends.sqlite.tests.Tests)
Raise NotSupportedError when aggregating on date/time fields. ... ok
test_check_sqlite_version (backends.sqlite.tests.Tests) ... FAIL
test_distinct_aggregation (backends.sqlite.tests.Tests) ... ok
test_distinct_aggregation_multiple_args_no_distinct (backends.sqlite.tests.Tests) ... ok
test_memory_db_test_name (backends.sqlite.tests.Tests)
A named in-memory db should be allowed where supported. ... ok
test_pathlib_name (backends.sqlite.tests.Tests) ... ok
test_regexp_function (backends.sqlite.tests.Tests) ... ok
test_autoincrement (backends.sqlite.tests.SchemaTests) ... ok
test_constraint_checks_disabled_atomic_allowed (backends.sqlite.tests.SchemaTests) ... ok
test_disable_constraint_checking_failure_disallowed (backends.sqlite.tests.SchemaTests) ... ok
test_field_rename_inside_atomic_block (backends.sqlite.tests.SchemaTests) ... skipped 'Database has feature(s) supports_atomic_references_rename'
test_table_rename_inside_atomic_block (backends.sqlite.tests.SchemaTests) ... skipped 'Database has feature(s) supports_atomic_references_rename'
test_database_sharing_in_threads (backends.sqlite.tests.ThreadSharing) ... ok

======================================================================
FAIL: test_check_sqlite_version (backends.sqlite.tests.Tests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-13821/tests/backends/sqlite/tests.py", line 37, in test_check_sqlite_version
    check_sqlite_version()
  File "/root/miniforge3/envs/django__django__3.2/lib/python3.6/contextlib.py", line 88, in __exit__
    next(self.gen)
  File "/data/swe-fl/TMP/testbed/django__django-13821/django/test/testcases.py", line 692, in _assert_raises_or_warns_cm
    yield cm
AssertionError: ImproperlyConfigured not raised

----------------------------------------------------------------------
Ran 18 tests in 0.059s

FAILED (failures=1, skipped=2)
Destroying test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 backends.sqlite.tests` failed. (See above for error)

