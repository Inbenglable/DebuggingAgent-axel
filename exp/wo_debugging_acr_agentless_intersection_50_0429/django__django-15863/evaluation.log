Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-15863/django'
Importing application template_tests
Found 10 test(s).
Skipping setup of unused database(s): default, other.
System check identified no issues (0 silenced).

test_floatformat01 (template_tests.filter_tests.test_floatformat.FloatformatTests) ... ok
test_floatformat02 (template_tests.filter_tests.test_floatformat.FloatformatTests) ... ok
test_float_dunder_method (template_tests.filter_tests.test_floatformat.FunctionTests) ... ok
test_force_grouping (template_tests.filter_tests.test_floatformat.FunctionTests) ... ok
test_infinity (template_tests.filter_tests.test_floatformat.FunctionTests) ... ERROR
test_inputs (template_tests.filter_tests.test_floatformat.FunctionTests) ... ERROR
test_low_decimal_precision (template_tests.filter_tests.test_floatformat.FunctionTests)
#15789 ... ok
test_negative_zero_values (template_tests.filter_tests.test_floatformat.FunctionTests) ... ok
test_unlocalize (template_tests.filter_tests.test_floatformat.FunctionTests) ... ERROR
test_zero_values (template_tests.filter_tests.test_floatformat.FunctionTests) ... ok

======================================================================
ERROR: test_infinity (template_tests.filter_tests.test_floatformat.FunctionTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 170, in floatformat
    m = int(d) - d
OverflowError: cannot convert Infinity to integer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/tests/template_tests/filter_tests/test_floatformat.py", line 128, in test_infinity
    self.assertEqual(floatformat(pos_inf), "inf")
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 172, in floatformat
    return input_val
UnboundLocalError: local variable 'input_val' referenced before assignment

======================================================================
ERROR: test_inputs (template_tests.filter_tests.test_floatformat.FunctionTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 165, in floatformat
    p = int(arg)
ValueError: invalid literal for int() with base 10: 'bar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/tests/template_tests/filter_tests/test_floatformat.py", line 64, in test_inputs
    self.assertEqual(floatformat(13.1031, "bar"), "13.1031")
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 167, in floatformat
    return input_val
UnboundLocalError: local variable 'input_val' referenced before assignment

======================================================================
ERROR: test_unlocalize (template_tests.filter_tests.test_floatformat.FunctionTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 165, in floatformat
    p = int(arg)
ValueError: invalid literal for int() with base 10: 'u2'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15863/tests/template_tests/filter_tests/test_floatformat.py", line 105, in test_unlocalize
    self.assertEqual(floatformat(66666.666, "u2"), "66666.666")
  File "/data/swe-fl/TMP/testbed/django__django-15863/django/template/defaultfilters.py", line 167, in floatformat
    return input_val
UnboundLocalError: local variable 'input_val' referenced before assignment

----------------------------------------------------------------------
Ran 10 tests in 0.011s

FAILED (errors=3)

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 template_tests.filter_tests.test_floatformat` failed. (See above for error)
