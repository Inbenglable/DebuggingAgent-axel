2025-04-29 03:13:33.454 | INFO     | swe_log:log_and_print:77 - ['test_many_search_terms (admin_changelist.tests.ChangeListTests)', 'All rows containing each of the searched words are returned, where each', 'Searches over multi-valued relationships return rows from related']
2025-04-29 03:13:33.455 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-04-29 03:13:33.455 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 admin_changelist.admin admin_changelist.tests
2025-04-29 03:13:33.455 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-15022
2025-04-29 03:13:34.066 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-15022
2025-04-29 03:13:41.161 | INFO     | swe_log:log_and_print:77 - Setup testbed environment: django__django-15022
2025-04-29 03:13:41.161 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-15022 && source /root/miniforge3/bin/activate django__django__4.1            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-15022           && python -m pip install -e . && echo SUCCESS
2025-04-29 03:13:47.129 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-04-29 03:14:10.022 | INFO     | swe_log:log_and_print:77 - Query time: 18.05 seconds
2025-04-29 03:14:10.029 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 03:14:10.029 | INFO     | swe_log:log_and_print:77 - choose method: django/apps/registry.py:Apps.check_apps_ready
2025-04-29 03:14:17.020 | INFO     | swe_log:log_and_print:77 - Query time: 5.45 seconds
2025-04-29 03:14:17.026 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: main in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(1/5)
2025-04-29 03:14:25.386 | INFO     | swe_log:log_and_print:77 - Query time: 8.36 seconds
2025-04-29 03:14:25.388 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: [Initial_Setup_Section] in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(2/5)
2025-04-29 03:14:39.987 | INFO     | swe_log:log_and_print:77 - Query time: 14.60 seconds
2025-04-29 03:14:39.990 | INFO     | swe_log:log_and_print:77 - choose scope: django/test/utils.py:70-75
2025-04-29 03:14:44.923 | INFO     | swe_log:log_and_print:77 - Query time: 3.84 seconds
2025-04-29 03:14:44.933 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-29 03:14:44.934 | INFO     | swe_log:log_and_print:77 - choose method: django/core/management/__init__.py:call_command
2025-04-29 03:15:08.138 | INFO     | swe_log:log_and_print:77 - Query time: 21.82 seconds
2025-04-29 03:15:08.140 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: File your_project_name/__init__.py not found
Retrying..(1/5)
2025-04-29 03:15:11.987 | INFO     | swe_log:log_and_print:77 - Query time: 3.85 seconds
2025-04-29 03:15:11.988 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: File your_script_filepath.py not found
Retrying..(2/5)
2025-04-29 03:15:30.292 | INFO     | swe_log:log_and_print:77 - Query time: 18.30 seconds
2025-04-29 03:15:30.295 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: SETUP_LINE-EXECUTION_LINE in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(3/5)
2025-04-29 03:15:49.699 | INFO     | swe_log:log_and_print:77 - Query time: 19.40 seconds
2025-04-29 03:15:49.701 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Line range 14-16 is out of bounds for file /data/swe-fl/TMP/testbed/django__django-15022/django/core/wsgi.py with 13 lines.
Retrying..(4/5)
2025-04-29 03:15:58.627 | INFO     | swe_log:log_and_print:77 - Query time: 8.93 seconds
2025-04-29 03:15:58.629 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(5/5)
2025-04-29 03:15:58.629 | INFO     | swe_log:log_and_print:77 - Failed to get valid model response after multiple attempts.
2025-04-29 03:15:58.630 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to get valid model response after multiple attempts.
2025-04-29 03:15:58.630 | INFO     | swe_log:log_and_print:77 - 
Restart...(1/4
2025-04-29 03:16:03.442 | INFO     | swe_log:log_and_print:77 - Query time: 3.54 seconds
2025-04-29 03:16:03.444 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 03:16:03.445 | INFO     | swe_log:log_and_print:77 - choose method: django/core/management/__init__.py:call_command
2025-04-29 03:16:13.688 | INFO     | swe_log:log_and_print:77 - Query time: 8.84 seconds
2025-04-29 03:16:13.691 | INFO     | swe_log:log_and_print:77 - choose scope: reproduce.py:21-27
2025-04-29 03:16:19.284 | INFO     | swe_log:log_and_print:77 - Query time: 4.52 seconds
2025-04-29 03:16:19.286 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: File {FILE_PATH} not found
Retrying..(1/5)
2025-04-29 03:16:45.517 | INFO     | swe_log:log_and_print:77 - Query time: 26.23 seconds
2025-04-29 03:16:45.519 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: <module> in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(2/5)
2025-04-29 03:16:51.822 | INFO     | swe_log:log_and_print:77 - Query time: 6.30 seconds
2025-04-29 03:16:51.824 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: <module> in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(3/5)
2025-04-29 03:17:14.329 | INFO     | swe_log:log_and_print:77 - Query time: 22.50 seconds
2025-04-29 03:17:14.331 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: <module> in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(4/5)
2025-04-29 03:17:17.436 | INFO     | swe_log:log_and_print:77 - Query time: 3.10 seconds
2025-04-29 03:17:17.438 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-29 03:17:17.439 | INFO     | swe_log:log_and_print:77 - choose method: django/core/management/__init__.py:call_command
2025-04-29 03:17:25.445 | INFO     | swe_log:log_and_print:77 - Query time: 6.61 seconds
2025-04-29 03:17:25.448 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: setup in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(1/5)
2025-04-29 03:17:32.589 | INFO     | swe_log:log_and_print:77 - Query time: 7.14 seconds
2025-04-29 03:17:32.591 | INFO     | swe_log:log_and_print:77 - choose scope: reproduce.py:41-42
2025-04-29 03:17:38.830 | INFO     | swe_log:log_and_print:77 - Query time: 5.16 seconds
2025-04-29 03:17:38.832 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: No matching method found for name: script_execution in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(1/5)
2025-04-29 03:17:54.176 | INFO     | swe_log:log_and_print:77 - Query time: 15.34 seconds
2025-04-29 03:17:54.178 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when method choosing: Invalid trace reply format.
Retrying..(2/5)
2025-04-29 03:18:00.458 | INFO     | swe_log:log_and_print:77 - Query time: 6.28 seconds
2025-04-29 03:18:00.460 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 3
2025-04-29 03:18:00.461 | INFO     | swe_log:log_and_print:77 - choose method: django/apps/registry.py:Apps.check_apps_ready
2025-04-29 03:18:14.132 | INFO     | swe_log:log_and_print:77 - Query time: 12.13 seconds
2025-04-29 03:18:14.134 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(1/5)
2025-04-29 03:18:18.610 | INFO     | swe_log:log_and_print:77 - Query time: 4.47 seconds
2025-04-29 03:18:18.611 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: 41-42 in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(2/5)
2025-04-29 03:18:28.164 | INFO     | swe_log:log_and_print:77 - Query time: 9.55 seconds
2025-04-29 03:18:28.166 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(3/5)
2025-04-29 03:18:35.707 | INFO     | swe_log:log_and_print:77 - Query time: 7.54 seconds
2025-04-29 03:18:35.708 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: configure_application in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(4/5)
2025-04-29 03:18:44.934 | INFO     | swe_log:log_and_print:77 - Query time: 9.23 seconds
2025-04-29 03:18:44.937 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(5/5)
2025-04-29 03:18:44.937 | INFO     | swe_log:log_and_print:77 - Failed to get valid model response after multiple attempts.
2025-04-29 03:18:44.938 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to get valid model response after multiple attempts.
2025-04-29 03:18:44.938 | INFO     | swe_log:log_and_print:77 - 
Restart...(2/4
2025-04-29 03:19:11.509 | INFO     | swe_log:log_and_print:77 - Query time: 25.33 seconds
2025-04-29 03:19:11.512 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 03:19:11.513 | INFO     | swe_log:log_and_print:77 - choose method: django/core/management/__init__.py:get_commands
2025-04-29 03:19:21.505 | INFO     | swe_log:log_and_print:77 - Query time: 8.59 seconds
2025-04-29 03:19:21.508 | INFO     | swe_log:log_and_print:77 - choose scope: django/apps/registry.py:136-145
2025-04-29 03:19:27.482 | INFO     | swe_log:log_and_print:77 - Query time: 4.29 seconds
2025-04-29 03:19:27.485 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-29 03:19:27.486 | INFO     | swe_log:log_and_print:77 - choose method: django/apps/registry.py:Apps.populate
2025-04-29 03:19:36.010 | INFO     | swe_log:log_and_print:77 - Query time: 6.98 seconds
2025-04-29 03:19:36.015 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 3
2025-04-29 03:19:36.015 | INFO     | swe_log:log_and_print:77 - choose method: django/__init__.py:setup
2025-04-29 03:19:45.842 | INFO     | swe_log:log_and_print:77 - Query time: 8.74 seconds
2025-04-29 03:19:45.845 | INFO     | swe_log:log_and_print:77 - choose scope: django/apps/registry.py:41-70
2025-04-29 03:19:55.947 | INFO     | swe_log:log_and_print:77 - Query time: 8.41 seconds
2025-04-29 03:19:55.950 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 4
2025-04-29 03:19:55.951 | INFO     | swe_log:log_and_print:77 - choose buggy method: django/apps/registry.py:Apps.populate
2025-04-29 03:19:55.951 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-15022 &&                                 source /root/miniforge3/bin/activate django__django__4.1 && python /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
2025-04-29 03:19:56.340 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 03:19:56.341 | INFO     | swe_log:log_msg:72 - 
2025-04-29 03:19:56.341 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 03:19:56.341 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/reproduce.py", line 65, in <module>
    call_command('migrate', verbosity=0)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/management/__init__.py", line 105, in call_command
    app_name = get_commands()[command_name]
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/management/__init__.py", line 71, in get_commands
    for app_config in reversed(list(apps.get_app_configs())):
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/apps/registry.py", line 145, in get_app_configs
    self.check_apps_ready()
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/apps/registry.py", line 136, in check_apps_ready
    raise AppRegistryNotReady("Apps aren't loaded yet.")
django.core.exceptions.AppRegistryNotReady: Apps aren't loaded yet.

2025-04-29 03:20:02.702 | INFO     | swe_log:log_and_print:77 - Query time: 6.33 seconds
2025-04-29 03:20:07.832 | INFO     | swe_log:log_and_print:77 - API call 1/2
2025-04-29 03:20:21.687 | INFO     | swe_log:log_and_print:77 - Query time: 13.85 seconds
2025-04-29 03:20:21.689 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-04-29 03:20:37.756 | INFO     | swe_log:log_and_print:77 - Query time: 16.04 seconds
2025-04-29 03:20:37.764 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 03:20:37.764 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py.bak
2025-04-29 03:20:37.765 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/contrib/admin/options.py
2025-04-29 03:20:37.765 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-15022 &&                                 source /root/miniforge3/bin/activate django__django__4.1 && python /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
2025-04-29 03:20:38.167 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 03:20:38.168 | INFO     | swe_log:log_msg:72 - 
2025-04-29 03:20:38.168 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 03:20:38.169 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/reproduce.py", line 65, in <module>
    call_command('migrate', verbosity=0)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/management/__init__.py", line 105, in call_command
    app_name = get_commands()[command_name]
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/management/__init__.py", line 71, in get_commands
    for app_config in reversed(list(apps.get_app_configs())):
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/apps/registry.py", line 145, in get_app_configs
    self.check_apps_ready()
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/apps/registry.py", line 136, in check_apps_ready
    raise AppRegistryNotReady("Apps aren't loaded yet.")
django.core.exceptions.AppRegistryNotReady: Apps aren't loaded yet.

2025-04-29 03:20:46.900 | INFO     | swe_log:log_and_print:77 - Query time: 8.70 seconds
2025-04-29 03:20:46.902 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(1/4)
2025-04-29 03:20:56.458 | INFO     | swe_log:log_and_print:77 - Query time: 8.31 seconds
2025-04-29 03:20:56.461 | INFO     | swe_log:log_msg:72 - Search block not found in django/contrib/admin/options.py:
            for bit in smart_split(search_term):
                if bit.startswith(("'", "'")) and bit[0] == bit[-1]:
                    bit = unescape_string_literal(bit)
                or_queries = models.Q(
                    *((orm_lookup, bit) for orm_lookup in orm_lookups),
                    _connector=models.Q.OR,
                )
                queryset = queryset.filter(or_queries)
2025-04-29 03:20:56.461 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 03:21:25.756 | INFO     | swe_log:log_and_print:77 - Query time: 29.29 seconds
2025-04-29 03:21:25.759 | INFO     | swe_log:log_msg:72 - Search block not found in django/contrib/admin/options.py:
            for bit in smart_split(search_term):
                if bit.startswith(("'", "'")) and bit[0] == bit[-1]:
                    bit = unescape_string_literal(bit)
                or_queries = models.Q(
                    *((orm_lookup, bit) for orm_lookup in orm_lookups),
                    _connector=models.Q.OR,
                )
                queryset = queryset.filter(or_queries)
2025-04-29 03:21:25.760 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 03:21:36.052 | INFO     | swe_log:log_and_print:77 - Query time: 10.29 seconds
2025-04-29 03:21:36.054 | INFO     | swe_log:log_msg:72 - Error decoding JSON: Invalid \escape: line 3 column 168 (char 197)
2025-04-29 03:21:36.055 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Expected json format in response but ERROR occurs: Invalid \escape: line 3 column 168 (char 197)
Retrying..(1/5)
2025-04-29 03:22:00.318 | INFO     | swe_log:log_and_print:77 - Query time: 24.26 seconds
2025-04-29 03:22:00.321 | INFO     | swe_log:log_msg:72 - Search block not found in django/contrib/admin/options.py:
            for bit in smart_split(search_term):
                if bit.startswith(("'", "'")) and bit[0] == bit[-1]:
                    bit = unescape_string_literal(bit)
                or_queries = models.Q(
                    *((orm_lookup, bit) for orm_lookup in orm_lookups),
                    _connector=models.Q.OR,
                )
                queryset = queryset.filter(or_queries)
2025-04-29 03:22:00.321 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 03:22:17.654 | INFO     | swe_log:log_and_print:77 - Query time: 17.33 seconds
2025-04-29 03:22:17.658 | INFO     | swe_log:log_msg:72 - Search block not found in django/contrib/admin/options.py:
            for bit in smart_split(search_term):
                if bit.startswith(("'", "'")) and bit[0] == bit[-1]:
                    bit = unescape_string_literal(bit)
                or_queries = models.Q(
                    *((orm_lookup, bit) for orm_lookup in orm_lookups),
                    _connector=models.Q.OR,
                )
                queryset = queryset.filter(or_queries)
2025-04-29 03:22:17.658 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 03:22:17.659 | INFO     | swe_log:log_and_print:77 - Failed to apply patch after multiple attempts.
2025-04-29 03:22:17.659 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to apply patch after multiple attempts.
2025-04-29 03:22:17.659 | INFO     | swe_log:log_and_print:77 - 
Restart...(3/4
2025-04-29 03:22:22.841 | INFO     | swe_log:log_and_print:77 - Query time: 3.90 seconds
2025-04-29 03:22:22.842 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-29 03:22:22.842 | INFO     | swe_log:log_and_print:77 - choose method: django/apps/registry.py:Apps.check_apps_ready
2025-04-29 03:22:43.342 | INFO     | swe_log:log_and_print:77 - Query time: 18.95 seconds
2025-04-29 03:22:43.345 | INFO     | swe_log:log_and_print:77 - choose scope: django/core/management/__init__.py:65-105
2025-04-29 03:22:50.165 | INFO     | swe_log:log_and_print:77 - Query time: 5.32 seconds
2025-04-29 03:22:50.168 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-29 03:22:50.169 | INFO     | swe_log:log_and_print:77 - choose method: django/apps/registry.py:Apps.get_app_configs
2025-04-29 03:22:57.033 | INFO     | swe_log:log_and_print:77 - Query time: 5.34 seconds
2025-04-29 03:22:57.035 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: main in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(1/5)
2025-04-29 03:23:00.681 | INFO     | swe_log:log_and_print:77 - Query time: 3.64 seconds
2025-04-29 03:23:00.683 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: No matching method found for name: <module> in file: /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
Retrying..(2/5)
2025-04-29 03:23:10.800 | INFO     | swe_log:log_and_print:77 - Query time: 10.12 seconds
2025-04-29 03:23:10.802 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(3/5)
2025-04-29 03:23:19.306 | INFO     | swe_log:log_and_print:77 - Query time: 8.50 seconds
2025-04-29 03:23:19.308 | INFO     | swe_log:log_and_print:77 - choose buggy method: django/core/management/__init__.py:call_command
2025-04-29 03:23:19.308 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-15022 &&                                 source /root/miniforge3/bin/activate django__django__4.1 && python /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
2025-04-29 03:23:19.698 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 03:23:19.699 | INFO     | swe_log:log_msg:72 - 
2025-04-29 03:23:19.699 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 03:23:19.699 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/reproduce.py", line 65, in <module>
    call_command('migrate', verbosity=0)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/management/__init__.py", line 105, in call_command
    app_name = get_commands()[command_name]
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/management/__init__.py", line 71, in get_commands
    for app_config in reversed(list(apps.get_app_configs())):
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/apps/registry.py", line 145, in get_app_configs
    self.check_apps_ready()
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/apps/registry.py", line 136, in check_apps_ready
    raise AppRegistryNotReady("Apps aren't loaded yet.")
django.core.exceptions.AppRegistryNotReady: Apps aren't loaded yet.

2025-04-29 03:23:25.433 | INFO     | swe_log:log_and_print:77 - Query time: 5.71 seconds
2025-04-29 03:23:34.695 | INFO     | swe_log:log_and_print:77 - Query time: 8.61 seconds
2025-04-29 03:23:34.696 | INFO     | swe_log:log_and_print:77 - API call 1/2
2025-04-29 03:23:37.397 | INFO     | swe_log:log_and_print:77 - Query time: 2.70 seconds
2025-04-29 03:23:37.399 | INFO     | swe_log:log_and_print:77 - Ready to generate
2025-04-29 03:23:47.119 | INFO     | swe_log:log_and_print:77 - Query time: 9.70 seconds
2025-04-29 03:23:47.123 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 03:23:47.124 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py.bak
2025-04-29 03:23:47.124 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/contrib/admin/views/main.py
2025-04-29 03:23:47.127 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 03:23:47.127 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py.bak
2025-04-29 03:23:47.128 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/contrib/admin/options.py
2025-04-29 03:23:47.128 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-15022 &&                                 source /root/miniforge3/bin/activate django__django__4.1 && python /data/swe-fl/TMP/testbed/django__django-15022/reproduce.py
2025-04-29 03:23:47.524 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 03:23:47.525 | INFO     | swe_log:log_msg:72 - 
2025-04-29 03:23:47.525 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 03:23:47.526 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/reproduce.py", line 65, in <module>
    call_command('migrate', verbosity=0)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/management/__init__.py", line 105, in call_command
    app_name = get_commands()[command_name]
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/management/__init__.py", line 71, in get_commands
    for app_config in reversed(list(apps.get_app_configs())):
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/apps/registry.py", line 145, in get_app_configs
    self.check_apps_ready()
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/apps/registry.py", line 136, in check_apps_ready
    raise AppRegistryNotReady("Apps aren't loaded yet.")
django.core.exceptions.AppRegistryNotReady: Apps aren't loaded yet.

2025-04-29 03:23:52.694 | INFO     | swe_log:log_and_print:77 - Query time: 5.14 seconds
2025-04-29 03:23:52.696 | INFO     | swe_log:log_and_print:77 - Unable to pass patch LLM review. Retry...(1/4)
2025-04-29 03:24:07.559 | INFO     | swe_log:log_and_print:77 - Query time: 13.64 seconds
2025-04-29 03:24:07.563 | INFO     | swe_log:log_msg:72 - Search block not found in django/contrib/admin/options.py:
    def get_search_results(self, request, queryset, search_term):
        use_distinct = False
        if self.search_fields and search_term:
            orm_lookups = [
                construct_search(field_name)
                for field_name in self.search_fields
            ]
            for bit in smart_split(search_term):
                or_queries = [Q(**{orm_lookup: bit}) for orm_lookup in orm_lookups]
                queryset = queryset.filter(reduce(operator.or_, or_queries))
            if not use_distinct:
                for search_spec in orm_lookups:
                    if search_spec.startswith(self.opts.db_table + '__'):
                        use_distinct = True
2025-04-29 03:24:07.563 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 03:24:38.012 | INFO     | swe_log:log_and_print:77 - Query time: 30.45 seconds
2025-04-29 03:24:38.015 | INFO     | swe_log:log_msg:72 - Search block not found in django/contrib/admin/options.py:
    def get_search_results(self, request, queryset, search_term):
        use_distinct = False
        if self.search_fields and search_term:
            orm_lookups = [
                construct_search(field_name)
                for field_name in self.search_fields
            ]
            for bit in smart_split(search_term):
                or_queries = [Q(**{orm_lookup: bit}) for orm_lookup in orm_lookups]
                queryset = queryset.filter(reduce(operator.or_, or_queries))
            if not use_distinct:
                for search_spec in orm_lookups:
                    if search_spec.startswith(self.opts.db_table + '__'):
                        use_distinct = True
2025-04-29 03:24:38.015 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 03:25:13.872 | INFO     | swe_log:log_and_print:77 - Query time: 35.86 seconds
2025-04-29 03:25:13.876 | INFO     | swe_log:log_msg:72 - Search block not found in django/contrib/admin/options.py:
    def get_search_results(self, request, queryset, search_term):
        use_distinct = False
        if self.search_fields and search_term:
            orm_lookups = [
                construct_search(field_name)
                for field_name in self.search_fields
            ]
            for bit in smart_split(search_term):
                or_queries = [Q(**{orm_lookup: bit}) for orm_lookup in orm_lookups]
                queryset = queryset.filter(reduce(operator.or_, or_queries))
            if not use_distinct:
                for search_spec in orm_lookups:
                    if search_spec.startswith(self.opts.db_table + '__'):
                        use_distinct = True
2025-04-29 03:25:13.876 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 03:25:32.745 | INFO     | swe_log:log_and_print:77 - Query time: 18.87 seconds
2025-04-29 03:25:32.749 | INFO     | swe_log:log_msg:72 - Search block not found in django/contrib/admin/options.py:
    def get_search_results(self, request, queryset, search_term):
        use_distinct = False
        if self.search_fields and search_term:
            orm_lookups = [
                construct_search(field_name)
                for field_name in self.search_fields
            ]
            for bit in smart_split(search_term):
                or_queries = [Q(**{orm_lookup: bit}) for orm_lookup in orm_lookups]
                queryset = queryset.filter(reduce(operator.or_, or_queries))
            if not use_distinct:
                for search_spec in orm_lookups:
                    if search_spec.startswith(self.opts.db_table + '__'):
                        use_distinct = True
2025-04-29 03:25:32.750 | INFO     | swe_log:log_and_print:77 - Error applying patch: Search pattern not found in file., Retrying..
2025-04-29 03:25:32.750 | INFO     | swe_log:log_and_print:77 - Failed to apply patch after multiple attempts.
2025-04-29 03:25:32.751 | INFO     | swe_log:log_and_print:77 - Whole Process crushed: Failed to apply patch after multiple attempts.
2025-04-29 03:25:32.751 | INFO     | swe_log:log_and_print:77 - 
Restart...(4/4
2025-04-29 03:25:32.751 | INFO     | swe_log:log_and_print:77 - Debugging process completed. Start evaluation
2025-04-29 03:25:33.995 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 03:25:33.995 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py.bak
2025-04-29 03:25:33.995 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/contrib/admin/views/main.py
2025-04-29 03:25:33.998 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-29 03:25:33.998 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py.bak
2025-04-29 03:25:33.999 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/contrib/admin/options.py
2025-04-29 03:25:36.362 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-29 03:25:36.363 | INFO     | swe_log:log_msg:72 - Testing against Django installed in '/data/swe-fl/TMP/testbed/django__django-15022/django'
Importing application admin_changelist
Found 69 test(s).
Skipping setup of unused database(s): other.
Operations to perform:
  Synchronize unmigrated apps: admin_changelist, auth, contenttypes, messages, sessions, staticfiles
  Apply all migrations: admin, sites
Synchronizing apps without migrations:
  Creating tables...
    Creating table django_content_type
    Creating table auth_permission
    Creating table auth_group
    Creating table auth_user
    Creating table django_session
    Creating table admin_changelist_event
    Creating table admin_changelist_parent
    Creating table admin_changelist_child
    Creating table admin_changelist_genre
    Creating table admin_changelist_band
    Creating table admin_changelist_musician
    Creating table admin_changelist_group
    Creating table admin_changelist_concert
    Creating table admin_changelist_membership
    Creating table admin_changelist_quartet
    Creating table admin_changelist_chordsmusician
    Creating table admin_changelist_chordsband
    Creating table admin_changelist_invitation
    Creating table admin_changelist_swallow
    Creating table admin_changelist_swallowonetoone
    Creating table admin_changelist_unorderedobject
    Creating table admin_changelist_orderedobject
    Creating table admin_changelist_customiduser
    Creating table admin_changelist_charpk
    Running deferred SQL...
Running migrations:
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying sites.0001_initial... OK
  Applying sites.0002_alter_domain_unique... OK
System check identified no issues (0 silenced).


2025-04-29 03:25:36.363 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-29 03:25:36.364 | INFO     | swe_log:log_msg:72 - Creating test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...
test_builtin_lookup_in_search_fields (admin_changelist.tests.ChangeListTests) ... ERROR
test_changelist_search_form_validation (admin_changelist.tests.ChangeListTests) ... ok
test_changelist_view_list_editable_changed_objects_uses_filter (admin_changelist.tests.ChangeListTests)
list_editable edits use a filtered queryset to limit memory usage. ... ok
test_clear_all_filters_link (admin_changelist.tests.ChangeListTests) ... test_clear_all_filters_link_callable_filter (admin_changelist.tests.ChangeListTests) ... ok
test_computed_list_display_localization (admin_changelist.tests.ChangeListTests)
Regression test for #13196: output of functions should be  localized ... ok
test_custom_lookup_in_search_fields (admin_changelist.tests.ChangeListTests) ... ERROR
test_custom_lookup_with_pk_shortcut (admin_changelist.tests.ChangeListTests) ... ERROR
test_custom_paginator (admin_changelist.tests.ChangeListTests) ... ok
test_deterministic_order_for_model_ordered_by_its_manager (admin_changelist.tests.ChangeListTests)
The primary key is used in the ordering of the changelist's results to ... ok
test_deterministic_order_for_unordered_model (admin_changelist.tests.ChangeListTests)
The primary key is used in the ordering of the changelist's results to ... ok
test_dynamic_list_display (admin_changelist.tests.ChangeListTests)
Regression tests for #14206: dynamic list_display support. ... ok
test_dynamic_list_display_links (admin_changelist.tests.ChangeListTests)
Regression tests for #16257: dynamic list_display_links support. ... ok
test_dynamic_list_filter (admin_changelist.tests.ChangeListTests)
Regression tests for ticket #17646: dynamic list_filter support. ... ok
test_dynamic_search_fields (admin_changelist.tests.ChangeListTests) ... ok
test_get_edited_object_ids (admin_changelist.tests.ChangeListTests) ... ok
test_get_list_editable_queryset (admin_changelist.tests.ChangeListTests) ... ok
test_get_list_editable_queryset_with_regex_chars_in_prefix (admin_changelist.tests.ChangeListTests) ... ok
test_get_select_related_custom_method (admin_changelist.tests.ChangeListTests) ... ok
test_many_search_terms (admin_changelist.tests.ChangeListTests) ... ERROR
test_multiple_search_fields (admin_changelist.tests.ChangeListTests)
All rows containing each of the searched words are returned, where each ... test_multiuser_edit (admin_changelist.tests.ChangeListTests)
Simultaneous edits of list_editable fields on the changelist by ... ok
test_no_clear_all_filters_link (admin_changelist.tests.ChangeListTests) ... test_no_duplicates_for_inherited_m2m_in_list_filter (admin_changelist.tests.ChangeListTests)
Regression test for #13902: When using a ManyToMany in list_filter, ... ok
test_no_duplicates_for_m2m_in_list_filter (admin_changelist.tests.ChangeListTests)
Regression test for #13902: When using a ManyToMany in list_filter, ... ok
test_no_duplicates_for_m2m_to_inherited_in_list_filter (admin_changelist.tests.ChangeListTests)
Regression test for #13902: When using a ManyToMany in list_filter, ... ok
test_no_duplicates_for_many_to_many_at_second_level_in_search_fields (admin_changelist.tests.ChangeListTests)
When using a ManyToMany in search_fields at the second level behind a ... ERROR
test_no_duplicates_for_non_unique_related_object_in_list_filter (admin_changelist.tests.ChangeListTests)
Regressions tests for #15819: If a field listed in list_filters is a ... ok
test_no_duplicates_for_non_unique_related_object_in_search_fields (admin_changelist.tests.ChangeListTests)
Regressions tests for #15819: If a field listed in search_fields ... ERROR
test_no_duplicates_for_through_m2m_at_second_level_in_list_filter (admin_changelist.tests.ChangeListTests)
When using a ManyToMany in list_filter at the second level behind a ... ok
test_no_duplicates_for_through_m2m_in_list_filter (admin_changelist.tests.ChangeListTests)
Regression test for #13902: When using a ManyToMany in list_filter, ... ok
test_no_exists_for_m2m_in_list_filter_without_params (admin_changelist.tests.ChangeListTests)
If a ManyToManyField is in list_filter but isn't in any lookup params, ... ok
test_no_list_display_links (admin_changelist.tests.ChangeListTests)
#15185 -- Allow no links from the 'change list' view grid. ... ok
test_object_tools_displayed_no_add_permission (admin_changelist.tests.ChangeListTests)
When ModelAdmin.has_add_permission() returns False, the object-tools ... ok
test_pagination (admin_changelist.tests.ChangeListTests)
Regression tests for #12893: Pagination in admins changelist doesn't ... ok
test_pagination_page_range (admin_changelist.tests.ChangeListTests)
Regression tests for ticket #15653: ensure the number of pages ... ok
test_pk_in_search_fields (admin_changelist.tests.ChangeListTests) ... ERROR
test_related_field_multiple_search_terms (admin_changelist.tests.ChangeListTests)
Searches over multi-valued relationships return rows from related ... ERROR
test_repr (admin_changelist.tests.ChangeListTests) ... ok
test_result_list_editable (admin_changelist.tests.ChangeListTests)
Regression test for #14312: list_editable with pagination ... ok
test_result_list_editable_html (admin_changelist.tests.ChangeListTests)
Regression tests for #11791: Inclusion tag result_list generates a ... ok
test_result_list_empty_changelist_value (admin_changelist.tests.ChangeListTests)
Regression test for #14982: EMPTY_CHANGELIST_VALUE should be honored ... ok
test_result_list_html (admin_changelist.tests.ChangeListTests)
Inclusion tag result_list generates a table when with default ... ok
test_result_list_set_empty_value_display_in_model_admin (admin_changelist.tests.ChangeListTests)
Empty value display can be set in ModelAdmin or individual fields. ... ok
test_result_list_set_empty_value_display_on_admin_site (admin_changelist.tests.ChangeListTests)
Empty value display can be set on AdminSite. ... ok
test_search_help_text (admin_changelist.tests.ChangeListTests) ... ok
test_select_related_as_empty_tuple (admin_changelist.tests.ChangeListTests) ... ok
test_select_related_as_tuple (admin_changelist.tests.ChangeListTests) ... ok
test_select_related_preserved (admin_changelist.tests.ChangeListTests)
Regression test for #10348: ChangeList.get_queryset() shouldn't ... ok
test_select_related_preserved_when_multi_valued_in_search_fields (admin_changelist.tests.ChangeListTests) ... ERROR
test_show_all (admin_changelist.tests.ChangeListTests) ... ok
test_spanning_relations_with_custom_lookup_in_search_fields (admin_changelist.tests.ChangeListTests) ... ERROR
test_specified_ordering_by_f_expression (admin_changelist.tests.ChangeListTests) ... ok
test_specified_ordering_by_f_expression_without_asc_desc (admin_changelist.tests.ChangeListTests) ... ok
test_total_ordering_optimization (admin_changelist.tests.ChangeListTests) ... ok
test_total_ordering_optimization_meta_constraints (admin_changelist.tests.ChangeListTests) ... ok
test_tuple_list_display (admin_changelist.tests.ChangeListTests) ... ok
test_custom_user_pk_not_named_id (admin_changelist.tests.GetAdminLogTests)
{% get_admin_log %} works if the user model's primary key isn't named ... ok
test_missing_args (admin_changelist.tests.GetAdminLogTests) ... ok
test_no_user (admin_changelist.tests.GetAdminLogTests)
{% get_admin_log %} works without specifying a user. ... ok
test_non_integer_limit (admin_changelist.tests.GetAdminLogTests) ... ok
test_without_as (admin_changelist.tests.GetAdminLogTests) ... ok
test_without_for_user (admin_changelist.tests.GetAdminLogTests) ... ok
test_actions_warn_on_pending_edits (admin_changelist.tests.SeleniumTests) ... skipped 'No browsers specified.'
test_add_row_selection (admin_changelist.tests.SeleniumTests)
The status line for selected rows gets updated correctly (#22038). ... skipped 'No browsers specified.'
test_modifier_allows_multiple_section (admin_changelist.tests.SeleniumTests)
Selecting a row and then selecting another row whilst holding shift ... skipped 'No browsers specified.'
test_save_with_changes_warns_on_pending_action (admin_changelist.tests.SeleniumTests) ... skipped 'No browsers specified.'
test_save_without_changes_warns_on_pending_action (admin_changelist.tests.SeleniumTests) ... skipped 'No browsers specified.'
test_select_all_across_pages (admin_changelist.tests.SeleniumTests) ... skipped 'No browsers specified.'

======================================================================
ERROR: test_builtin_lookup_in_search_fields (admin_changelist.tests.ChangeListTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 629, in test_builtin_lookup_in_search_fields
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_clear_all_filters_link (admin_changelist.tests.ChangeListTests) (data={'is_staff__exact': '0', 'q': 'test'})
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 872, in test_clear_all_filters_link
    response = self.client.get(url, data=data)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 747, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 396, in get
    return self.generic('GET', path, secure=secure, **{
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 473, in generic
    return self.request(**r)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 721, in request
    self.check_exception(response)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 582, in check_exception
    raise exc_value
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 622, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/utils/decorators.py", line 130, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/views/decorators/cache.py", line 56, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/sites.py", line 236, in inner
    return view(request, *args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/utils/decorators.py", line 43, in _wrapper
    return bound_method(*args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/utils/decorators.py", line 130, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1717, in changelist_view
    cl = self.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_custom_lookup_in_search_fields (admin_changelist.tests.ChangeListTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 646, in test_custom_lookup_in_search_fields
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_custom_lookup_with_pk_shortcut (admin_changelist.tests.ChangeListTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 686, in test_custom_lookup_with_pk_shortcut
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_many_search_terms (admin_changelist.tests.ChangeListTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 165, in test_many_search_terms
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Duo Concert')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 581, in test_multiple_search_fields
    concert_changelist = concert_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Tiny Desk Concert')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 581, in test_multiple_search_fields
    concert_changelist = concert_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Concert')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 581, in test_multiple_search_fields
    concert_changelist = concert_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Other Concert')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 581, in test_multiple_search_fields
    concert_changelist = concert_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Duo Woodstock')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 581, in test_multiple_search_fields
    concert_changelist = concert_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Finlayson Duo Tiny')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 600, in test_multiple_search_fields
    group_changelist = group_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Finlayson')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 600, in test_multiple_search_fields
    group_changelist = group_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Finlayson Hype')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 600, in test_multiple_search_fields
    group_changelist = group_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Jonathan Finlayson Duo')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 600, in test_multiple_search_fields
    group_changelist = group_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Mary Jonathan Duo')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 600, in test_multiple_search_fields
    group_changelist = group_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_multiple_search_fields (admin_changelist.tests.ChangeListTests) (search_string='Oscar Finlayson Duo')
All rows containing each of the searched words are returned, where each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 600, in test_multiple_search_fields
    group_changelist = group_model_admin.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_no_clear_all_filters_link (admin_changelist.tests.ChangeListTests) (data={'q': 'test'})
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 909, in test_no_clear_all_filters_link
    response = self.client.get(url, data=data)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 747, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 396, in get
    return self.generic('GET', path, secure=secure, **{
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 473, in generic
    return self.request(**r)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 721, in request
    self.check_exception(response)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/test/client.py", line 582, in check_exception
    raise exc_value
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 622, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/utils/decorators.py", line 130, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/views/decorators/cache.py", line 56, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/sites.py", line 236, in inner
    return view(request, *args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/utils/decorators.py", line 43, in _wrapper
    return bound_method(*args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/utils/decorators.py", line 130, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1717, in changelist_view
    cl = self.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_no_duplicates_for_many_to_many_at_second_level_in_search_fields (admin_changelist.tests.ChangeListTests)
When using a ManyToMany in search_fields at the second level behind a
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 544, in test_no_duplicates_for_many_to_many_at_second_level_in_search_fields
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_no_duplicates_for_non_unique_related_object_in_search_fields (admin_changelist.tests.ChangeListTests)
Regressions tests for #15819: If a field listed in search_fields
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 520, in test_no_duplicates_for_non_unique_related_object_in_search_fields
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_pk_in_search_fields (admin_changelist.tests.ChangeListTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 612, in test_pk_in_search_fields
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_related_field_multiple_search_terms (admin_changelist.tests.ChangeListTests)
Searches over multi-valued relationships return rows from related
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 184, in test_related_field_multiple_search_terms
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_select_related_preserved_when_multi_valued_in_search_fields (admin_changelist.tests.ChangeListTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 123, in test_select_related_preserved_when_multi_valued_in_search_fields
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

======================================================================
ERROR: test_spanning_relations_with_custom_lookup_in_search_fields (admin_changelist.tests.ChangeListTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-15022/tests/admin_changelist/tests.py", line 667, in test_spanning_relations_with_custom_lookup_in_search_fields
    cl = m.get_changelist_instance(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 742, in get_changelist_instance
    return ChangeList(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 100, in __init__
    self.queryset = self.get_queryset(request)
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/views/main.py", line 486, in get_queryset
    qs, search_may_have_duplicates = self.model_admin.get_search_results(
  File "/data/swe-fl/TMP/testbed/django__django-15022/django/contrib/admin/options.py", line 1000, in get_search_results
    filtered_query = filtered_query.filter(reduce(operator.or_, or_queries))
NameError: name 'reduce' is not defined

----------------------------------------------------------------------
Ran 69 tests in 1.042s

FAILED (errors=23, skipped=6)
Destroying test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...

ERROR conda.cli.main_run:execute(125): `conda run ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 admin_changelist.admin admin_changelist.tests` failed. (See above for error)

