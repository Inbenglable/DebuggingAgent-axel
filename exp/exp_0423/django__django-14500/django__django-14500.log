2025-04-23 21:18:05.358 | INFO     | swe_log:log_and_print:77 - ['test_migrate_marks_replacement_unapplied (migrations.test_executor.ExecutorTests)']
2025-04-23 21:18:05.358 | INFO     | swe_log:log_and_print:77 - python -m pip install -e .
2025-04-23 21:18:05.359 | INFO     | swe_log:log_and_print:77 - ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 migrations.test_executor
2025-04-23 21:18:05.359 | INFO     | swe_log:log_and_print:77 - /data/swe-fl/TMP/testbed/django__django-14500
2025-04-23 21:18:05.580 | INFO     | swe_log:log_msg:72 - Remove exist testbed_path: /data/swe-fl/TMP/testbed/django__django-14500
2025-04-23 21:18:16.720 | INFO     | swe_log:log_msg:72 - Setup testbed environment: django__django-14500
2025-04-23 21:18:16.721 | INFO     | swe_log:log_msg:72 - cd /data/swe-fl/TMP/testbed/django__django-14500 && source /root/miniforge3/bin/activate django__django__4.0            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-14500           && python -m pip install -e . && echo SUCCESS
2025-04-23 21:18:16.721 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-14500 && source /root/miniforge3/bin/activate django__django__4.0            && cd /data/swe-fl/SRC/pysnooper_axel/dbgsnooper && python -m pip install -e . && cd /data/swe-fl/TMP/testbed/django__django-14500           && python -m pip install -e . && echo SUCCESS
2025-04-23 21:18:23.266 | INFO     | swe_log:log_msg:72 - Setup testbed: Done
2025-04-23 21:18:23.304 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-14500 &&                                 source /root/miniforge3/bin/activate django__django__4.0 && python reproduce.py
2025-04-23 21:18:24.057 | INFO     | swe_log:log_and_print:77 - gen_debugging_test
2025-04-23 21:18:35.851 | INFO     | swe_log:log_and_print:77 - Query time: 11.79 seconds
2025-04-23 21:18:43.522 | INFO     | swe_log:log_and_print:77 - Query time: 5.96 seconds
2025-04-23 21:18:43.525 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 1
2025-04-23 21:18:43.526 | INFO     | swe_log:log_and_print:77 - choose method: django/db/migrations/recorder.py:MigrationRecorder.record_unapplied
2025-04-23 21:19:21.814 | INFO     | swe_log:log_and_print:77 - Query time: 37.01 seconds
2025-04-23 21:19:21.817 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Invalid trace reply format.
Retrying..(1/5)
2025-04-23 21:19:48.751 | INFO     | swe_log:log_and_print:77 - Query time: 26.93 seconds
2025-04-23 21:19:48.753 | INFO     | swe_log:log_and_print:77 - Error occurred when querying model.
Exception occurs when scope choosing: Line range 0-100 is out of bounds for file /data/swe-fl/TMP/testbed/django__django-14500/django/db/migrations/executor.py with 373 lines.
Retrying..(2/5)
2025-04-23 21:19:54.190 | INFO     | swe_log:log_and_print:77 - Query time: 5.44 seconds
2025-04-23 21:19:54.192 | INFO     | swe_log:log_and_print:77 - choose scope: django/db/migrations/recorder.py:89-92
2025-04-23 21:19:59.760 | INFO     | swe_log:log_and_print:77 - Query time: 4.24 seconds
2025-04-23 21:19:59.762 | INFO     | swe_log:log_and_print:77 - deep_dive_debugging depth: 2
2025-04-23 21:19:59.763 | INFO     | swe_log:log_and_print:77 - choose buggy method: django/db/migrations/recorder.py:MigrationRecorder.record_unapplied
2025-04-23 21:19:59.763 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-14500 &&                                 source /root/miniforge3/bin/activate django__django__4.0 && python /data/swe-fl/TMP/testbed/django__django-14500/debugging_test.py
2025-04-23 21:20:03.087 | INFO     | swe_log:log_and_print:77 - Query time: 2.90 seconds
2025-04-23 21:20:03.089 | INFO     | swe_log:log_and_print:77 - API call 1/2
2025-04-23 21:20:11.329 | INFO     | swe_log:log_and_print:77 - Query time: 8.24 seconds
2025-04-23 21:20:11.332 | INFO     | swe_log:log_and_print:77 - API call 2/2
2025-04-23 21:20:15.755 | INFO     | swe_log:log_and_print:77 - Query time: 4.42 seconds
2025-04-23 21:20:20.827 | INFO     | swe_log:log_and_print:77 - Query time: 5.04 seconds
2025-04-23 21:20:20.830 | INFO     | swe_log:log_and_print:77 - fuzzy search matched and replaced
2025-04-23 21:20:20.830 | INFO     | swe_log:log_msg:72 - Created backup at /data/swe-fl/TMP/testbed/django__django-14500/django/db/migrations/recorder.py.bak
2025-04-23 21:20:20.831 | INFO     | swe_log:log_msg:72 - Applied 1 edits to django/db/migrations/recorder.py
2025-04-23 21:20:20.831 | INFO     | swe_log:log_and_print:77 - cd /data/swe-fl/TMP/testbed/django__django-14500 &&                                 source /root/miniforge3/bin/activate django__django__4.0 && python /data/swe-fl/TMP/testbed/django__django-14500/debugging_test.py
2025-04-23 21:20:21.211 | INFO     | swe_log:log_msg:72 - CMD exec failed:
2025-04-23 21:20:21.212 | INFO     | swe_log:log_msg:72 - Initial state:
Applied migrations: {('testapp', '0001_initial'): <Migration: Migration 0001_initial for testapp>, ('testapp', '0002_change'): <Migration: Migration 0002_change for testapp>}

After recording squashed migration:
Applied migrations: {('testapp', '0001_initial'): <Migration: Migration 0001_initial for testapp>, ('testapp', '0002_change'): <Migration: Migration 0002_change for testapp>, ('testapp', '0001_squashed_0002'): <Migration: Migration 0001_squashed_0002 for testapp>}

2025-04-23 21:20:21.212 | INFO     | swe_log:log_msg:72 - STDERR:
2025-04-23 21:20:21.212 | INFO     | swe_log:log_msg:72 - Traceback (most recent call last):
  File "/data/swe-fl/TMP/testbed/django__django-14500/debugging_test.py", line 55, in <module>
    recorder.record_unapplied('testapp', '0002_change')
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/migrations/recorder.py", line 95, in record_unapplied
    for squashed_migration in self.migration_qs.filter(app=app, replaced_migrations__contains=name).values_list('name', flat=True):
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/models/query.py", line 962, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/models/query.py", line 980, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/models/query.py", line 987, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/models/sql/query.py", line 1375, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/models/sql/query.py", line 1394, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/models/sql/query.py", line 1269, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/models/sql/query.py", line 1098, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "/data/swe-fl/TMP/testbed/django__django-14500/django/db/models/sql/query.py", line 1520, in names_to_path
    raise FieldError("Cannot resolve keyword '%s' into field. "
django.core.exceptions.FieldError: Cannot resolve keyword 'replaced_migrations' into field. Choices are: app, applied, id, name

2025-04-23 21:20:27.203 | INFO     | swe_log:log_and_print:77 - Query time: 5.97 seconds
2025-04-23 21:20:27.206 | INFO     | swe_log:log_and_print:77 - Debugging process completed successfully. Start evaluation
