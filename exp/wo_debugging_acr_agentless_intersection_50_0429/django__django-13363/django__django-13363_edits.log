### django/db/models/functions/datetime.py
<<<<<<< SEARCH
        tzname = timezone.get_current_timezone_name() if settings.USE_TZ else None
        sql = connection.ops.datetime_cast_date_sql(lhs, tzname)
=======
        tzname = self.tzinfo.tzname(None) if self.tzinfo else (timezone.get_current_timezone_name() if settings.USE_TZ else None)
        sql = connection.ops.datetime_cast_date_sql(lhs, tzname)
>>>>>>> REPLACE

### django/db/models/functions/datetime.py
<<<<<<< SEARCH
        tzname = timezone.get_current_timezone_name() if settings.USE_TZ else None
        sql = connection.ops.datetime_cast_time_sql(lhs, tzname)
=======
        tzname = self.tzinfo.tzname(None) if self.tzinfo else (timezone.get_current_timezone_name() if settings.USE_TZ else None)
        sql = connection.ops.datetime_cast_time_sql(lhs, tzname)
>>>>>>> REPLACE
